!
    function() {
        var d; (d = {},
            function(i, e) {
                var t, n, a, r = i ? e ? "is" + e + "IE" + i: "isIE" + i: "isIE",
                    o = d[r];
                return void 0 !== o ? o: (i ? (t = navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:|Edge\/)(\d+)/)) ? (n = parseInt(t[1]), o = e ? "lt" === e ? n < i: "gt" === e ? i < n: void 0 : n === i) : i <= 9 && ((a = document.createElement("b")).innerHTML = "\x3c!--[if " + (e || "") + " IE " + i + "]><i></i><![endif]--\x3e", o = 1 === a.getElementsByTagName("i").length) : o = -1 !== navigator.userAgent.indexOf("MSIE") || -1 < navigator.appVersion.indexOf("Trident/"), d[r] = o)
            })(11, "lt") && -1 === document.cookie.indexOf("ie_compatibility_hide=") && (location.href = "/ie_compatibility")
    } ();
window.OSCRequire = {
    module: {},
    base: {},
    page: {
        define: null
    },
    stringUtil: {
        isNull: function(e) {
            return ! ("string" == typeof e && e && e.replace(/(^\s*)|(\s*$)/g, ""))
        }
    },
    fetchBase: function(e) {
        if ("function" == typeof this.base[e]) {
            var t = this.base[e].apply(Object);
            this.base[e] = "function" == typeof t ? new t: t
        }
        return this.base[e]
    },
    buildModule: function(e, t, n) {
        var i, r, u, o = this.stringUtil,
            a = {
                require: null,
                target: null
            };
        if (!o.isNull(e) && n instanceof Function) {
            if (a.target = n, t instanceof Array) {
                for (r in i = [], t) {
                    if (u = t[r], o.isNull(u) || !this.base.hasOwnProperty(u)) throw new Error("依赖参数错误!");
                    i.push(u)
                }
                i.length && (a.require = i)
            }
            this.module[e] = a
        }
    },
    initPage: function() {
        var e, t, n, i, r, u, o = document.querySelector("[data-define]") || document.querySelector("x-foo-define");
        for (o instanceof HTMLElement && (this.page.define = o.getAttribute("data-define")), e = null, n = t = "", r = 0, u = (i = document.querySelectorAll("val")).length; r < u; ++r)(e = i[r]) instanceof HTMLElement && (t = e.getAttribute("data-name"), n = e.getAttribute("data-value"), t && ("true" !== n && "false" !== n || (n = "true" === n), this.page[t] = n));
        return this.page
    },
    initModule: function(e, t) {
        var n, i, r = [];
        if ("function" != typeof e) throw new Error("非法模块调用!");
        if (Array.isArray(t) && 0 < t.length) for (n in t) i = t[n],
            r.push(this.fetchBase(i));
        return new(e.apply(Object, r))
    }
},
    window.OSCDefine = function() {
        var e, t, n, i, r, u = arguments,
            o = u.length;
        2 <= o && (n = u[0], i = u[1], r = 3 === o ? u[2] : null, i instanceof Function && (e = i), r instanceof Function && (e = r), i instanceof Array && (t = i), OSCRequire.stringUtil.isNull(n) || OSCRequire.buildModule(n, t, e))
    },
    window.OSCPlugin = function(e, t) {
        "string" == typeof e && /^object|function$/.test(typeof t) && "" !== e && void 0 === OSCRequire.base[e] && (OSCRequire.base[e] = t)
    }; !
    function(a, t) {
        var e = "暂没有未读消息",
            s = "未读消息",
            n = 24e4,
            o = function() {
                this._timer = null,
                    this._totalCountTransitionTimer = null,
                    this._messageEl = a("#message"),
                    this._messageTotalCountEl = this._messageEl.find(".total-count"),
                    this._messageHeaderEl = this._messageEl.find(".message-header"),
                    this._messageActionWrap = this._messageEl.find(".action"),
                    this._messageMarkReadAllEl = this._messageEl.find(".mark-read-all")
            };
        o.prototype.init = function() {
            this._messageEl.dropdown({
                on: "hover"
            }),
                this.bindMarkReadAll();
            var t = this.getPageMsgCountData();
            this.setAll(t)
        },
            o.prototype.markReadAll = function() {
                var e = this;
                a.post(page.space_user_url + "/msg/updateReadStatu", {
                        userId: page.g_user_id
                    },
                    function(t) {
                        1 === t.code ? (e.setAll({
                            totalMsgCount: 0
                        }), "space-admin-inbox" !== page.define && "space-admin-msgs" !== page.define || (a(".messages-wrap").find(".private-message.un-read").removeClass("un-read"), a("body").toast({
                            type: "success",
                            content: "成功设置全部已读"
                        }))) : a("body").toast({
                            type: "error",
                            content: "网络错误，请稍后再试"
                        })
                    })
            },
            o.prototype.bindMarkReadAll = function() {
                var e = this;
                this._messageEl.on("click", ".mark-read-all",
                    function(t) {
                        t.stopPropagation(),
                            e.markReadAll()
                    })
            },
            o.prototype.getPageMsgCountData = function() {
                return {
                    totalMsgCount: parseInt(page.g_unread_msg_total_count),
                    fansCount: parseInt(page.g_unread_msg_fans_count),
                    privateMsgCount: parseInt(page.g_unread_msg_private_count),
                    repliesCount: parseInt(page.g_unread_msg_reply_count),
                    refMeCount: parseInt(page.g_unread_msg_ref_count)
                }
            },
            o.prototype.setAll = function(t) {
                this.setMsgTotalCount(t),
                    this.setMsgHeader(t),
                    this.setMsgList(t),
                    this.setMsgMarkReadAll(t),
                    this.setSpaceAdminSidebar(t)
            },
            o.prototype.setMsgTotalCount = function(t) {
                var e = this,
                    s = void 0 === t ? 0 : t.totalMsgCount || 0;
                e._messageTotalCountEl.html(s),
                    0 < s ? (e._messageTotalCountEl.show(), e._totalCountTransitionTimer && (clearInterval(e._totalCountTransitionTimer), e._totalCountTransitionTimer = null), e._totalCountTransitionTimer = setInterval(function() {
                            e._messageTotalCountEl.transition("flash")
                        },
                        4e3)) : (clearInterval(e._totalCountTransitionTimer), e._totalCountTransitionTimer = null, e._messageTotalCountEl.transition("hide"))
            },
            o.prototype.setMsgHeader = function(t) {
                0 < (void 0 === t ? 0 : t.totalMsgCount || 0) ? this._messageHeaderEl.html(s) : this._messageHeaderEl.html(e)
            },
            o.prototype.setMsgList = function(t) {
                var e, s;
                if (!t) return ! 1;
                e = t.totalMsgCount || 0,
                    this._messageEl.find(".message-item").remove(),
                0 < e && (s = "", 0 < t.fansCount && (s += page.g_unread_msg_fans_tpl.replace("{{fansCount}}", t.fansCount)), 0 < t.privateMsgCount && (s += page.g_unread_msg_private_tpl.replace("{{privateMsgCount}}", t.privateMsgCount)), 0 < t.repliesCount && (s += page.g_unread_msg_reply_tpl.replace("{{repliesCount}}", t.repliesCount)), 0 < t.refMeCount && (s += page.g_unread_msg_ref_tpl.replace("{{refMeCount}}", t.refMeCount)), this._messageActionWrap.before(s))
            },
            o.prototype.setMsgMarkReadAll = function(t) {
                0 < (void 0 === t ? 0 : t.totalMsgCount || 0) ? this._messageMarkReadAllEl.show() : this._messageMarkReadAllEl.hide()
            },
            o.prototype.setSpaceAdminSidebar = function(t) {
                var e, s = page.define || ""; - 1 < s.indexOf("space-admin") && (0 < (e = void 0 === t ? 0 : t.privateMsgCount || 0) ? a(".un-read-count-label").text(e).show() : a(".un-read-count-label").hide())
            },
            o.prototype.fetchMsgCount = function() {
                var s = this;
                a.post(page.space_user_url + "/msg/findAllMsgCount", {
                        user_code: page.g_user_code,
                        userId: page.g_user_id
                    },
                    function(t, e) {
                        1 === t.code && t.result && s.setAll(t.result)
                    })
            },
            o.prototype.startPolling = function() {
                this._timer && (clearInterval(this._timer), this._timer = null);
                var t = this;
                this._timer = setInterval(function() {
                        t.fetchMsgCount()
                    },
                    n)
            },
            o.prototype.stopPolling = function() {
                this._timer && (clearInterval(this._timer), this._timer = null)
            },
            t.OSCPollingMsg = o
    } (window.jQuery || window.$, window); !
    function(a, t) {
        a.fn.toast = function(t) {
            var o = a(this),
                n = {
                    type: "success",
                    position: "fixed",
                    duration: 3e3,
                    animateDuration: 1e3,
                    content: "提示",
                    top: "50%",
                    left: "50%",
                    zIndex: 1002,
                    closePrev: !0
                },
                e = a.extend(n, t || {}),
                i = function() {
                    var t, n, i = e.content || "";
                    0 === e.duration && (i += '<i class="close icon close-btn"></i>'),
                    e.closePrev && a(".cpt-toast").remove(),
                        t = -1 < ["info", "success", "positive", "error", "negative", "warning"].indexOf(e.type) ? e.type: "info",
                        (n = a("<div class='ui " + t + " message compact transition cpt-toast'></div>").css({
                            position: e.position,
                            top: e.top,
                            left: e.left,
                            "z-index": e.zIndex,
                            "-webkit-transform": "translate3d(-50%, -50%, 0)",
                            "-moz-transform": "translate3d(-50%, -50%, 0)",
                            transform: "translate3d(-50%, -50%, 0)",
                            "-webkit-animation-duration": e.animateDuration / 1e3 + "s",
                            "-moz-animation-duration": e.animateDuration / 1e3 + "s",
                            "animation-duration": e.animateDuration / 1e3 + "s"
                        }).html(i)).appendTo(o),
                        n.fadeIn("this",
                            function() {
                                0 === e.duration && n.find(".close-btn").on("click",
                                    function() {
                                        n.fadeOut(400,
                                            function() {
                                                n.remove()
                                            })
                                    })
                            }),
                    0 < e.duration && setTimeout(function() {
                            n.fadeOut(400,
                                function() {
                                    a(this).remove()
                                })
                        },
                        e.duration)
                };
            i()
        }
    } (jQuery, window); !
    function(u) {
        u.common = {
            dynamicLoader: function() {
                function l(e, t, n, i, r) {
                    function o(e, t) {
                        return null != e && null != t && -1 !== e.indexOf(t, e.length - t.length)
                    }
                    var a, c = this,
                        s = !1 !== i;
                    for (this.log = function(e) {},
                             this.getFileName = function(e) {
                                 var t = u.__STATIC_DOMAIN || "";
                                 return /^http(s?):\/\//.test(e) || (e = t + e),
                                 s || ( - 1 === e.indexOf("?") ? e += "?no_cache=" + (new Date).getTime() : e += "&no_cache=" + (new Date).getTime()),
                                     e
                             },
                             this.execStyleCallback = function() {
                                 "function" == typeof n && n()
                             },
                             this.execScriptCallback = function() {
                                 "function" == typeof t && t()
                             },
                             this.loadStyle = function(e) {
                                 function t() {
                                     e + 1 < c._css_files.length ? c.loadStyle(e + 1) : c.execStyleCallback()
                                 }
                                 function n() {
                                     r || (r = !0, s && c.cssCacheList.push(o), c.log('Loaded style "' + o + '".'), t())
                                 }
                                 var i, r, o = c._css_files[e];
                                 if (s && -1 !== c.cssCacheList.indexOf(o)) return c.log('Skip style file "' + o + '" cached.'),
                                     void t();
                                 i = document.createElement("link"),
                                     r = !1,
                                     i.rel = "stylesheet",
                                     i.type = "text/css",
                                     i.href = c.getFileName(o),
                                     i.onload = n,
                                     i.onreadystatechange = function() {
                                         r || "complete" !== i.readyState || n()
                                     },
                                     i.onerror = function() {
                                         r || (r = !0, c.log('Error loading style "' + o + '".'), t())
                                     },
                                     c.log("Loading style " + o),
                                     c._head.appendChild(i)
                             },
                             this.loadScript = function(e) {
                                 function t() {
                                     e + 1 < c._js_files.length ? c.loadScript(e + 1) : c.execScriptCallback()
                                 }
                                 function n() {
                                     r || (r = !0, s && c.scriptCacheList.push(o), c.log('Loaded script "' + o + '".'), t())
                                 }
                                 var i, r, o = c._js_files[e];
                                 if (s && -1 !== c.scriptCacheList.indexOf(o)) return c.log('Skip script file "' + o + '" cached.'),
                                     void t();
                                 i = document.createElement("script"),
                                     r = !1,
                                     i.type = "text/javascript",
                                     i.src = c.getFileName(o),
                                     i.onload = n,
                                     i.onreadystatechange = function() {
                                         r || "complete" !== i.readyState || n()
                                     },
                                     i.onerror = function() {
                                         r || (r = !0, c.log('Error loading script "' + o + '".'), t())
                                     },
                                     c.log('Loading script "' + o + '".'),
                                     c._head.appendChild(i)
                             },
                             this.loadFiles = function() {
                                 0 < c._css_files.length && c.loadStyle(0),
                                 0 < c._js_files.length && c.loadScript(0)
                             },
                             this.cssCacheList = l.cssCacheList, this.scriptCacheList = l.scriptCacheList, this._js_files = [], this._css_files = [], this._head = document.getElementsByTagName("head")[0], a = 0; a < e.length; ++a) o(e[a], ".css") || o(e[a].split("?")[0], ".css") ? this._css_files.push(e[a]) : o(e[a], ".js") || o(e[a].split("?")[0], ".js") ? this._js_files.push(e[a]) : this.log('Error unknown filetype "' + e[a] + '".')
                }
                return l.cssCacheList = [],
                    l.scriptCacheList = [],
                    l
            } (),
            throttle: function(n, i, r) {
                var o, a, c, s, l = Date.now ||
                    function() {
                        return (new Date).getTime()
                    },
                    u = null,
                    f = 0;
                return r || (r = {}),
                    s = function() {
                        f = !1 === r.leading ? 0 : l(),
                            u = null,
                            c = n.apply(o, a),
                        u || (o = a = null)
                    },
                    function() {
                        var e, t = l();
                        return f || !1 !== r.leading || (f = t),
                            o = this,
                            a = arguments,
                            (e = i - (t - f)) <= 0 || i < e ? (clearTimeout(u), u = null, f = t, c = n.apply(o, a), u || (o = a = null)) : u || !1 === r.trailing || (u = setTimeout(s, e)),
                            c
                    }
            },
            getImagesBySizeFilter: function(e, t) {
                var n, i, r, o, a = [],
                    c = $(e);
                for (n = 0; n < c.length; n++) i = c.eq(n),
                    r = parseInt(i.css("width")),
                    o = parseInt(i.css("height")),
                i[0] && i[0].naturalWidth && (r = i[0].naturalWidth, o = i[0].naturalHeight),
                $.isFunction(t) && t(r, o) && a.push(i);
                return a
            },
            getWeChatShareImgUrl: function(e) {
                var n = [],
                    t = this.getImagesBySizeFilter(e,
                        function(e, t) {
                            return 300 <= e && 300 <= t
                        });
                return t.forEach(function(e) {
                    var t = e.attr("src");
                    /http(s?):\/\//.test(t) && n.push(t)
                }),
                    0 < n.length ? n[0] : ""
            },
            checkLogin: function() {
                if (page.g_user_code) return ! 0;
                var e = page.login_page ? '点击<a href="' + page.login_page + '" target="_blank">此处</a>': "请先";
                return $("body").toast({
                    type: "error",
                    content: "您还没有登录，" + e + "登录",
                    duration: 0
                }),
                    !1
            },
            checkPC: function() {
                var e, t = navigator.userAgent,
                    n = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"],
                    i = !0;
                for (e = 0; e < n.length; e++) if ( - 1 < t.indexOf(n[e])) {
                    i = !1;
                    break
                }
                return i
            },
            checkWeChat: function() {
                var e, t = navigator.userAgent,
                    n = ["MicroMessenger"],
                    i = !1;
                for (e = 0; e < n.length; e++) if ( - 1 < t.indexOf(n[e])) {
                    i = !0;
                    break
                }
                return i
            },
            formatNumberK: function(e) {
                var t, n = Number(e) || 0;
                return 1 <= n / 1e3 ? (t = (t = n / 1e3).toFixed(1), -1 < String(t).indexOf(".0") && (t = parseInt(t)), t + "K") : n
            },
            queryString: function(t) {
                return Object.keys(t).map(function(e) {
                    return e + "=" + t[e]
                }).join("&")
            },
            setCookie: function(e, t, n) {
                var i, r = "";
                n && ((i = new Date).setTime(i.getTime() + 864e5 * n), r = "; expires=" + i.toUTCString()),
                    document.cookie = e + "=" + (t || "") + r + "; path=/"
            },
            getCookie: function(e) {
                var t, n, i = e + "=",
                    r = document.cookie.split(";");
                for (t = 0; t < r.length; t++) {
                    for (n = r[t];
                         " " == n.charAt(0);) n = n.substring(1, n.length);
                    if (0 === n.indexOf(i)) return n.substring(i.length, n.length)
                }
                return null
            },
            eraseCookie: function(e) {
                document.cookie = e + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/"
            }
        },
            $(function() {
                if (u.page = u.OSCRequire.initPage(), page.define) {
                    var e = u.OSCRequire.module[page.define];
                    if (e instanceof Object) {
                        u.currentModule = u.OSCRequire.initModule(e.target, e.require);
                        try {
                            "function" == typeof currentModule.ready && currentModule.ready(),
                            "function" == typeof currentModule.register && currentModule.register()
                        } catch(e) {}
                    }
                }
            })
    } (window);
$(function() {
    var e, n, i, o, t, a, s, r, c = $("#headerNavMenu");
    c.find(".dropdown").dropdown(),
        $("#btnDownloadApp").popup({
            position: "right center",
            popup: $("#btnDownloadAppContent")
        }),
        (e = $("#mobileNavSidebar")).sidebar({
            dimPage: !0,
            transition: "overlay",
            mobileTransition: "overlay",
            useLegacy: !1,
            exclusive: !0
        }),
        e.sidebar("attach events", ".toggle-mobile-nav-sidebar"),
        (n = $("#mobileUserSidebar")).sidebar({
            dimPage: !0,
            transition: "overlay",
            mobileTransition: "overlay",
            useLegacy: !1,
            exclusive: !0
        }),
        n.sidebar("attach events", ".toggle-mobile-user-sidebar"),
        (i = $("#userSidebar")).sidebar({
            dimPage: !0,
            transition: "uncover",
            useLegacy: "auto",
            duration: 500,
            exclusive: !0
        }),
        $(".toggle-user-sidebar").on("click",
            function(e) {
                i.sidebar("toggle"),
                    e.preventDefault()
            }),
        o = $(".back-to-top"),
        (t = function() {
            200 < $(window).scrollTop() && 768 <= window.innerWidth ? o.fadeIn(100) : o.fadeOut(100)
        })(),
        window.addEventListener("scroll", window.common.throttle(t, 300), !1),
        $(document).on("click", ".back-to-top-toggle",
            function() {
                $("html, body").stop().animate({
                        scrollTop: 0
                    },
                    500, "swing")
            }),
        $(document).on("click", 'a[href*="#"]:not([href="#"]), area[href*="#"]',
            function() {
                var e, n, i;
                location.pathname.replace(/^\//, "") === this.pathname.replace(/^\//, "") && location.hostname === this.hostname && (e = (e = $(this.hash)).length && e || $('[name="' + this.hash.slice(1) + '"]')).length && (n = e.offset().top, i = parseInt(e.data("offset")) || 0, 0 < n - 80 && (n -= 80), isNaN(i) || (n += i), $("html, body").stop(!0).animate({
                        scrollTop: n
                    },
                    500, "swing"))
            }),
        $(document).on("click", ".logout-btn",
            function() {
                $.post(page.api_prefix + "/user/logout", {
                        session: page.g_user_code
                    },
                    function(e) {
                        200 === e.code ? ($("body").toast({
                            type: "success",
                            content: "退出成功"
                        }), setTimeout(function() {
                                location.reload()
                            },
                            0)) : $("body").toast({
                            type: "error",
                            content: e.message || "退出失败，请稍后再试"
                        })
                    }).fail(function() {
                    $("body").toast({
                        type: "error",
                        content: "网络错误，请稍后再试"
                    })
                })
            }),
        c.on("click", ".search-item .search.link.icon",
            function() {
                var e = $(this).parents(".search-item:eq(0)"),
                    n = e.find("input[name=q]").val().trim();
                0 < n.length && e.submit()
            }),
    window.name || (a = (a = $(location.hash)).length && a || $('[name="' + location.hash.slice(1) + '"]')).length && (s = a.offset().top, r = parseInt(a.data("offset")) || 0, 0 < s - 80 && (s -= 80), isNaN(r) || (s += r), $("html, body").stop(!0).animate({
            scrollTop: s
        },
        500, "swing"), window.name = "opened"),
    page.g_user && (window.pollingMsg = new OSCPollingMsg, pollingMsg.init(), pollingMsg.startPolling()),
        function() {
            var e, n = page.weixinAppId,
                i = page.weixinTimestamp,
                o = page.weixinNonceStr,
                t = page.weixinSignature;
            if (! (n && i && o && t)) return;
            e = {
                title: page.weixinShareTitle || document.title,
                desc: page.weixinShareDescription || $('meta[name="description"]').attr("content") || "",
                imgUrl: page.weixinShareImgUrl || "https://static.oschina.net/uploads/space/2017/0606/104418_CPLl_2733728.png",
                link: page.weixinShareUrl || location.href
            },
            page.beforeWeChatShareHook && "function" == typeof page.beforeWeChatShareHook && (e = page.beforeWeChatShareHook(e)),
                wx.config({
                    debug: !1,
                    appId: n,
                    timestamp: i,
                    nonceStr: o,
                    signature: t,
                    jsApiList: ["onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareWeibo", "onMenuShareQZone"]
                }),
                wx.ready(function() {
                    wx.onMenuShareTimeline({
                        title: e.title,
                        link: e.link,
                        imgUrl: e.imgUrl,
                        success: function() {},
                        cancel: function() {}
                    }),
                        wx.onMenuShareAppMessage({
                            title: e.title,
                            desc: e.desc,
                            link: e.link,
                            imgUrl: e.imgUrl,
                            type: "link",
                            dataUrl: "",
                            success: function() {},
                            cancel: function() {}
                        }),
                        wx.onMenuShareQQ({
                            title: e.title,
                            desc: e.desc,
                            link: e.link,
                            imgUrl: e.imgUrl,
                            success: function() {},
                            cancel: function() {}
                        }),
                        wx.onMenuShareWeibo({
                            title: e.title,
                            desc: e.desc,
                            link: e.link,
                            imgUrl: e.imgUrl,
                            success: function() {},
                            cancel: function() {}
                        }),
                        wx.onMenuShareQZone({
                            title: e.title,
                            desc: e.desc,
                            link: e.link,
                            imgUrl: e.imgUrl,
                            success: function() {},
                            cancel: function() {}
                        })
                })
        } (),
        $(document).on("click", "[check-login]",
            function(e) {
                if (window.common && window.common.checkLogin && !window.common.checkLogin()) return e.preventDefault(),
                    !1
            }),
        function() {
            if (!page.is_detail_page) return;
            new window.common.dynamicLoader(["/new-osc/js/utils/plugins/viewer/viewer.min.css", "/new-osc/js/utils/plugins/viewer/viewer.min.js", "/new-osc/js/utils/plugins/viewer/jquery-viewer.min.js"],
                function() {
                    window.common.getImagesBySizeFilter(".article-detail .content img:not(.ad-wrap img)",
                        function(e, n) {
                            return 200 <= e || 200 <= n
                        }).forEach(function(e) {
                        if (e.parent().is("a")) return ! 1;
                        e.addClass("zoom-in-cursor"),
                            e.viewer({
                                button: !0,
                                navbar: !1,
                                title: !1,
                                toolbar: !1,
                                zoomRatio: .2,
                                maxZoomRatio: 2,
                                viewed: function() {
                                    this.viewer.options.minZoomRatio = this.viewer.initialImageData.ratio
                                }
                            })
                    })
                }).loadFiles()
        } ()
}); !
    function(t) {
        var e, n, o, l, c, i, a, d, s = '<svg><symbol id="oicon-world" viewBox="0 0 1024 1024"><path d="M921.6 204.8h-1.024A510.464 510.464 0 0 0 512 0C229.696 0 0 229.696 0 512s229.696 512 512 512c167.04 0 315.072-80.64 408.576-204.8h1.024v-1.28C985.6 732.416 1024 626.816 1024 512s-38.4-220.416-102.4-305.92V204.8zM358.4 891.456A409.984 409.984 0 0 1 102.4 512c0-17.408 1.408-34.432 3.52-51.2H153.6l51.2 102.4v102.4L307.2 768l51.2 51.2v72.256zM512 921.6a408.32 408.32 0 0 1-96.448-11.904L460.8 819.2l51.2-102.4V614.4H409.6l-51.2-51.2h-51.2L256 460.8l51.2-102.4 51.2-51.2 51.2-51.2 51.2-102.4v-47.68c16.768-2.112 33.792-3.52 51.2-3.52a407.04 407.04 0 0 1 256 90.368V256l-51.2 102.4 51.2 51.2v51.2l-102.4 51.2-51.2 52.032 51.2 50.368 51.2 51.2 51.2 102.4 33.472 33.472A408.32 408.32 0 0 1 512 921.6z"  ></path></symbol><symbol id="oicon-setting" viewBox="0 0 1162 1024"><path d="M1055.479204 128.810127H442.676311c-10.415913-55.551537-57.287523-97.21519-116.311031-97.21519-57.287523 0-105.895118 41.663653-116.31103 97.21519H53.815552c-10.415913 0-19.095841 8.679928-19.095841 20.831826s8.679928 20.831826 20.831826 20.831826h156.238698c10.415913 55.551537 57.287523 97.21519 116.311031 97.21519 57.287523 0 105.895118-41.663653 116.311031-97.21519h611.066907c12.151899 0 20.831826-8.679928 20.831827-20.831826s-8.679928-20.831826-20.831827-20.831826zM328.101266 224.289331c-41.663653 0-76.383363-34.719711-76.383364-76.383364 0-41.663653 34.719711-76.383363 76.383364-76.383363 41.663653 0 76.383363 34.719711 76.383363 76.383363 0 41.663653-34.719711 76.383363-76.383363 76.383364zM1055.479204 840.564195H637.106691c-10.415913-55.551537-57.287523-97.21519-116.311031-97.21519-57.287523 0-105.895118 41.663653-116.311031 97.21519H55.551537c-12.151899 0-20.831826 8.679928-20.831826 20.831827s8.679928 20.831826 20.831826 20.831826h348.933092c10.415913 55.551537 57.287523 97.21519 116.311031 97.21519 57.287523 0 105.895118-41.663653 116.311031-97.21519H1055.479204c12.151899 0 20.831826-8.679928 20.831827-20.831826 0-10.415913-8.679928-20.831826-20.831827-20.831827z m-534.683544 97.21519c-41.663653 0-76.383363-34.719711-76.383363-76.383363 0-41.663653 34.719711-76.383363 76.383363-76.383364 41.663653 0 76.383363 34.719711 76.383364 76.383364-1.735986 41.663653-34.719711 76.383363-76.383364 76.383363zM1055.479204 484.687161h-67.703435c-10.415913-55.551537-57.287523-97.21519-116.311031-97.21519-57.287523 0-105.895118 41.663653-116.311031 97.21519H55.551537c-12.151899 0-20.831826 8.679928-20.831826 20.831826s8.679928 20.831826 20.831826 20.831827h699.60217c10.415913 55.551537 57.287523 97.21519 116.311031 97.21519 57.287523 0 105.895118-41.663653 116.311031-97.21519h67.703435c12.151899 0 20.831826-8.679928 20.831827-20.831827s-8.679928-20.831826-20.831827-20.831826z m-184.014466 97.21519c-41.663653 0-76.383363-34.719711-76.383364-76.383364 0-41.663653 34.719711-76.383363 76.383364-76.383363 41.663653 0 76.383363 34.719711 76.383363 76.383363 0 41.663653-34.719711 76.383363-76.383363 76.383364z"  ></path></symbol><symbol id="oicon-gitee" viewBox="0 0 1024 1024"><path d="M966.524718 400.672821H456.520205c-24.497231 0-44.347077 19.954872-44.347077 44.557128v133.540102c0 24.602256 19.849846 44.530872 44.347077 44.530872h288.295385c33.266872 0 44.320821 11.132718 44.347077 44.530872 0.026256 89.035487-50.884923 133.566359-133.041231 133.566359h-376.779487c-24.602256 0-44.530872-19.954872-44.530872-44.530872v-400.67282c0-73.780513 59.575795-133.592615 133.014974-133.592616h598.593641c24.470974 0 44.320821-19.928615 44.320821-44.504615V44.530872C1010.740513 19.928615 990.916923 0 966.419692 0H367.826051C171.979487 0 13.128205 159.455179 13.128205 356.168205v623.32718C13.128205 1004.045128 32.978051 1024 57.475282 1024h598.646154c196.187897 0 352.439795-170.325333 354.619077-367.327179 0.131282-11.106462 0.131282-200.33641 0.131282-211.442872a44.478359 44.478359 0 0 0-44.347077-44.530872z"  ></path></symbol><symbol id="oicon-trending" viewBox="0 0 1106 1024"><path d="M0 290.766798m55.308301 0l0 0q55.308301 0 55.3083 55.3083l0 608.391307q0 55.308301-55.3083 55.3083l0 0q-55.308301 0-55.308301-55.3083l0-608.391307q0-55.308301 55.308301-55.3083Z" fill="#F5A623" ></path><path d="M331.849803 14.225295m55.308301 0l0 0q55.308301 0 55.308301 55.3083l0 884.93281q0 55.308301-55.308301 55.3083l0 0q-55.308301 0-55.308301-55.3083l0-884.93281q0-55.308301 55.308301-55.3083Z" fill="#F5A623" opacity=".8" ></path><path d="M663.699607 401.383399m55.3083 0l0 0q55.308301 0 55.308301 55.3083l0 497.774706q0 55.308301-55.308301 55.3083l0 0q-55.308301 0-55.3083-55.3083l0-497.774706q0-55.308301 55.3083-55.3083Z" fill="#F5A623" opacity=".6" ></path><path d="M995.54941 124.841896m55.308301 0l0 0q55.308301 0 55.3083 55.308301l0 774.316208q0 55.308301-55.3083 55.3083l0 0q-55.308301 0-55.308301-55.3083l0-774.316208q0-55.308301 55.308301-55.308301Z" fill="#F5A623" opacity=".4" ></path></symbol></svg>';
        if ((e = document.getElementsByTagName("script"))[e.length - 1].getAttribute("data-injectcss") && !t.__oicon__svg__cssinject__) {
            t.__oicon__svg__cssinject__ = !0;
            try {
                document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")
            } catch(e) {
                console
            }
        }
        n = function() {
            var t, e, n, o, l, c; (t = document.createElement("div")).innerHTML = s,
                s = null,
            (e = t.getElementsByTagName("svg")[0]) && (e.setAttribute("aria-hidden", "true"), e.style.position = "absolute", e.style.width = 0, e.style.height = 0, e.style.overflow = "hidden", n = e, (o = document.body).firstChild ? (l = n, (c = o.firstChild).parentNode.insertBefore(l, c)) : o.appendChild(n))
        },
            document.addEventListener ? ~ ["complete", "loaded", "interactive"].indexOf(document.readyState) ? setTimeout(n, 0) : (o = function() {
                document.removeEventListener("DOMContentLoaded", o, !1),
                    n()
            },
                document.addEventListener("DOMContentLoaded", o, !1)) : document.attachEvent && (l = n, c = t.document, i = !1, a = function() {
                i || (i = !0, l())
            },
                (d = function() {
                    try {
                        c.documentElement.doScroll("left")
                    } catch(t) {
                        return void setTimeout(d, 50)
                    }
                    a()
                })(), c.onreadystatechange = function() {
                "complete" == c.readyState && (c.onreadystatechange = null, a())
            })
    } (window); !
    function(x) {
        function t(t, e, n) {
            return n = u(e, n),
                this.on("click.pjax", t,
                    function(t) {
                        var e = n;
                        e.container || ((e = x.extend({},
                            n)).container = x(this).attr("data-pjax")),
                            a(t, e)
                    })
        }
        function a(t, e, n) {
            var a, r, o, i, c;
            if (n = u(e, n), a = t.currentTarget, r = x(a), "A" !== a.tagName.toUpperCase()) throw "$.fn.pjax or $.pjax.click requires an anchor element";
            1 < t.which || t.metaKey || t.ctrlKey || t.shiftKey || t.altKey || location.protocol === a.protocol && location.hostname === a.hostname && ( - 1 < a.href.indexOf("#") && s(a) == s(location) || t.isDefaultPrevented() || (o = {
                url: a.href,
                container: r.attr("data-pjax"),
                target: a
            },
                i = x.extend({},
                    o, n), c = x.Event("pjax:click"), r.trigger(c, [i]), c.isDefaultPrevented() || (g(i), t.preventDefault(), r.trigger("pjax:clicked", [i]))))
        }
        function e(t, e, n) {
            var a, r, o;
            if (n = u(e, n), a = t.currentTarget, r = x(a), "FORM" !== a.tagName.toUpperCase()) throw "$.pjax.submit requires a form element";
            if ("GET" !== (o = {
                type: (r.attr("method") || "GET").toUpperCase(),
                url: r.attr("action"),
                container: r.attr("data-pjax"),
                target: a
            }).type && void 0 !== window.FormData) o.data = new FormData(a),
                o.processData = !1,
                o.contentType = !1;
            else {
                if (r.find(":file").length) return;
                o.data = r.serializeArray()
            }
            g(x.extend({},
                o, n)),
                t.preventDefault()
        }
        function g(d) {
            function f(t, e, n) {
                n || (n = {}),
                    n.relatedTarget = d.target;
                var a = x.Event(t, n);
                return m.trigger(a, e),
                    !a.isDefaultPrevented()
            }
            var h, t, m, a, e, n, r;
            if (d = x.extend(!0, {},
                x.ajaxSettings, g.defaults, d), x.isFunction(d.url) && (d.url = d.url()), h = w(d.url).hash, "string" !== (t = x.type(d.container))) throw "expected string value for 'container' option; got " + t;
            if (! (m = d.context = x(d.container)).length) throw "the container selector '" + d.container + "' did not match anything";
            return d.data || (d.data = {}),
                x.isArray(d.data) ? d.data.push({
                    name: "_pjax",
                    value: d.container
                }) : d.data._pjax = d.container,
                d.beforeSend = function(t, e) {
                    if ("GET" !== e.type && (e.timeout = 0), t.setRequestHeader("X-PJAX", "true"), t.setRequestHeader("X-PJAX-Container", d.container), !f("pjax:beforeSend", [t, e])) return ! 1;
                    0 < e.timeout && (a = setTimeout(function() {
                            f("pjax:timeout", [t, d]) && t.abort("timeout")
                        },
                        e.timeout), e.timeout = 0);
                    var n = w(e.url);
                    h && (n.hash = h),
                        d.requestUrl = l(n)
                },
                d.complete = function(t, e) {
                    a && clearTimeout(a),
                        f("pjax:complete", [t, e, d]),
                        f("pjax:end", [t, d])
                },
                d.error = function(t, e, n) {
                    var a = b("", t, d),
                        r = f("pjax:error", [t, e, n, d]);
                    "GET" == d.type && "abort" !== e && r && v(a.url)
                },
                d.success = function(t, e, n) {
                    var a, r, o, i, c = g.state,
                        s = "function" == typeof x.pjax.defaults.version ? x.pjax.defaults.version() : x.pjax.defaults.version,
                        u = n.getResponseHeader("X-PJAX-Version"),
                        l = b(t, n, d),
                        p = w(l.url);
                    if (h && (p.hash = h, l.url = p.href), s && u && s !== u) v(l.url);
                    else if (l.contents) {
                        if (g.state = {
                            id: d.id || y(),
                            url: l.url,
                            title: l.title,
                            container: d.container,
                            fragment: d.fragment,
                            timeout: d.timeout
                        },
                        (d.push || d.replace) && window.history.replaceState(g.state, l.title, l.url), x.contains(m, document.activeElement)) try {
                            document.activeElement.blur()
                        } catch(t) {}
                        l.title && (document.title = l.title),
                            f("pjax:beforeReplace", [l.contents, d], {
                                state: g.state,
                                previousState: c
                            }),
                            m.html(l.contents),
                        (a = m.find("input[autofocus], textarea[autofocus]").last()[0]) && document.activeElement !== a && a.focus(),
                            function(t) {
                                if (!t) return;
                                var r = x("script[src]");
                                t.each(function() {
                                    var t, e, n = this.src,
                                        a = r.filter(function() {
                                            return this.src === n
                                        });
                                    a.length || (t = document.createElement("script"), (e = x(this).attr("type")) && (t.type = e), t.src = x(this).attr("src"), document.head.appendChild(t))
                                })
                            } (l.scripts),
                            r = d.scrollTo,
                        h && (o = decodeURIComponent(h.slice(1)), (i = document.getElementById(o) || document.getElementsByName(o)[0]) && (r = x(i).offset().top)),
                        "number" == typeof r && x(window).scrollTop(r),
                            f("pjax:success", [t, e, n, d])
                    } else v(l.url)
                },
            g.state || (g.state = {
                id: y(),
                url: window.location.href,
                title: document.title,
                container: d.container,
                fragment: d.fragment,
                timeout: d.timeout
            },
                window.history.replaceState(g.state, document.title)),
                p(g.xhr),
                g.options = d,
            0 < (e = g.xhr = x.ajax(d)).readyState && (d.push && !d.replace && (n = g.state.id, r = [d.container, j(m)], E[n] = r, P.push(n), T(S, 0), T(P, g.defaults.maxCacheLength), window.history.pushState(null, "", d.requestUrl)), f("pjax:start", [e, d]), f("pjax:send", [e, d])),
                g.xhr
        }
        function n(t, e) {
            var n = {
                url: window.location.href,
                push: !1,
                replace: !0,
                scrollTo: !1
            };
            return g(x.extend(n, u(t, e)))
        }
        function v(t) {
            window.history.replaceState(null, "", g.state.url),
                window.location.replace(t)
        }
        function r(t) {
            var e, n, a, r, o, i, c, s, u, l;
            if (m || p(g.xhr), e = g.state, (n = t.state) && n.container) {
                if (m && C == n.url) return;
                if (e) {
                    if (e.id === n.id) return;
                    a = e.id < n.id ? "forward": "back"
                }
                o = (r = E[n.id] || [])[0] || n.container,
                    i = x(o),
                    c = r[1],
                    i.length ? (e &&
                    function(t, e, n) {
                        var a, r;
                        E[e] = n,
                            r = "forward" === t ? (a = P, S) : (a = S, P);
                        a.push(e),
                        (e = r.pop()) && delete E[e];
                        T(a, g.defaults.maxCacheLength)
                    } (a, e.id, [o, j(i)]), s = x.Event("pjax:popstate", {
                        state: n,
                        direction: a
                    }), i.trigger(s), u = {
                        id: n.id,
                        url: n.url,
                        container: o,
                        push: !1,
                        fragment: n.fragment,
                        timeout: n.timeout,
                        scrollTo: !1
                    },
                        c ? (i.trigger("pjax:start", [null, u]), (g.state = n).title && (document.title = n.title), l = x.Event("pjax:beforeReplace", {
                            state: n,
                            previousState: e
                        }), i.trigger(l, [c, u]), i.html(c), i.trigger("pjax:end", [null, u])) : g(u), i[0].offsetHeight) : v(location.href)
            }
            m = !1
        }
        function o(t) {
            var e, n, a = x.isFunction(t.url) ? t.url() : t.url,
                r = t.type ? t.type.toUpperCase() : "GET",
                o = x("<form>", {
                    method: "GET" === r ? "GET": "POST",
                    action: a,
                    style: "display:none"
                });
            if ("GET" !== r && "POST" !== r && o.append(x("<input>", {
                type: "hidden",
                name: "_method",
                value: r.toLowerCase()
            })), "string" == typeof(e = t.data)) x.each(e.split("&"),
                function(t, e) {
                    var n = e.split("=");
                    o.append(x("<input>", {
                        type: "hidden",
                        name: n[0],
                        value: n[1]
                    }))
                });
            else if (x.isArray(e)) x.each(e,
                function(t, e) {
                    o.append(x("<input>", {
                        type: "hidden",
                        name: e.name,
                        value: e.value
                    }))
                });
            else if ("object" == typeof e) for (n in e) o.append(x("<input>", {
                type: "hidden",
                name: n,
                value: e[n]
            }));
            x(document.body).append(o),
                o.submit()
        }
        function p(t) {
            t && t.readyState < 4 && (t.onreadystatechange = x.noop, t.abort())
        }
        function y() {
            return (new Date).getTime()
        }
        function j(t) {
            var e = t.clone();
            return e.find("script").each(function() {
                this.src || x._data(this, "globalEval", !1)
            }),
                e.contents()
        }
        function l(t) {
            return t.search = t.search.replace(/([?&])(_pjax|_)=[^&]*/g, "").replace(/^&/, ""),
                t.href.replace(/\?($|#)/, "$1")
        }
        function w(t) {
            var e = document.createElement("a");
            return e.href = t,
                e
        }
        function s(t) {
            return t.href.replace(/#.*/, "")
        }
        function u(t, e) {
            return t && e ? ((e = x.extend({},
                e)).container = t, e) : x.isPlainObject(t) ? t: {
                container: t
            }
        }
        function d(t, e) {
            return t.filter(e).add(t.find(e))
        }
        function f(t) {
            return x.parseHTML(t, document, !0)
        }
        function b(t, e, n) {
            var a, r, o, i, c = {},
                s = /<html/i.test(t),
                u = e.getResponseHeader("X-PJAX-URL");
            return c.url = u ? l(w(u)) : n.requestUrl,
                a = s ? (r = x(f(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0])), null != (o = t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)) ? x(f(o[0])) : r) : r = x(f(t)),
            0 === r.length || (c.title = d(a, "title").last().text(), n.fragment ? (i = r, "body" !== n.fragment && (i = d(i, n.fragment).first()), i.length && (c.contents = "body" === n.fragment ? i: i.contents(), c.title || (c.title = i.attr("title") || i.data("title")))) : s || (c.contents = r), c.contents && (c.contents = c.contents.not(function() {
                return x(this).is("title")
            }), c.contents.find("title").remove(), c.scripts = d(c.contents, "script[src]").remove(), c.contents = c.contents.not(c.scripts)), c.title && (c.title = x.trim(c.title))),
                c
        }
        function T(t, e) {
            for (; t.length > e;) delete E[t.shift()]
        }
        function i() {
            return x("meta").filter(function() {
                var t = x(this).attr("http-equiv");
                return t && "X-PJAX-VERSION" === t.toUpperCase()
            }).attr("content")
        }
        function c() {
            x.fn.pjax = t,
                x.pjax = g,
                x.pjax.enable = x.noop,
                x.pjax.disable = h,
                x.pjax.click = a,
                x.pjax.submit = e,
                x.pjax.reload = n,
                x.pjax.defaults = {
                    timeout: 650,
                    push: !0,
                    replace: !1,
                    type: "GET",
                    dataType: "html",
                    scrollTo: 0,
                    maxCacheLength: 20,
                    version: i
                },
                x(window).on("popstate.pjax", r)
        }
        function h() {
            x.fn.pjax = function() {
                return this
            },
                x.pjax = o,
                x.pjax.enable = c,
                x.pjax.disable = x.noop,
                x.pjax.click = x.noop,
                x.pjax.submit = x.noop,
                x.pjax.reload = function() {
                    window.location.reload()
                },
                x(window).off("popstate.pjax", r)
        }
        var E, S, P, m = !0,
            C = window.location.href,
            A = window.history.state;
        A && A.container && (g.state = A),
        "state" in window.history && (m = !1),
            E = {},
            S = [],
            P = [],
            x.event.props && x.inArray("state", x.event.props) < 0 ? x.event.props.push("state") : "state" in x.Event.prototype || x.event.addProp("state"),
            x.support.pjax = window.history && window.history.pushState && window.history.replaceState && !navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),
            x.support.pjax ? c() : h()
    } (jQuery); !
    function(e, r) {
        if ("function" == typeof define && define.amd) define(["exports", "jquery"],
            function(e, i) {
                return r(e, i)
            });
        else if ("undefined" != typeof exports) {
            var i = require("jquery");
            r(exports, i)
        } else r(e, e.jQuery || e.Zepto || e.ender || e.$)
    } (this,
        function(e, u) {
            function i(t, r) {
                function a(e, i, r) {
                    return e[i] = r,
                        e
                }
                function e() {
                    return n
                }
                var n = {},
                    s = {};
                this.addPair = function(e) {
                    if (!f.validate.test(e.name)) return this;
                    var i = function(e, i) {
                        var r, t, n;
                        for (t = e.match(f.key); void 0 !== (r = t.pop());) f.push.test(r) ? (n = e.replace(/\[\]$/, ""), void 0 === s[n] && (s[n] = 0), i = a([], s[n]++, i)) : f.fixed.test(r) ? i = a([], r, i) : f.named.test(r) && (i = a({},
                            r, i));
                        return i
                    } (e.name,
                        function(e) {
                            switch (u('[name="' + e.name + '"]', r).attr("type")) {
                                case "checkbox":
                                    return "on" === e.value || e.value;
                                default:
                                    return e.value
                            }
                        } (e));
                    return n = t.extend(!0, n, i),
                        this
                },
                    this.addPairs = function(e) {
                        if (!t.isArray(e)) throw new Error("formSerializer.addPairs expects an Array");
                        for (var i = 0,
                                 r = e.length; i < r; i++) this.addPair(e[i]);
                        return this
                    },
                    this.serialize = e,
                    this.serializeJSON = function() {
                        return JSON.stringify(e())
                    }
            }
            var f = {
                validate: /^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,
                key: /[a-z0-9_]+|(?=\[\])/gi,
                push: /^$/,
                fixed: /^\d+$/,
                named: /^[a-z0-9_]+$/i
            };
            return i.patterns = f,
                i.serializeObject = function() {
                    return new i(u, this).addPairs(this.serializeArray()).serialize()
                },
                i.serializeJSON = function() {
                    return new i(u, this).addPairs(this.serializeArray()).serializeJSON()
                },
            void 0 !== u.fn && (u.fn.serializeObject = i.serializeObject, u.fn.serializeJSON = i.serializeJSON),
                e.FormSerializer = i
        }); !
    function(o) {
        var a = {
                type: "info",
                header: "",
                content: "",
                closeable: !1,
                disappear: 0
            },
            e = function(e) {
                var i, n, s, t, d;
                if ("string" != typeof e) return "object" == typeof e ? (i = o.extend({},
                    a, e), n = o(this), s = 0 < i.type.length ? "." + i.type: "", t = n.find(".ui.message.osc" + s), d = "", i.closeable && (d += '<i class="close icon"></i>', t.on("click", ".close",
                    function() {
                        t.transition("fade")
                    })), 0 < i.header.length && (d += '<div class="header">' + i.header + "</div>"), 0 < i.content.length && (d += "<p>" + i.content + "</p>"), t.html(d), t.removeClass("hidden"), void(0 < i.disappear && setTimeout(function() {
                        t.addClass("hidden")
                    },
                    i.disappear))) : void 0;
                o.isFunction(c[e]) && c[e].call(this)
            },
            c = {
                hideAll: function() {
                    o(this).find(".ui.message.osc").addClass("hidden")
                }
            };
        o.fn.message = e
    } (window.jQuery || window.$); !
    function() {
        var e = {
                bindLink: function() {
                    var a = this;
                    $(document).on("click", ".send-message-btn",
                        function() {
                            var e, t, s;
                            if (!window.common.checkLogin()) return ! 1;
                            e = $(this),
                                t = e.attr("data-user-id"),
                                s = e.attr("data-user-name"),
                                0 === $.find(".send-message.modal").length && !0 !== window.oscSendMessageLoading ? (window.oscSendMessageLoading = !0, $.get(page.space_user_url + "/widgets/private_message_modal",
                                    function(e) {
                                        var n = document.createElement("div");
                                        n.innerHTML = e,
                                            document.body.appendChild(n),
                                            a.initModal(),
                                            a.showModal(t, s)
                                    }).always(function() {
                                    window.oscSendMessageLoading = !1
                                })) : a.showModal(t, s)
                        })
                },
                initModal: function() {
                    var s = $(".send-message.modal"),
                        a = $("#sendMessageForm");
                    a.form({
                        inline: !0,
                        fields: {
                            content: {
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入内容"
                                },
                                    {
                                        type: "maxLength[250]",
                                        prompt: "内容长度不能超过 {ruleValue} 个字"
                                    }]
                            }
                        }
                    }).api({
                        url: page.space_user_url + "/msg/send",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(e) {
                            var n, t;
                            return $(this).message("hideAll"),
                                n = s.attr("data-user-id"),
                                t = e.data,
                                e.data = {
                                    receiver: n,
                                    content: t.content
                                },
                                e
                        },
                        onSuccess: function(e, n, t) {
                            1 === e.code ? ($(this).message({
                                type: "positive",
                                content: e.message || "发送成功"
                            }), a.form("reset"), setTimeout(function() {
                                    s.modal("hide")
                                },
                                2e3)) : $(this).message({
                                type: "negative",
                                content: e.message || "发送失败"
                            })
                        },
                        onFailure: function(e, n) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    }),
                        s.modal({
                            onShow: function() {
                                a.form("reset"),
                                    a.message("hideAll");
                                var e = $(this).attr("data-user-name") || "";
                                0 < (e = e.trim()).length && s.find("span.user-name").html(e)
                            },
                            onApprove: function() {
                                return a.message("hideAll"),
                                    a.form("submit"),
                                    !1
                            }
                        }),
                        s.on("keydown",
                            function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && s.find(".positive.button").click()
                            })
                },
                showModal: function(e, n) {
                    var t = $(".send-message.modal");
                    t.attr("data-user-id", e),
                        t.attr("data-user-name", n),
                        t.modal("show")
                }
            },
            n = new window.common.dynamicLoader(["/new-osc/js/utils/plugins/jquery.serialize-object.min.js", "/new-osc/js/utils/plugins/osc-message.js"]);
        n.loadFiles(),
            e.bindLink()
    } (); ({
    statusCode: {
        UN_FOLLOW: 1,
        FOLLOWED: 2,
        FOLLOW_EACH_OTHER: 3
    },
    statusConf: {
        UN_FOLLOW: {
            normal: {
                text: "关注",
                icon: "heart outline icon"
            },
            hover: {
                text: "关注",
                icon: "heart icon"
            }
        },
        FOLLOWED: {
            normal: {
                text: "已关注",
                icon: "heart icon"
            },
            hover: {
                text: "取消关注",
                icon: "heart outline icon"
            }
        },
        FOLLOW_EACH_OTHER: {
            normal: {
                text: "互相关注",
                icon: "exchange icon"
            },
            hover: {
                text: "取消关注",
                icon: "heart outline icon"
            }
        }
    },
    init: function() {
        this.bindHover(),
            this.bindClick()
    },
    bindHover: function() {
        var n = this;
        $(document).on("mouseenter", ".follow-btn",
            function() {
                var t = $(this),
                    o = parseInt(t.attr("data-follow-status")),
                    a = t.attr("data-icon-color");
                n.setBtnFollowStatus(o, "hover", t, a)
            }),
            $(document).on("mouseleave", ".follow-btn",
                function() {
                    var t = $(this),
                        o = parseInt(t.attr("data-follow-status")),
                        a = t.attr("data-icon-color");
                    n.setBtnFollowStatus(o, "normal", t, a)
                })
    },
    bindClick: function() {
        var e = this;
        $(document).on("click", ".follow-btn",
            function() {
                var o, a, n;
                if (!window.common.checkLogin()) return ! 1;
                o = $(this),
                    a = o.attr("data-user-id"),
                    n = o.attr("data-icon-color"),
                    $.post(page.space_user_url + "/user/switch_follow", {
                            friendid: a
                        },
                        function(t) {
                            1 === t.code ? (e.setBtnFollowStatus(t.result.status, "normal", o, n), e.setGlobalFollowCount(page.g_user_id, t.result.meFollowing || 0, t.result.meFollowers || 0), e.setGlobalFollowCount(a, t.result.friendFollowing || 0, t.result.friendFollowers || 0)) : $("body").toast({
                                type: "error",
                                content: t.message || "操作失败"
                            })
                        })
            })
    },
    setBtnFollowStatus: function(t, o, a, n) {
        var e, s, l, r;
        switch (o = "normal" === o ? "normal": "hover", n = "red" === n ? "red": "", e = this, s = a.find(".text"), l = a.find("i"), t) {
            case e.statusCode.UN_FOLLOW:
                a.attr("data-follow-status", e.statusCode.UN_FOLLOW),
                    s.text(e.statusConf.UN_FOLLOW[o].text),
                s && 0 === s.length && a.attr("title", e.statusConf.UN_FOLLOW[o].text),
                    r = e.statusConf.UN_FOLLOW[o].icon,
                    l.attr("class", "hover" === o ? r + " " + n: r);
                break;
            case e.statusCode.FOLLOWED:
                a.attr("data-follow-status", e.statusCode.FOLLOWED),
                    s.text(e.statusConf.FOLLOWED[o].text),
                s && 0 === s.length && a.attr("title", e.statusConf.FOLLOWED[o].text),
                    r = e.statusConf.FOLLOWED[o].icon,
                    l.attr("class", "normal" === o ? r + " " + n: r);
                break;
            case e.statusCode.FOLLOW_EACH_OTHER:
                a.attr("data-follow-status", e.statusCode.FOLLOW_EACH_OTHER),
                    s.text(e.statusConf.FOLLOW_EACH_OTHER[o].text),
                s && 0 === s.length && a.attr("title", e.statusConf.FOLLOW_EACH_OTHER[o].text),
                    r = e.statusConf.FOLLOW_EACH_OTHER[o].icon,
                    l.attr("class", "normal" === o ? r + " " + n: r)
        }
    },
    setGlobalFollowCount: function(t, s, l) {
        if (null == t || "" === t || "" === t.trim()) return ! 1;
        $('[data-following-count][data-user-id="' + t + '"]').each(function(t, o) {
            var a = $(o),
                n = a.data("format"),
                e = s;
            n && (e = window.common.formatNumberK(s)),
                a.text(e),
                a.attr("data-following-count", s)
        }),
            $('[data-followers-count][data-user-id="' + t + '"]').each(function(t, o) {
                var a = $(o),
                    n = a.data("format"),
                    e = l;
                n && (e = window.common.formatNumberK(l)),
                    a.text(e),
                    a.attr("data-followers-count", l)
            })
    }
}).init(); !
    function(c) {
        c.fn.imgOptimize = function(a, n) {
            function s(t, i, h) {
                var a, n;
                if (void 0 === i || void 0 === h) return ! 1;
                c(t).data("init") || (c(t).data("init", !0), a = t.naturalWidth, n = t.naturalHeight, a < i && n < h ? (c(t).css("width", "100%"), c(t).css("height", "100%"), c(t).css("object-fit", "fill")) : i / h < a / n ? (c(t).css("width", "auto"), c(t).css("height", "100%")) : (c(t).css("width", "100%"), c(t).css("height", "auto")))
            }
            return this.each(function() {
                var t = this,
                    i = a,
                    h = n;
                void 0 !== i && void 0 !== h || (i = c(this).data("width"), h = c(this).data("height")),
                    t.onload = function() {
                        s(t, i, h)
                    },
                t.complete && s(t, i, h)
            })
        }
    } (jQuery); !
    function(s) {
        s.fn.emoticon = function(e) {
            var r = s.extend({},
                e),
                n = "bowtie,smile,laughing,blush,smiley,relaxed,smirk,heart_eyes,kissing_heart,kissing_closed_eyes,flushed,relieved,satisfied,grin,wink,stuck_out_tongue_winking_eye,stuck_out_tongue_closed_eyes,grinning,kissing,kissing_smiling_eyes,stuck_out_tongue,sleeping,worried,frowning,anguished,open_mouth,grimacing,confused,hushed,expressionless,unamused,sweat_smile,sweat,disappointed_relieved,weary,pensive,disappointed,confounded,fearful,cold_sweat,persevere,cry,sob,joy,astonished,scream,neckbeard,tired_face,angry,rage,triumph,sleepy,yum,mask,sunglasses,dizzy_face,imp,smiling_imp,neutral_face,no_mouth,innocent,alien,yellow_heart,blue_heart,purple_heart,heart,green_heart,broken_heart,heartbeat,heartpulse,two_hearts,revolving_hearts,cupid,sparkling_heart,sparkles,star,star2,dizzy,boom,collision,anger,exclamation,question,grey_exclamation,grey_question,zzz,dash,sweat_drops,notes,musical_note,fire,hankey,poop,shit,+1,thumbsup,-1,thumbsdown,ok_hand,punch,facepunch,fist,v,wave,hand,raised_hand,open_hands,point_up,point_down,point_left,point_right,raised_hands,pray,point_up_2,clap,muscle,metal,fu,walking,runner,running,couple,family,two_men_holding_hands,two_women_holding_hands,dancer,dancers,ok_woman,no_good,information_desk_person,raising_hand,bride_with_veil,person_with_pouting_face,person_frowning,bow,couplekiss,couple_with_heart,massage,haircut,nail_care,boy,girl,woman,man,baby,older_woman,older_man,person_with_blond_hair,man_with_gua_pi_mao,man_with_turban,construction_worker,cop,angel,princess,smiley_cat,smile_cat,heart_eyes_cat,kissing_cat,smirk_cat,scream_cat,crying_cat_face,joy_cat,pouting_cat,japanese_ogre,japanese_goblin,see_no_evil,hear_no_evil,speak_no_evil,guardsman,skull,feet,lips,kiss,droplet,ear,eyes,nose,tongue,love_letter,bust_in_silhouette,busts_in_silhouette,speech_balloon,thought_balloon,feelsgood,finnadie,goberserk,godmode,hurtrealbad,rage1,rage2,rage3,rage4,suspect,trollface,sunny,umbrella,cloud,snowflake,snowman,zap,cyclone,foggy,ocean,cat,dog,mouse,hamster,rabbit,wolf,frog,tiger,koala,bear,pig,pig_nose,cow,boar,monkey_face,monkey,horse,racehorse,camel,sheep,elephant,panda_face,snake,bird,baby_chick,hatched_chick,hatching_chick,chicken,penguin,turtle,bug,honeybee,ant,beetle,snail,octopus,tropical_fish,fish,whale,whale2,dolphin,cow2,ram,rat,water_buffalo,tiger2,rabbit2,dragon,goat,rooster,dog2,pig2,mouse2,ox,dragon_face,blowfish,crocodile,dromedary_camel,leopard,cat2,poodle,paw_prints,bouquet,cherry_blossom,tulip,four_leaf_clover,rose,sunflower,hibiscus,maple_leaf,leaves,fallen_leaf,herb,mushroom,cactus,palm_tree,evergreen_tree,deciduous_tree,chestnut,seedling,blossom,ear_of_rice,shell,globe_with_meridians,sun_with_face,full_moon_with_face,new_moon_with_face,new_moon,waxing_crescent_moon,first_quarter_moon,waxing_gibbous_moon,full_moon,waning_gibbous_moon,last_quarter_moon,waning_crescent_moon,last_quarter_moon_with_face,first_quarter_moon_with_face,moon,earth_africa,earth_americas,earth_asia,volcano,milky_way,partly_sunny,octocat,squirrel,bamboo,gift_heart,dolls,school_satchel,mortar_board,flags,fireworks,sparkler,wind_chime,rice_scene,jack_o_lantern,ghost,santa,christmas_tree,gift,bell,no_bell,tanabata_tree,tada,confetti_ball,balloon,crystal_ball,cd,dvd,floppy_disk,camera,video_camera,movie_camera,computer,tv,iphone,phone,telephone,telephone_receiver,pager,fax,minidisc,vhs,sound,speaker,mute,loudspeaker,mega,hourglass,hourglass_flowing_sand,alarm_clock,watch,radio,satellite,loop,mag,mag_right,unlock,lock,lock_with_ink_pen,closed_lock_with_key,key,bulb,flashlight,high_brightness,low_brightness,electric_plug,battery,calling,email,mailbox,postbox,bath,bathtub,shower,toilet,wrench,nut_and_bolt,hammer,seat,moneybag,yen,dollar,pound,euro,credit_card,money_with_wings,e-mail,inbox_tray,outbox_tray,envelope,incoming_envelope,postal_horn,mailbox_closed,mailbox_with_mail,mailbox_with_no_mail,package,door,smoking,bomb,gun,hocho,pill,syringe,page_facing_up,page_with_curl,bookmark_tabs,bar_chart,chart_with_upwards_trend,chart_with_downwards_trend,scroll,clipboard,calendar,date,card_index,file_folder,open_file_folder,scissors,pushpin,paperclip,black_nib,pencil2,straight_ruler,triangular_ruler,closed_book,green_book,blue_book,orange_book,notebook,notebook_with_decorative_cover,ledger,books,bookmark,name_badge,microscope,telescope,newspaper,football,basketball,soccer,baseball,tennis,8ball,rugby_football,bowling,golf,mountain_bicyclist,bicyclist,horse_racing,snowboarder,swimmer,surfer,ski,spades,hearts,clubs,diamonds,gem,ring,trophy,musical_score,musical_keyboard,violin,space_invader,video_game,black_joker,flower_playing_cards,game_die,dart,mahjong,clapper,memo,pencil,book,art,microphone,headphones,trumpet,saxophone,guitar,shoe,sandal,high_heel,lipstick,boot,shirt,tshirt,necktie,womans_clothes,dress,running_shirt_with_sash,jeans,kimono,bikini,ribbon,tophat,crown,womans_hat,mans_shoe,closed_umbrella,briefcase,handbag,pouch,purse,eyeglasses,fishing_pole_and_fish,coffee,tea,sake,baby_bottle,beer,beers,cocktail,tropical_drink,wine_glass,fork_and_knife,pizza,hamburger,fries,poultry_leg,meat_on_bone,spaghetti,curry,fried_shrimp,bento,sushi,fish_cake,rice_ball,rice_cracker,rice,ramen,stew,oden,dango,egg,bread,doughnut,custard,icecream,ice_cream,shaved_ice,birthday,cake,cookie,chocolate_bar,candy,lollipop,honey_pot,apple,green_apple,tangerine,lemon,cherries,grapes,watermelon,strawberry,peach,melon,banana,pear,pineapple,sweet_potato,eggplant,tomato,corn,house,house_with_garden,school,office,post_office,hospital,bank,convenience_store,love_hotel,hotel,wedding,church,department_store,european_post_office,city_sunrise,city_sunset,japanese_castle,european_castle,tent,factory,tokyo_tower,japan,mount_fuji,sunrise_over_mountains,sunrise,stars,statue_of_liberty,bridge_at_night,carousel_horse,rainbow,ferris_wheel,fountain,roller_coaster,ship,speedboat,boat,sailboat,rowboat,anchor,rocket,airplane,helicopter,steam_locomotive,tram,mountain_railway,bike,aerial_tramway,suspension_railway,mountain_cableway,tractor,blue_car,oncoming_automobile,car,red_car,taxi,oncoming_taxi,articulated_lorry,bus,oncoming_bus,rotating_light,police_car,oncoming_police_car,fire_engine,ambulance,minibus,truck,train,station,train2,bullettrain_front,bullettrain_side,light_rail,monorail,railway_car,trolleybus,ticket,fuelpump,vertical_traffic_light,traffic_light,warning,construction,beginner,atm,slot_machine,busstop,barber,hotsprings,checkered_flag,crossed_flags,izakaya_lantern,moyai,circus_tent,performing_arts,round_pushpin,triangular_flag_on_post,jp,kr,cn,us,fr,es,it,ru,gb,uk,de,one,two,three,four,five,six,seven,eight,nine,keycap_ten,1234,zero,hash,symbols,arrow_backward,arrow_down,arrow_forward,arrow_left,capital_abcd,abcd,abc,arrow_lower_left,arrow_lower_right,arrow_right,arrow_up,arrow_upper_left,arrow_upper_right,arrow_double_down,arrow_double_up,arrow_down_small,arrow_heading_down,arrow_heading_up,leftwards_arrow_with_hook,arrow_right_hook,left_right_arrow,arrow_up_down,arrow_up_small,arrows_clockwise,arrows_counterclockwise,rewind,fast_forward,information_source,ok,twisted_rightwards_arrows,repeat,repeat_one,new,top,up,cool,free,ng,cinema,koko,signal_strength,u5272,u5408,u55b6,u6307,u6708,u6709,u6e80,u7121,u7533,u7a7a,u7981,sa,restroom,mens,womens,baby_symbol,no_smoking,parking,wheelchair,metro,baggage_claim,accept,wc,potable_water,put_litter_in_its_place,secret,congratulations,m,passport_control,left_luggage,customs,ideograph_advantage,cl,sos,id,no_entry_sign,underage,no_mobile_phones,do_not_litter,non-potable_water,no_bicycles,no_pedestrians,children_crossing,no_entry,eight_spoked_asterisk,sparkle,eight_pointed_black_star,heart_decoration,vs,vibration_mode,mobile_phone_off,chart,currency_exchange,aries,taurus,gemini,cancer,leo,virgo,libra,scorpius,sagittarius,capricorn,aquarius,pisces,ophiuchus,six_pointed_star,negative_squared_cross_mark,a,b,ab,o2,diamond_shape_with_a_dot_inside,recycle,end,back,on,soon,clock1,clock130,clock10,clock1030,clock11,clock1130,clock12,clock1230,clock2,clock230,clock3,clock330,clock4,clock430,clock5,clock530,clock6,clock630,clock7,clock730,clock8,clock830,clock9,clock930,heavy_dollar_sign,copyright,registered,tm,x,heavy_exclamation_mark,bangbang,interrobang,o,heavy_multiplication_x,heavy_plus_sign,heavy_minus_sign,heavy_division_sign,white_flower,100,heavy_check_mark,ballot_box_with_check,radio_button,link,curly_loop,wavy_dash,part_alternation_mark,trident,black_small_square,white_small_square,black_medium_small_square,white_medium_small_square,black_medium_square,white_medium_square,black_large_square,white_large_square,white_check_mark,black_square_button,white_square_button,black_circle,white_circle,red_circle,large_blue_circle,large_blue_diamond,large_orange_diamond,small_blue_diamond,small_orange_diamond,small_red_triangle,small_red_triangle_down,shipit",
                t = /:\w+?:/gi,
                _ = /\[\d+?]/gi,
                i = {
                    replaceEmoticonText: function(e) {
                        var i = this,
                            a = e.replace(t,
                                function(e) {
                                    var a = e.replace(/:/g, ""),
                                        o = n.split(","),
                                        r = o.some(function(e) {
                                            return e === a
                                        });
                                    return r ? i.emojiRenderText(a) : e
                                }),
                            o = a.replace(_,
                                function(e) {
                                    var a = e.replace(/\[*]*/g, "");
                                    return 0 <= a && a <= 134 ? i.qqEmoticonRenderText(a) : e
                                });
                        return o
                    },
                    emojiRenderText: function(e) {
                        return '<emoji align="absmiddle" data-emoji="emoji ' + e + '" data-name="' + e + '"></emoji>'
                    },
                    qqEmoticonRenderText: function(e) {
                        return '<img data-emoticon="qq" src="' + (window.__STATIC_DOMAIN || "") + "/new-osc/js/ke/plugins/emoticons/" + e + '.gif" alt="' + e + '">'
                    }
                };
            return this.each(function() {
                var e = this,
                    a = s(e).html(),
                    o = i.replaceEmoticonText(a) || a;
                s(e).html(o),
                "function" == typeof r.callback && r.callback(o)
            })
        }
    } (jQuery); !
    function() {
        var e = {
                bindLink: function() {
                    var r = this;
                    $(document).on("click", "a.ban[ban-report]",
                        function(e) {
                            var t, a, o, n, i;
                            if (!window.common.checkLogin()) return ! 1;
                            t = $(this),
                                a = t.attr("data-id"),
                                o = t.attr("data-key"),
                                n = t.attr("data-obj-type"),
                                i = t.attr("data-url"),
                                0 === $.find(".ban-report.modal").length && !0 !== window.oscBanReportLoading ? (window.oscBanReportLoading = !0, $.get(page.space_user_url + "/widgets/ban_report_modal",
                                    function(e) {
                                        var t = document.createElement("div");
                                        t.innerHTML = e,
                                            document.body.appendChild(t),
                                            r.initModal(),
                                            r.showModal(a, o, n, i)
                                    }).always(function() {
                                    window.oscBanReportLoading = !1
                                })) : r.showModal(a, o, n, i)
                        })
                },
                initModal: function() {
                    var r = $(".ban-report.modal"),
                        e = $("#banReportForm");
                    r.find(".checkbox").checkbox(),
                        e.form({
                            inline: !0,
                            fields: {
                                reason: {
                                    identifier: "reason",
                                    rules: [{
                                        type: "empty",
                                        prompt: "请选择原因"
                                    }]
                                },
                                memo: {
                                    identifier: "memo",
                                    rules: [{
                                        type: "maxLength[250]",
                                        prompt: "原因内容长度不能超过 {ruleValue} 个字"
                                    }]
                                }
                            }
                        }).api({
                            url: page.space_user_url + "/communityManage/reportv2",
                            method: "post",
                            serializeForm: !0,
                            beforeSend: function(e) {
                                var t, a, o, n, i;
                                return $(this).message("hideAll"),
                                    t = r.attr("data-id"),
                                    a = r.attr("data-key"),
                                    o = r.attr("data-obj-type"),
                                    n = r.attr("data-url"),
                                    i = e.data,
                                    e.data = {
                                        reason: i.reason,
                                        memo: i.memo,
                                        obj_type: o,
                                        url: n,
                                        user_code: i.user_code
                                    },
                                    t && "" !== t && 0 < parseInt(t) ? e.data.obj_id = t: a && "" !== a && (e.data.articleKey = a),
                                    e
                            },
                            onSuccess: function(e, t, a) {
                                1 === e.code ? ($(this).message({
                                    type: "positive",
                                    content: e.message || "举报成功"
                                }), setTimeout(function() {
                                        r.modal("hide")
                                    },
                                    2e3)) : $(this).message({
                                    type: "negative",
                                    content: e.message || "网络错误，请稍后再试"
                                })
                            },
                            onFailure: function(e, t) {
                                $(this).message({
                                    type: "negative",
                                    content: e.message || "网络错误，请稍后再试"
                                })
                            }
                        }),
                        r.modal({
                            onShow: function() {
                                e.form("reset"),
                                    e.message("hideAll")
                            },
                            onApprove: function() {
                                return e.message("hideAll"),
                                    e.form("submit"),
                                    !1
                            }
                        }),
                        r.on("keydown",
                            function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && r.find(".positive.button").click()
                            })
                },
                showModal: function(e, t, a, o) {
                    var n = $(".ban-report.modal");
                    n.attr("data-id", e),
                        n.attr("data-key", t),
                        n.attr("data-obj-type", a),
                        n.attr("data-url", o),
                        n.modal("show")
                }
            },
            t = new window.common.dynamicLoader(["/new-osc/js/utils/plugins/jquery.serialize-object.min.js", "/new-osc/js/utils/plugins/osc-message.js"]);
        t.loadFiles(),
            e.bindLink()
    } ();
$(function() {
    var t, e = {
        blockedBtnStatusCode: {
            UN_BLOCK: 0,
            BLOCKED: 1
        },
        bindLink: function() {
            var a = this;
            $(document).on("click", "[user-block]",
                function(t) {
                    var e, o, n;
                    if (!window.common.checkLogin()) return ! 1;
                    e = $(this),
                        o = e.attr("data-id"),
                        n = e.attr("data-status"),
                        0 === $.find(".user-block.modal").length && !0 !== window.oscuserBlockLoading ? (window.oscuserBlockLoading = !0, $.get(page.space_user_url + "/widgets/user_block_modal",
                            function(t) {
                                var e = document.createElement("div");
                                e.innerHTML = t,
                                    document.body.appendChild(e),
                                    a.initModal(),
                                    a.showModal(o, n)
                            }).always(function() {
                            window.oscuserBlockLoading = !1
                        })) : a.showModal(o, n)
                })
        },
        initModal: function() {
            var c = this,
                l = $(".user-block.modal");
            l.find(".checkbox").checkbox(),
                l.modal({
                    onShow: function() {
                        var t = l.attr("data-status"),
                            e = parseInt(t) === c.blockedBtnStatusCode.BLOCKED;
                        e ? (l.find(".header").text("解除加灰"), l.find(".content p").text("确定解除加灰该用户吗？"), l.find(".actions .ok.button").text("解除")) : (l.find(".header").text("确认加灰"), l.find(".content p").text("将用户加入加灰名单后，对方将不可评论你的动态，同时你也不能看到对方的动态。"), l.find(".actions .ok.button").text("加灰"))
                    },
                    onApprove: function() {
                        var a = l.attr("data-id"),
                            s = l.attr("data-status"),
                            t = parseInt(s) === c.blockedBtnStatusCode.BLOCKED,
                            d = t ? "解除加灰": "加灰";
                        $.ajax({
                            url: page.space_user_url + "/user/update_blacklist",
                            method: "post",
                            data: {
                                blackId: a
                            },
                            success: function(t, e, o) {
                                var n;
                                1 === t.code ? ($("body").toast({
                                    type: "success",
                                    content: t.message || d + "成功"
                                }), n = $('[user-block][data-id="' + a + '"][data-status="' + s + '"]'), !!t.result ? (n.attr("data-status", c.blockedBtnStatusCode.BLOCKED), n.find(".text").text("解除加灰")) : (n.attr("data-status", c.blockedBtnStatusCode.UN_BLOCK), n.find(".text").text("加灰")), l.modal("hide")) : $("body").toast({
                                    type: "error",
                                    content: t.message || d + "失败"
                                })
                            },
                            error: function(t, e, o) {
                                $("body").toast({
                                    type: "error",
                                    content: "网络错误，请稍后再试"
                                })
                            }
                        })
                    }
                })
        },
        showModal: function(t, e) {
            var o = $(".user-block.modal");
            o.attr("data-id", t),
                o.attr("data-status", e),
                o.modal("show")
        }
    };
    e.bindLink(),
        (t = {
            blockedBtnStatusCode: {
                UN_BLOCK: 0,
                BLOCKED: 1
            },
            blockedBtnStatusConf: {
                UN_BLOCK: {
                    normal: {
                        selfRemoveClass: "green",
                        selfAddClass: "",
                        text: "加灰",
                        icon: "plus icon",
                        textIcon: "+",
                        textIconClass: "plus"
                    },
                    hover: {
                        selfRemoveClass: "green",
                        selfAddClass: "",
                        text: "加灰",
                        icon: "plus icon",
                        textIcon: "+",
                        textIconClass: "plus"
                    }
                },
                BLOCKED: {
                    normal: {
                        selfRemoveClass: "green",
                        selfAddClass: "green",
                        text: "解除加灰",
                        icon: "check icon",
                        textIcon: "×",
                        textIconClass: "check"
                    },
                    hover: {
                        selfRemoveClass: "green",
                        selfAddClass: "green",
                        text: "解除加灰",
                        icon: "",
                        textIcon: "×",
                        textIconClass: "check"
                    }
                }
            },
            setBlockedBtnStatus: function(t, e, o) {
                var n, a, s, d, c, l, i, r, u, k;
                switch (e = "normal" === e ? "normal": "hover", n = this, a = o.find(".text"), s = o.find("i"), d = o.find(".text-icon"), t) {
                    case n.blockedBtnStatusCode.UN_BLOCK:
                        c = n.blockedBtnStatusConf.UN_BLOCK[e],
                            o.attr("data-blocked-status", n.blockedBtnStatusCode.UN_BLOCK);
                        break;
                    case n.blockedBtnStatusCode.BLOCKED:
                        c = n.blockedBtnStatusConf.BLOCKED[e],
                            o.attr("data-blocked-status", n.blockedBtnStatusCode.BLOCKED)
                }
                a.text(c.text),
                    l = c.icon,
                    s.attr("class", l),
                    i = c.textIcon,
                    r = c.textIconClass,
                    d.text(i),
                    d.attr("class", "").addClass("text-icon").addClass(r),
                    u = c.selfRemoveClass,
                    k = c.selfAddClass,
                    o.removeClass(u).addClass(k)
            },
            bindBlockedBtnHover: function() {
                var o = this;
                $(document).on("mouseenter", ".blocked-btn",
                    function() {
                        var t = $(this),
                            e = parseInt(t.attr("data-blocked-status"));
                        o.setBlockedBtnStatus(e, "hover", t)
                    }),
                    $(document).on("mouseleave", ".blocked-btn",
                        function() {
                            var t = $(this),
                                e = parseInt(t.attr("data-blocked-status"));
                            o.setBlockedBtnStatus(e, "normal", t)
                        })
            },
            bindBlockedBtnClick: function() {
                var c = this;
                $(document).on("click", ".blocked-btn",
                    function(t) {
                        var e, o, n, a, s, d;
                        if (t.preventDefault(), e = $(this), o = this, n = parseInt(e.attr("data-blocked-status")) === c.blockedBtnStatusCode.BLOCKED, a = n ? "解除加灰": "加灰", s = e.attr("data-id"), !window.common.checkLogin()) return ! 1;
                        d = $('.blocked-btn[data-id="' + s + '"]'),
                            $.post(page.space_user_url + "/user/update_blacklist", {
                                    blackId: s
                                },
                                function(t) {
                                    var e;
                                    1 === t.code ? (e = !!t.result ? c.blockedBtnStatusCode.BLOCKED: c.blockedBtnStatusCode.UN_BLOCK, c.setBlockedBtnStatus(e, "normal", d)) : $("body").toast({
                                        type: "error",
                                        content: t.message || a + "失败"
                                    })
                                }).always(function() {
                                var t = document.createEvent("Event");
                                t.initEvent("subscribe", !0, !0),
                                    o.dispatchEvent(t)
                            })
                    })
            }
        }).bindBlockedBtnHover(),
        t.bindBlockedBtnClick(),
        $(document).on("mouseenter", ".blocked",
            function() {
                var t = $(this);
                0 === t.find(".blocked-cover-tip").length && t.append('<div class="blocked-cover-tip"><span>亲，是不是眼花了？还是此人已被你“加灰” ？</span></div>'),
                    setTimeout(function() {
                            t.find(".blocked-cover-tip").addClass("hover")
                        },
                        0)
            }),
        $(document).on("mouseleave", ".blocked",
            function() {
                $(this).find(".blocked-cover-tip").removeClass("hover")
            })
}); !
    function(e) {
        var t = "object" == typeof window && window || "object" == typeof self && self;
        "undefined" != typeof exports ? e(exports) : t && (t.hljs = e({}), "function" == typeof define && define.amd && define([],
            function() {
                return t.hljs
            }))
    } (function(n) {
        function h(e) {
            return e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
        }
        function b(e) {
            return e.nodeName.toLowerCase()
        }
        function v(e, t) {
            var r = e && e.exec(t);
            return r && 0 === r.index
        }
        function p(e) {
            return a.test(e)
        }
        function l(e) {
            var t, r = {},
                a = Array.prototype.slice.call(arguments, 1);
            for (t in e) r[t] = e[t];
            return a.forEach(function(e) {
                for (t in e) r[t] = e[t]
            }),
                r
        }
        function m(e) {
            var n = [];
            return function e(t, r) {
                for (var a = t.firstChild; a; a = a.nextSibling) 3 === a.nodeType ? r += a.nodeValue.length: 1 === a.nodeType && (n.push({
                    event: "start",
                    offset: r,
                    node: a
                }), r = e(a, r), b(a).match(/br|hr|img|input/) || n.push({
                    event: "stop",
                    offset: r,
                    node: a
                }));
                return r
            } (e, 0),
                n
        }
        function y(s) {
            function c(e) {
                return e && e.source || e
            }
            function o(e, t) {
                return new RegExp(c(e), "m" + (s.cI ? "i": "") + (t ? "g": ""))
            } !
                function t(r, e) {
                    var a, n, i;
                    r.compiled || (r.compiled = !0, r.k = r.k || r.bK, r.k && (a = {},
                        n = function(r, e) {
                            s.cI && (e = e.toLowerCase()),
                                e.split(" ").forEach(function(e) {
                                    var t = e.split("|");
                                    a[t[0]] = [r, t[1] ? Number(t[1]) : 1]
                                })
                        },
                        "string" == typeof r.k ? n("keyword", r.k) : d(r.k).forEach(function(e) {
                            n(e, r.k[e])
                        }), r.k = a), r.lR = o(r.l || /\w+/, !0), e && (r.bK && (r.b = "\\b(" + r.bK.split(" ").join("|") + ")\\b"), r.b || (r.b = /\B|\b/), r.bR = o(r.b), r.e || r.eW || (r.e = /\B|\b/), r.e && (r.eR = o(r.e)), r.tE = c(r.e) || "", r.eW && e.tE && (r.tE += (r.e ? "|": "") + e.tE)), r.i && (r.iR = o(r.i)), null == r.r && (r.r = 1), r.c || (r.c = []), r.c = Array.prototype.concat.apply([], r.c.map(function(e) {
                        return (t = "self" === e ? r: e).v && !t.cached_variants && (t.cached_variants = t.v.map(function(e) {
                            return l(t, {
                                    v: null
                                },
                                e)
                        })),
                        t.cached_variants || t.eW && [l(t)] || [t];
                        var t
                    })), r.c.forEach(function(e) {
                        t(e, r)
                    }), r.starts && t(r.starts, e), i = r.c.map(function(e) {
                        return e.bK ? "\\.?(" + e.b + ")\\.?": e.b
                    }).concat([r.tE, r.i]).map(c).filter(Boolean), r.t = i.length ? o(i.join("|"), !0) : {
                        exec: function() {
                            return null
                        }
                    })
                } (s)
        }
        function w(e, t, c, r) {
            function o(e, t, r, a) {
                var n = '<span class="' + (a ? "": M.classPrefix);
                return (n += e + '">') + t + (r ? "": E)
            }
            function l() {
                var e, t;
                b += null != u.sL ? (t = "string" == typeof u.sL) && !x[u.sL] ? h(p) : (e = t ? w(u.sL, p, !0, i[u.sL]) : N(p, u.sL.length ? u.sL: void 0), 0 < u.r && (m += e.r), t && (i[u.sL] = e.top), o(e.language, e.value, !1, !0)) : function() {
                    var e, t, r, a, n, i, s;
                    if (!u.k) return h(p);
                    for (a = "", t = 0, u.lR.lastIndex = 0, r = u.lR.exec(p); r;) a += h(p.substring(t, r.index)),
                        n = u,
                        i = r,
                        s = _.cI ? i[0].toLowerCase() : i[0],
                        (e = n.k.hasOwnProperty(s) && n.k[s]) ? (m += e[1], a += o(e[0], h(r[0]))) : a += h(r[0]),
                        t = u.lR.lastIndex,
                        r = u.lR.exec(p);
                    return a + h(p.substr(t))
                } (),
                    p = ""
            }
            function d(e) {
                b += e.cN ? o(e.cN, "", !0) : "",
                    u = Object.create(e, {
                        parent: {
                            value: u
                        }
                    })
            }
            function a(e, t) {
                var r, a, n, i, s;
                if (p += e, null == t) return l(),
                    0;
                if (r = function(e, t) {
                    var r, a;
                    for (r = 0, a = t.c.length; r < a; r++) if (v(t.c[r].bR, e)) return t.c[r]
                } (t, u)) return r.skip ? p += t: (r.eB && (p += t), l(), r.rB || r.eB || (p = t)),
                    d(r),
                    r.rB ? 0 : t.length;
                if (a = function e(t, r) {
                    if (v(t.eR, r)) {
                        for (; t.endsParent && t.parent;) t = t.parent;
                        return t
                    }
                    return t.eW ? e(t.parent, r) : void 0
                } (u, t)) {
                    for ((n = u).skip ? p += t: (n.rE || n.eE || (p += t), l(), n.eE && (p = t)); u.cN && (b += E), u.skip || (m += u.r), (u = u.parent) !== a.parent;);
                    return a.starts && d(a.starts),
                        n.rE ? 0 : t.length
                }
                if (i = t, s = u, !c && v(s.iR, i)) throw new Error('Illegal lexeme "' + t + '" for mode "' + (u.cN || "<unnamed>") + '"');
                return p += t,
                t.length || 1
            }
            var n, u, i, b, p, m, s, f, g, _ = k(e);
            if (!_) throw new Error('Unknown language: "' + e + '"');
            for (y(_), i = {},
                     b = "", n = u = r || _; n !== _; n = n.parent) n.cN && (b = o(n.cN, "", !0) + b);
            p = "",
                m = 0;
            try {
                for (g = 0; u.t.lastIndex = g, s = u.t.exec(t);) f = a(t.substring(g, s.index), s[0]),
                    g = s.index + f;
                for (a(t.substr(g)), n = u; n.parent; n = n.parent) n.cN && (b += E);
                return {
                    r: m,
                    value: b,
                    language: e,
                    top: u
                }
            } catch(e) {
                if (e.message && -1 !== e.message.indexOf("Illegal")) return {
                    r: 0,
                    value: h(t)
                };
                throw e
            }
        }
        function N(r, e) {
            e = e || M.languages || d(x);
            var a = {
                    r: 0,
                    value: h(r)
                },
                n = a;
            return e.filter(k).forEach(function(e) {
                var t = w(e, r, !1);
                t.language = e,
                t.r > n.r && (n = t),
                t.r > a.r && (n = a, a = t)
            }),
            n.language && (a.second_best = n),
                a
        }
        function f(e) {
            return M.tabReplace || M.useBR ? e.replace(i,
                function(e, t) {
                    return M.useBR && "\n" === e ? "<br>": M.tabReplace ? t.replace(/\t/g, M.tabReplace) : ""
                }) : e
        }
        function t(e) {
            var t, r, a, n, i, s, c, o, l, d, u = function(e) {
                var t, r, a, n, i = e.className + " ";
                if (i += e.parentNode ? e.parentNode.className: "", r = C.exec(i)) return k(r[1]) ? r[1] : "no-highlight";
                for (t = 0, a = (i = i.split(/\s+/)).length; t < a; t++) if (p(n = i[t]) || k(n)) return n
            } (e);
            p(u) || (M.useBR ? (t = document.createElementNS("http://www.w3.org/1999/xhtml", "div")).innerHTML = e.innerHTML.replace(/\n/g, "").replace(/<br[ \/]*>/g, "\n") : t = e, i = t.textContent, a = u ? w(u, i, !0) : N(i), (r = m(t)).length && ((n = document.createElementNS("http://www.w3.org/1999/xhtml", "div")).innerHTML = a.value, a.value = function(e, t, r) {
                function a() {
                    return e.length && t.length ? e[0].offset !== t[0].offset ? e[0].offset < t[0].offset ? e: t: "start" === t[0].event ? e: t: e.length ? e: t
                }
                function n(e) {
                    o += "<" + b(e) + g.map.call(e.attributes,
                        function(e) {
                            return " " + e.nodeName + '="' + h(e.value).replace('"', "&quot;") + '"'
                        }).join("") + ">"
                }
                function i(e) {
                    o += "</" + b(e) + ">"
                }
                function s(e) { ("start" === e.event ? n: i)(e.node)
                }
                var c, o, l, d;
                for (c = 0, o = "", l = []; e.length || t.length;) if (d = a(), o += h(r.substring(c, d[0].offset)), c = d[0].offset, d === e) {
                    for (l.reverse().forEach(i); s(d.splice(0, 1)[0]), (d = a()) === e && d.length && d[0].offset === c;);
                    l.reverse().forEach(n)
                } else "start" === d[0].event ? l.push(d[0].node) : l.pop(),
                    s(d.splice(0, 1)[0]);
                return o + h(r.substr(c))
            } (r, m(n), i)), a.value = f(a.value), e.innerHTML = a.value, e.className = (s = e.className, c = u, o = a.language, l = c ? _[c] : o, d = [s.trim()], s.match(/\bhljs\b/) || d.push("hljs"), -1 === s.indexOf(l) && d.push(l), d.join(" ").trim()), e.result = {
                language: a.language,
                re: a.r
            },
            a.second_best && (e.second_best = {
                language: a.second_best.language,
                re: a.second_best.r
            }))
        }
        function r() {
            if (!r.called) {
                r.called = !0;
                var e = document.querySelectorAll("pre code");
                g.forEach.call(e, t)
            }
        }
        function k(e) {
            return e = (e || "").toLowerCase(),
            x[e] || x[_[e]]
        }
        var g = [],
            d = Object.keys,
            x = {},
            _ = {},
            a = /^(no-?highlight|plain|text)$/i,
            C = /\blang(?:uage)?-([\w-]+)\b/i,
            i = /((^(<[^>]+>|\t|)+|(?:\n)))/gm,
            E = "</span>",
            M = {
                classPrefix: "hljs-",
                tabReplace: null,
                useBR: !1,
                languages: void 0
            };
        return n.highlight = w,
            n.highlightAuto = N,
            n.fixMarkup = f,
            n.highlightBlock = t,
            n.configure = function(e) {
                M = l(M, e)
            },
            n.initHighlighting = r,
            n.initHighlightingOnLoad = function() {
                addEventListener("DOMContentLoaded", r, !1),
                    addEventListener("load", r, !1)
            },
            n.registerLanguage = function(t, e) {
                var r = x[t] = e(n);
                r.aliases && r.aliases.forEach(function(e) {
                    _[e] = t
                })
            },
            n.listLanguages = function() {
                return d(x)
            },
            n.getLanguage = k,
            n.inherit = l,
            n.IR = "[a-zA-Z]\\w*",
            n.UIR = "[a-zA-Z_]\\w*",
            n.NR = "\\b\\d+(\\.\\d+)?",
            n.CNR = "(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",
            n.BNR = "\\b(0b[01]+)",
            n.RSR = "!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",
            n.BE = {
                b: "\\\\[\\s\\S]",
                r: 0
            },
            n.ASM = {
                cN: "string",
                b: "'",
                e: "'",
                i: "\\n",
                c: [n.BE]
            },
            n.QSM = {
                cN: "string",
                b: '"',
                e: '"',
                i: "\\n",
                c: [n.BE]
            },
            n.PWM = {
                b: /\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/
            },
            n.C = function(e, t, r) {
                var a = n.inherit({
                        cN: "comment",
                        b: e,
                        e: t,
                        c: []
                    },
                    r || {});
                return a.c.push(n.PWM),
                    a.c.push({
                        cN: "doctag",
                        b: "(?:TODO|FIXME|NOTE|BUG|XXX):",
                        r: 0
                    }),
                    a
            },
            n.CLCM = n.C("//", "$"),
            n.CBCM = n.C("/\\*", "\\*/"),
            n.HCM = n.C("#", "$"),
            n.NM = {
                cN: "number",
                b: n.NR,
                r: 0
            },
            n.CNM = {
                cN: "number",
                b: n.CNR,
                r: 0
            },
            n.BNM = {
                cN: "number",
                b: n.BNR,
                r: 0
            },
            n.CSSNM = {
                cN: "number",
                b: n.NR + "(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",
                r: 0
            },
            n.RM = {
                cN: "regexp",
                b: /\//,
                e: /\/[gimuy]*/,
                i: /\n/,
                c: [n.BE, {
                    b: /\[/,
                    e: /\]/,
                    r: 0,
                    c: [n.BE]
                }]
            },
            n.TM = {
                cN: "title",
                b: n.IR,
                r: 0
            },
            n.UTM = {
                cN: "title",
                b: n.UIR,
                r: 0
            },
            n.METHOD_GUARD = {
                b: "\\.\\s*" + n.UIR,
                r: 0
            },
            n
    }),
    hljs.registerLanguage("apache",
        function(e) {
            var t = {
                cN: "number",
                b: "[\\$%]\\d+"
            };
            return {
                aliases: ["apacheconf"],
                cI: !0,
                c: [e.HCM, {
                    cN: "section",
                    b: "</?",
                    e: ">"
                },
                    {
                        cN: "attribute",
                        b: /\w+/,
                        r: 0,
                        k: {
                            nomarkup: "order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"
                        },
                        starts: {
                            e: /$/,
                            r: 0,
                            k: {
                                literal: "on off all"
                            },
                            c: [{
                                cN: "meta",
                                b: "\\s\\[",
                                e: "\\]$"
                            },
                                {
                                    cN: "variable",
                                    b: "[\\$%]\\{",
                                    e: "\\}",
                                    c: ["self", t]
                                },
                                t, e.QSM]
                        }
                    }],
                i: /\S/
            }
        }),
    hljs.registerLanguage("bash",
        function(e) {
            var t = {
                    cN: "variable",
                    v: [{
                        b: /\$[\w\d#@][\w\d_]*/
                    },
                        {
                            b: /\$\{(.*?)}/
                        }]
                },
                r = {
                    cN: "string",
                    b: /"/,
                    e: /"/,
                    c: [e.BE, t, {
                        cN: "variable",
                        b: /\$\(/,
                        e: /\)/,
                        c: [e.BE]
                    }]
                };
            return {
                aliases: ["sh", "zsh"],
                l: /\b-?[a-z\._]+\b/,
                k: {
                    keyword: "if then else elif fi for while in do done case esac function",
                    literal: "true false",
                    built_in: "break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",
                    _: "-ne -eq -lt -gt -f -d -e -s -l -a"
                },
                c: [{
                    cN: "meta",
                    b: /^#![^\n]+sh\s*$/,
                    r: 10
                },
                    {
                        cN: "function",
                        b: /\w[\w\d_]*\s*\(\s*\)\s*\{/,
                        rB: !0,
                        c: [e.inherit(e.TM, {
                            b: /\w[\w\d_]*/
                        })],
                        r: 0
                    },
                    e.HCM, r, {
                        cN: "string",
                        b: /'/,
                        e: /'/
                    },
                    t]
            }
        }),
    hljs.registerLanguage("shell",
        function(e) {
            return {
                aliases: ["console"],
                c: [{
                    cN: "meta",
                    b: "^\\s{0,3}[\\w\\d\\[\\]()@-]*[>%$#]",
                    starts: {
                        e: "$",
                        sL: "bash"
                    }
                }]
            }
        }),
    hljs.registerLanguage("javascript",
        function(e) {
            var t, r = "[A-Za-z$_][0-9A-Za-z$_]*",
                a = {
                    keyword: "in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",
                    literal: "true false null undefined NaN Infinity",
                    built_in: "eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"
                },
                n = {
                    cN: "number",
                    v: [{
                        b: "\\b(0[bB][01]+)"
                    },
                        {
                            b: "\\b(0[oO][0-7]+)"
                        },
                        {
                            b: e.CNR
                        }],
                    r: 0
                },
                i = {
                    cN: "subst",
                    b: "\\$\\{",
                    e: "\\}",
                    k: a,
                    c: []
                },
                s = {
                    cN: "string",
                    b: "`",
                    e: "`",
                    c: [e.BE, i]
                };
            return i.c = [e.ASM, e.QSM, s, n, e.RM],
                t = i.c.concat([e.CBCM, e.CLCM]),
                {
                    aliases: ["js", "jsx"],
                    k: a,
                    c: [{
                        cN: "meta",
                        r: 10,
                        b: /^\s*['"]use (strict|asm)['"]/
                    },
                        {
                            cN: "meta",
                            b: /^#!/,
                            e: /$/
                        },
                        e.ASM, e.QSM, s, e.CLCM, e.CBCM, n, {
                            b: /[{,]\s*/,
                            r: 0,
                            c: [{
                                b: r + "\\s*:",
                                rB: !0,
                                r: 0,
                                c: [{
                                    cN: "attr",
                                    b: r,
                                    r: 0
                                }]
                            }]
                        },
                        {
                            b: "(" + e.RSR + "|\\b(case|return|throw)\\b)\\s*",
                            k: "return throw case",
                            c: [e.CLCM, e.CBCM, e.RM, {
                                cN: "function",
                                b: "(\\(.*?\\)|" + r + ")\\s*=>",
                                rB: !0,
                                e: "\\s*=>",
                                c: [{
                                    cN: "params",
                                    v: [{
                                        b: r
                                    },
                                        {
                                            b: /\(\s*\)/
                                        },
                                        {
                                            b: /\(/,
                                            e: /\)/,
                                            eB: !0,
                                            eE: !0,
                                            k: a,
                                            c: t
                                        }]
                                }]
                            },
                                {
                                    b: /</,
                                    e: /(\/\w+|\w+\/)>/,
                                    sL: "xml",
                                    c: [{
                                        b: /<\w+\s*\/>/,
                                        skip: !0
                                    },
                                        {
                                            b: /<\w+/,
                                            e: /(\/\w+|\w+\/)>/,
                                            skip: !0,
                                            c: [{
                                                b: /<\w+\s*\/>/,
                                                skip: !0
                                            },
                                                "self"]
                                        }]
                                }],
                            r: 0
                        },
                        {
                            cN: "function",
                            bK: "function",
                            e: /\{/,
                            eE: !0,
                            c: [e.inherit(e.TM, {
                                b: r
                            }), {
                                cN: "params",
                                b: /\(/,
                                e: /\)/,
                                eB: !0,
                                eE: !0,
                                c: t
                            }],
                            i: /\[|%/
                        },
                        {
                            b: /\$[(.]/
                        },
                        e.METHOD_GUARD, {
                            cN: "class",
                            bK: "class",
                            e: /[{;=]/,
                            eE: !0,
                            i: /[:"\[\]]/,
                            c: [{
                                bK: "extends"
                            },
                                e.UTM]
                        },
                        {
                            bK: "constructor",
                            e: /\{/,
                            eE: !0
                        }],
                    i: /#(?!!)/
                }
        }),
    hljs.registerLanguage("ini",
        function(e) {
            var t = {
                cN: "string",
                c: [e.BE],
                v: [{
                    b: "'''",
                    e: "'''",
                    r: 10
                },
                    {
                        b: '"""',
                        e: '"""',
                        r: 10
                    },
                    {
                        b: '"',
                        e: '"'
                    },
                    {
                        b: "'",
                        e: "'"
                    }]
            };
            return {
                aliases: ["toml"],
                cI: !0,
                i: /\S/,
                c: [e.C(";", "$"), e.HCM, {
                    cN: "section",
                    b: /^\s*\[+/,
                    e: /\]+/
                },
                    {
                        b: /^[a-z0-9\[\]_-]+\s*=\s*/,
                        e: "$",
                        rB: !0,
                        c: [{
                            cN: "attr",
                            b: /[a-z0-9\[\]_-]+/
                        },
                            {
                                b: /=/,
                                eW: !0,
                                r: 0,
                                c: [{
                                    cN: "literal",
                                    b: /\bon|off|true|false|yes|no\b/
                                },
                                    {
                                        cN: "variable",
                                        v: [{
                                            b: /\$[\w\d"][\w\d_]*/
                                        },
                                            {
                                                b: /\$\{(.*?)}/
                                            }]
                                    },
                                    t, {
                                        cN: "number",
                                        b: /([\+\-]+)?[\d]+_[\d_]+/
                                    },
                                    e.NM]
                            }]
                    }]
            }
        }),
    hljs.registerLanguage("coffeescript",
        function(e) {
            var t, r, a, n = {
                    keyword: "in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super yield import export from as default await then unless until loop of by when and or is isnt not",
                    literal: "true false null undefined yes no on off",
                    built_in: "npm require console print module global window document"
                },
                i = "[A-Za-z$_][0-9A-Za-z$_]*",
                s = {
                    cN: "subst",
                    b: /#\{/,
                    e: /}/,
                    k: n
                },
                c = [e.BNM, e.inherit(e.CNM, {
                    starts: {
                        e: "(\\s*/)?",
                        r: 0
                    }
                }), {
                    cN: "string",
                    v: [{
                        b: /'''/,
                        e: /'''/,
                        c: [e.BE]
                    },
                        {
                            b: /'/,
                            e: /'/,
                            c: [e.BE]
                        },
                        {
                            b: /"""/,
                            e: /"""/,
                            c: [e.BE, s]
                        },
                        {
                            b: /"/,
                            e: /"/,
                            c: [e.BE, s]
                        }]
                },
                    {
                        cN: "regexp",
                        v: [{
                            b: "///",
                            e: "///",
                            c: [s, e.HCM]
                        },
                            {
                                b: "//[gim]*",
                                r: 0
                            },
                            {
                                b: /\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/
                            }]
                    },
                    {
                        b: "@" + i
                    },
                    {
                        sL: "javascript",
                        eB: !0,
                        eE: !0,
                        v: [{
                            b: "```",
                            e: "```"
                        },
                            {
                                b: "`",
                                e: "`"
                            }]
                    }];
            return s.c = c,
                t = e.inherit(e.TM, {
                    b: i
                }),
                r = "(\\(.*\\))?\\s*\\B[-=]>",
                a = {
                    cN: "params",
                    b: "\\([^\\(]",
                    rB: !0,
                    c: [{
                        b: /\(/,
                        e: /\)/,
                        k: n,
                        c: ["self"].concat(c)
                    }]
                },
                {
                    aliases: ["coffee", "cson", "iced"],
                    k: n,
                    i: /\/\*/,
                    c: c.concat([e.C("###", "###"), e.HCM, {
                        cN: "function",
                        b: "^\\s*" + i + "\\s*=\\s*" + r,
                        e: "[-=]>",
                        rB: !0,
                        c: [t, a]
                    },
                        {
                            b: /[:\(,=]\s*/,
                            r: 0,
                            c: [{
                                cN: "function",
                                b: r,
                                e: "[-=]>",
                                rB: !0,
                                c: [a]
                            }]
                        },
                        {
                            cN: "class",
                            bK: "class",
                            e: "$",
                            i: /[:="\[\]]/,
                            c: [{
                                bK: "extends",
                                eW: !0,
                                i: /[:="\[\]]/,
                                c: [t]
                            },
                                t]
                        },
                        {
                            b: i + ":",
                            e: ":",
                            rB: !0,
                            rE: !0,
                            r: 0
                        }])
                }
        }),
    hljs.registerLanguage("ruby",
        function(e) {
            var t, r = "[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",
                a = {
                    keyword: "and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",
                    literal: "true false nil"
                },
                n = {
                    cN: "doctag",
                    b: "@[A-Za-z]+"
                },
                i = {
                    b: "#<",
                    e: ">"
                },
                s = [e.C("#", "$", {
                    c: [n]
                }), e.C("^\\=begin", "^\\=end", {
                    c: [n],
                    r: 10
                }), e.C("^__END__", "\\n$")],
                c = {
                    cN: "subst",
                    b: "#\\{",
                    e: "}",
                    k: a
                },
                o = {
                    cN: "string",
                    c: [e.BE, c],
                    v: [{
                        b: /'/,
                        e: /'/
                    },
                        {
                            b: /"/,
                            e: /"/
                        },
                        {
                            b: /`/,
                            e: /`/
                        },
                        {
                            b: "%[qQwWx]?\\(",
                            e: "\\)"
                        },
                        {
                            b: "%[qQwWx]?\\[",
                            e: "\\]"
                        },
                        {
                            b: "%[qQwWx]?{",
                            e: "}"
                        },
                        {
                            b: "%[qQwWx]?<",
                            e: ">"
                        },
                        {
                            b: "%[qQwWx]?/",
                            e: "/"
                        },
                        {
                            b: "%[qQwWx]?%",
                            e: "%"
                        },
                        {
                            b: "%[qQwWx]?-",
                            e: "-"
                        },
                        {
                            b: "%[qQwWx]?\\|",
                            e: "\\|"
                        },
                        {
                            b: /\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/
                        },
                        {
                            b: /<<(-?)\w+$/,
                            e: /^\s*\w+$/
                        }]
                },
                l = {
                    cN: "params",
                    b: "\\(",
                    e: "\\)",
                    endsParent: !0,
                    k: a
                },
                d = [o, i, {
                    cN: "class",
                    bK: "class module",
                    e: "$|;",
                    i: /=/,
                    c: [e.inherit(e.TM, {
                        b: "[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"
                    }), {
                        b: "<\\s*",
                        c: [{
                            b: "(" + e.IR + "::)?" + e.IR
                        }]
                    }].concat(s)
                },
                    {
                        cN: "function",
                        bK: "def",
                        e: "$|;",
                        c: [e.inherit(e.TM, {
                            b: r
                        }), l].concat(s)
                    },
                    {
                        b: e.IR + "::"
                    },
                    {
                        cN: "symbol",
                        b: e.UIR + "(\\!|\\?)?:",
                        r: 0
                    },
                    {
                        cN: "symbol",
                        b: ":(?!\\s)",
                        c: [o, {
                            b: r
                        }],
                        r: 0
                    },
                    {
                        cN: "number",
                        b: "(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",
                        r: 0
                    },
                    {
                        b: "(\\$\\W)|((\\$|\\@\\@?)(\\w+))"
                    },
                    {
                        cN: "params",
                        b: /\|/,
                        e: /\|/,
                        k: a
                    },
                    {
                        b: "(" + e.RSR + "|unless)\\s*",
                        k: "unless",
                        c: [i, {
                            cN: "regexp",
                            c: [e.BE, c],
                            i: /\n/,
                            v: [{
                                b: "/",
                                e: "/[a-z]*"
                            },
                                {
                                    b: "%r{",
                                    e: "}[a-z]*"
                                },
                                {
                                    b: "%r\\(",
                                    e: "\\)[a-z]*"
                                },
                                {
                                    b: "%r!",
                                    e: "![a-z]*"
                                },
                                {
                                    b: "%r\\[",
                                    e: "\\][a-z]*"
                                }]
                        }].concat(s),
                        r: 0
                    }].concat(s);
            return c.c = d,
                t = [{
                    b: /^\s*=>/,
                    starts: {
                        e: "$",
                        c: l.c = d
                    }
                },
                    {
                        cN: "meta",
                        b: "^(" + "[>?]>" + "|" + "[\\w#]+\\(\\w+\\):\\d+:\\d+>" + "|" + "(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>" + ")",
                        starts: {
                            e: "$",
                            c: d
                        }
                    }],
                {
                    aliases: ["rb", "gemspec", "podspec", "thor", "irb"],
                    k: a,
                    i: /\/\*/,
                    c: s.concat(t).concat(d)
                }
        }),
    hljs.registerLanguage("sql",
        function(e) {
            var t = e.C("--", "$");
            return {
                cI: !0,
                i: /[<>{}*#]/,
                c: [{
                    bK: "begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment",
                    e: /;/,
                    eW: !0,
                    l: /[\w\.]+/,
                    k: {
                        keyword: "abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select self sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",
                        literal: "true false null",
                        built_in: "array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text varchar varying void"
                    },
                    c: [{
                        cN: "string",
                        b: "'",
                        e: "'",
                        c: [e.BE, {
                            b: "''"
                        }]
                    },
                        {
                            cN: "string",
                            b: '"',
                            e: '"',
                            c: [e.BE, {
                                b: '""'
                            }]
                        },
                        {
                            cN: "string",
                            b: "`",
                            e: "`",
                            c: [e.BE]
                        },
                        e.CNM, e.CBCM, t]
                },
                    e.CBCM, t]
            }
        }),
    hljs.registerLanguage("java",
        function(e) {
            var t = "false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",
                r = {
                    cN: "number",
                    b: "\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",
                    r: 0
                };
            return {
                aliases: ["jsp"],
                k: t,
                i: /<\/|#/,
                c: [e.C("/\\*\\*", "\\*/", {
                    r: 0,
                    c: [{
                        b: /\w+@/,
                        r: 0
                    },
                        {
                            cN: "doctag",
                            b: "@[A-Za-z]+"
                        }]
                }), e.CLCM, e.CBCM, e.ASM, e.QSM, {
                    cN: "class",
                    bK: "class interface",
                    e: /[{;=]/,
                    eE: !0,
                    k: "class interface",
                    i: /[:"\[\]]/,
                    c: [{
                        bK: "extends implements"
                    },
                        e.UTM]
                },
                    {
                        bK: "new throw return else",
                        r: 0
                    },
                    {
                        cN: "function",
                        b: "([À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(<[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(\\s*,\\s*[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*)*>)?\\s+)+" + e.UIR + "\\s*\\(",
                        rB: !0,
                        e: /[{;=]/,
                        eE: !0,
                        k: t,
                        c: [{
                            b: e.UIR + "\\s*\\(",
                            rB: !0,
                            r: 0,
                            c: [e.UTM]
                        },
                            {
                                cN: "params",
                                b: /\(/,
                                e: /\)/,
                                k: t,
                                r: 0,
                                c: [e.ASM, e.QSM, e.CNM, e.CBCM]
                            },
                            e.CLCM, e.CBCM]
                    },
                    r, {
                        cN: "meta",
                        b: "@[A-Za-z]+"
                    }]
            }
        }),
    hljs.registerLanguage("http",
        function(e) {
            var t = "HTTP/[0-9\\.]+";
            return {
                aliases: ["https"],
                i: "\\S",
                c: [{
                    b: "^" + t,
                    e: "$",
                    c: [{
                        cN: "number",
                        b: "\\b\\d{3}\\b"
                    }]
                },
                    {
                        b: "^[A-Z]+ (.*?) " + t + "$",
                        rB: !0,
                        e: "$",
                        c: [{
                            cN: "string",
                            b: " ",
                            e: " ",
                            eB: !0,
                            eE: !0
                        },
                            {
                                b: t
                            },
                            {
                                cN: "keyword",
                                b: "[A-Z]+"
                            }]
                    },
                    {
                        cN: "attribute",
                        b: "^\\w",
                        e: ": ",
                        eE: !0,
                        i: "\\n|\\s|=",
                        starts: {
                            e: "$",
                            r: 0
                        }
                    },
                    {
                        b: "\\n\\n",
                        starts: {
                            sL: [],
                            eW: !0
                        }
                    }]
            }
        }),
    hljs.registerLanguage("perl",
        function(e) {
            var t = "getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",
                r = {
                    cN: "subst",
                    b: "[$@]\\{",
                    e: "\\}",
                    k: t
                },
                a = {
                    b: "->{",
                    e: "}"
                },
                n = {
                    v: [{
                        b: /\$\d/
                    },
                        {
                            b: /[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/
                        },
                        {
                            b: /[\$%@][^\s\w{]/,
                            r: 0
                        }]
                },
                i = [e.BE, r, n],
                s = [n, e.HCM, e.C("^\\=\\w", "\\=cut", {
                    eW: !0
                }), a, {
                    cN: "string",
                    c: i,
                    v: [{
                        b: "q[qwxr]?\\s*\\(",
                        e: "\\)",
                        r: 5
                    },
                        {
                            b: "q[qwxr]?\\s*\\[",
                            e: "\\]",
                            r: 5
                        },
                        {
                            b: "q[qwxr]?\\s*\\{",
                            e: "\\}",
                            r: 5
                        },
                        {
                            b: "q[qwxr]?\\s*\\|",
                            e: "\\|",
                            r: 5
                        },
                        {
                            b: "q[qwxr]?\\s*\\<",
                            e: "\\>",
                            r: 5
                        },
                        {
                            b: "qw\\s+q",
                            e: "q",
                            r: 5
                        },
                        {
                            b: "'",
                            e: "'",
                            c: [e.BE]
                        },
                        {
                            b: '"',
                            e: '"'
                        },
                        {
                            b: "`",
                            e: "`",
                            c: [e.BE]
                        },
                        {
                            b: "{\\w+}",
                            c: [],
                            r: 0
                        },
                        {
                            b: "-?\\w+\\s*\\=\\>",
                            c: [],
                            r: 0
                        }]
                },
                    {
                        cN: "number",
                        b: "(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",
                        r: 0
                    },
                    {
                        b: "(\\/\\/|" + e.RSR + "|\\b(split|return|print|reverse|grep)\\b)\\s*",
                        k: "split return print reverse grep",
                        r: 0,
                        c: [e.HCM, {
                            cN: "regexp",
                            b: "(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",
                            r: 10
                        },
                            {
                                cN: "regexp",
                                b: "(m|qr)?/",
                                e: "/[a-z]*",
                                c: [e.BE],
                                r: 0
                            }]
                    },
                    {
                        cN: "function",
                        bK: "sub",
                        e: "(\\s*\\(.*?\\))?[;{]",
                        eE: !0,
                        r: 5,
                        c: [e.TM]
                    },
                    {
                        b: "-\\w\\b",
                        r: 0
                    },
                    {
                        b: "^__DATA__$",
                        e: "^__END__$",
                        sL: "mojolicious",
                        c: [{
                            b: "^@@.*",
                            e: "$",
                            cN: "comment"
                        }]
                    }];
            return r.c = s,
                {
                    aliases: ["pl", "pm"],
                    l: /[\w\.]+/,
                    k: t,
                    c: a.c = s
                }
        }),
    hljs.registerLanguage("xml",
        function(e) {
            var t = {
                eW: !0,
                i: /</,
                r: 0,
                c: [{
                    cN: "attr",
                    b: "[A-Za-z0-9\\._:-]+",
                    r: 0
                },
                    {
                        b: /=\s*/,
                        r: 0,
                        c: [{
                            cN: "string",
                            endsParent: !0,
                            v: [{
                                b: /"/,
                                e: /"/
                            },
                                {
                                    b: /'/,
                                    e: /'/
                                },
                                {
                                    b: /[^\s"'=<>`]+/
                                }]
                        }]
                    }]
            };
            return {
                aliases: ["html", "xhtml", "rss", "atom", "xjb", "xsd", "xsl", "plist"],
                cI: !0,
                c: [{
                    cN: "meta",
                    b: "<!DOCTYPE",
                    e: ">",
                    r: 10,
                    c: [{
                        b: "\\[",
                        e: "\\]"
                    }]
                },
                    e.C("\x3c!--", "--\x3e", {
                        r: 10
                    }), {
                        b: "<\\!\\[CDATA\\[",
                        e: "\\]\\]>",
                        r: 10
                    },
                    {
                        b: /<\?(php)?/,
                        e: /\?>/,
                        sL: "php",
                        c: [{
                            b: "/\\*",
                            e: "\\*/",
                            skip: !0
                        }]
                    },
                    {
                        cN: "tag",
                        b: "<style(?=\\s|>|$)",
                        e: ">",
                        k: {
                            name: "style"
                        },
                        c: [t],
                        starts: {
                            e: "</style>",
                            rE: !0,
                            sL: ["css", "xml"]
                        }
                    },
                    {
                        cN: "tag",
                        b: "<script(?=\\s|>|$)",
                        e: ">",
                        k: {
                            name: "script"
                        },
                        c: [t],
                        starts: {
                            e: "<\/script>",
                            rE: !0,
                            sL: ["actionscript", "javascript", "handlebars", "xml"]
                        }
                    },
                    {
                        cN: "meta",
                        v: [{
                            b: /<\?xml/,
                            e: /\?>/,
                            r: 10
                        },
                            {
                                b: /<\?\w+/,
                                e: /\?>/
                            }]
                    },
                    {
                        cN: "tag",
                        b: "</?",
                        e: "/?>",
                        c: [{
                            cN: "name",
                            b: /[^\/><\s]+/,
                            r: 0
                        },
                            t]
                    }]
            }
        }),
    hljs.registerLanguage("cpp",
        function(e) {
            var t = {
                    cN: "keyword",
                    b: "\\b[a-z\\d_]*_t\\b"
                },
                r = {
                    cN: "string",
                    v: [{
                        b: '(u8?|U)?L?"',
                        e: '"',
                        i: "\\n",
                        c: [e.BE]
                    },
                        {
                            b: '(u8?|U)?R"',
                            e: '"',
                            c: [e.BE]
                        },
                        {
                            b: "'\\\\?.",
                            e: "'",
                            i: "."
                        }]
                },
                a = {
                    cN: "number",
                    v: [{
                        b: "\\b(0b[01']+)"
                    },
                        {
                            b: "(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"
                        },
                        {
                            b: "(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"
                        }],
                    r: 0
                },
                n = {
                    cN: "meta",
                    b: /#\s*[a-z]+\b/,
                    e: /$/,
                    k: {
                        "meta-keyword": "if else elif endif define undef warning error line pragma ifdef ifndef include"
                    },
                    c: [{
                        b: /\\\n/,
                        r: 0
                    },
                        e.inherit(r, {
                            cN: "meta-string"
                        }), {
                            cN: "meta-string",
                            b: /<[^\n>]*>/,
                            e: /$/,
                            i: "\\n"
                        },
                        e.CLCM, e.CBCM]
                },
                i = e.IR + "\\s*\\(",
                s = {
                    keyword: "int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and or not",
                    built_in: "std string cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",
                    literal: "true false nullptr NULL"
                },
                c = [t, e.CLCM, e.CBCM, a, r];
            return {
                aliases: ["c", "cc", "h", "c++", "h++", "hpp"],
                k: s,
                i: "</",
                c: c.concat([n, {
                    b: "\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",
                    e: ">",
                    k: s,
                    c: ["self", t]
                },
                    {
                        b: e.IR + "::",
                        k: s
                    },
                    {
                        v: [{
                            b: /=/,
                            e: /;/
                        },
                            {
                                b: /\(/,
                                e: /\)/
                            },
                            {
                                bK: "new throw return else",
                                e: /;/
                            }],
                        k: s,
                        c: c.concat([{
                            b: /\(/,
                            e: /\)/,
                            k: s,
                            c: c.concat(["self"]),
                            r: 0
                        }]),
                        r: 0
                    },
                    {
                        cN: "function",
                        b: "(" + e.IR + "[\\*&\\s]+)+" + i,
                        rB: !0,
                        e: /[{;=]/,
                        eE: !0,
                        k: s,
                        i: /[^\w\s\*&]/,
                        c: [{
                            b: i,
                            rB: !0,
                            c: [e.TM],
                            r: 0
                        },
                            {
                                cN: "params",
                                b: /\(/,
                                e: /\)/,
                                k: s,
                                r: 0,
                                c: [e.CLCM, e.CBCM, r, a, t]
                            },
                            e.CLCM, e.CBCM, n]
                    },
                    {
                        cN: "class",
                        bK: "class struct",
                        e: /[{;:]/,
                        c: [{
                            b: /</,
                            e: />/,
                            c: ["self"]
                        },
                            e.TM]
                    }]),
                exports: {
                    preprocessor: n,
                    strings: r,
                    k: s
                }
            }
        }),
    hljs.registerLanguage("json",
        function(e) {
            var t = {
                    literal: "true false null"
                },
                r = [e.QSM, e.CNM],
                a = {
                    e: ",",
                    eW: !0,
                    eE: !0,
                    c: r,
                    k: t
                },
                n = {
                    b: "{",
                    e: "}",
                    c: [{
                        cN: "attr",
                        b: /"/,
                        e: /"/,
                        c: [e.BE],
                        i: "\\n"
                    },
                        e.inherit(a, {
                            b: /:/
                        })],
                    i: "\\S"
                },
                i = {
                    b: "\\[",
                    e: "\\]",
                    c: [e.inherit(a)],
                    i: "\\S"
                };
            return r.splice(r.length, 0, n, i),
                {
                    c: r,
                    k: t,
                    i: "\\S"
                }
        }),
    hljs.registerLanguage("cs",
        function(e) {
            var t, r, a = {
                    keyword: "abstract as base bool break byte case catch char checked const continue decimal default delegate do double enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long nameof object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending async await by descending dynamic equals from get global group into join let on orderby partial remove select set value var where yield",
                    literal: "null false true"
                },
                n = {
                    cN: "string",
                    b: '@"',
                    e: '"',
                    c: [{
                        b: '""'
                    }]
                },
                i = e.inherit(n, {
                    i: /\n/
                }),
                s = {
                    cN: "subst",
                    b: "{",
                    e: "}",
                    k: a
                },
                c = e.inherit(s, {
                    i: /\n/
                }),
                o = {
                    cN: "string",
                    b: /\$"/,
                    e: '"',
                    i: /\n/,
                    c: [{
                        b: "{{"
                    },
                        {
                            b: "}}"
                        },
                        e.BE, c]
                },
                l = {
                    cN: "string",
                    b: /\$@"/,
                    e: '"',
                    c: [{
                        b: "{{"
                    },
                        {
                            b: "}}"
                        },
                        {
                            b: '""'
                        },
                        s]
                },
                d = e.inherit(l, {
                    i: /\n/,
                    c: [{
                        b: "{{"
                    },
                        {
                            b: "}}"
                        },
                        {
                            b: '""'
                        },
                        c]
                });
            return s.c = [l, o, n, e.ASM, e.QSM, e.CNM, e.CBCM],
                c.c = [d, o, i, e.ASM, e.QSM, e.CNM, e.inherit(e.CBCM, {
                    i: /\n/
                })],
                t = {
                    v: [l, o, n, e.ASM, e.QSM]
                },
                r = e.IR + "(<" + e.IR + "(\\s*,\\s*" + e.IR + ")*>)?(\\[\\])?",
                {
                    aliases: ["csharp"],
                    k: a,
                    i: /::/,
                    c: [e.C("///", "$", {
                        rB: !0,
                        c: [{
                            cN: "doctag",
                            v: [{
                                b: "///",
                                r: 0
                            },
                                {
                                    b: "\x3c!--|--\x3e"
                                },
                                {
                                    b: "</?",
                                    e: ">"
                                }]
                        }]
                    }), e.CLCM, e.CBCM, {
                        cN: "meta",
                        b: "#",
                        e: "$",
                        k: {
                            "meta-keyword": "if else elif endif define undef warning error line region endregion pragma checksum"
                        }
                    },
                        t, e.CNM, {
                            bK: "class interface",
                            e: /[{;=]/,
                            i: /[^\s:]/,
                            c: [e.TM, e.CLCM, e.CBCM]
                        },
                        {
                            bK: "namespace",
                            e: /[{;=]/,
                            i: /[^\s:]/,
                            c: [e.inherit(e.TM, {
                                b: "[a-zA-Z](\\.?\\w)*"
                            }), e.CLCM, e.CBCM]
                        },
                        {
                            cN: "meta",
                            b: "^\\s*\\[",
                            eB: !0,
                            e: "\\]",
                            eE: !0,
                            c: [{
                                cN: "meta-string",
                                b: /"/,
                                e: /"/
                            }]
                        },
                        {
                            bK: "new return throw await else",
                            r: 0
                        },
                        {
                            cN: "function",
                            b: "(" + r + "\\s+)+" + e.IR + "\\s*\\(",
                            rB: !0,
                            e: /[{;=]/,
                            eE: !0,
                            k: a,
                            c: [{
                                b: e.IR + "\\s*\\(",
                                rB: !0,
                                c: [e.TM],
                                r: 0
                            },
                                {
                                    cN: "params",
                                    b: /\(/,
                                    e: /\)/,
                                    eB: !0,
                                    eE: !0,
                                    k: a,
                                    r: 0,
                                    c: [t, e.CNM, e.CBCM]
                                },
                                e.CLCM, e.CBCM]
                        }]
                }
        }),
    hljs.registerLanguage("nginx",
        function(e) {
            var t = {
                    cN: "variable",
                    v: [{
                        b: /\$\d+/
                    },
                        {
                            b: /\$\{/,
                            e: /}/
                        },
                        {
                            b: "[\\$\\@]" + e.UIR
                        }]
                },
                r = {
                    eW: !0,
                    l: "[a-z/_]+",
                    k: {
                        literal: "on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"
                    },
                    r: 0,
                    i: "=>",
                    c: [e.HCM, {
                        cN: "string",
                        c: [e.BE, t],
                        v: [{
                            b: /"/,
                            e: /"/
                        },
                            {
                                b: /'/,
                                e: /'/
                            }]
                    },
                        {
                            b: "([a-z]+):/",
                            e: "\\s",
                            eW: !0,
                            eE: !0,
                            c: [t]
                        },
                        {
                            cN: "regexp",
                            c: [e.BE, t],
                            v: [{
                                b: "\\s\\^",
                                e: "\\s|{|;",
                                rE: !0
                            },
                                {
                                    b: "~\\*?\\s+",
                                    e: "\\s|{|;",
                                    rE: !0
                                },
                                {
                                    b: "\\*(\\.[a-z\\-]+)+"
                                },
                                {
                                    b: "([a-z\\-]+\\.)+\\*"
                                }]
                        },
                        {
                            cN: "number",
                            b: "\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"
                        },
                        {
                            cN: "number",
                            b: "\\b\\d+[kKmMgGdshdwy]*\\b",
                            r: 0
                        },
                        t]
                };
            return {
                aliases: ["nginxconf"],
                c: [e.HCM, {
                    b: e.UIR + "\\s+{",
                    rB: !0,
                    e: "{",
                    c: [{
                        cN: "section",
                        b: e.UIR
                    }],
                    r: 0
                },
                    {
                        b: e.UIR + "\\s",
                        e: ";|{",
                        rB: !0,
                        c: [{
                            cN: "attribute",
                            b: e.UIR,
                            starts: r
                        }],
                        r: 0
                    }],
                i: "[^\\s\\}]"
            }
        }),
    hljs.registerLanguage("markdown",
        function(e) {
            return {
                aliases: ["md", "mkdown", "mkd"],
                c: [{
                    cN: "section",
                    v: [{
                        b: "^#{1,6}",
                        e: "$"
                    },
                        {
                            b: "^.+?\\n[=-]{2,}$"
                        }]
                },
                    {
                        b: "<",
                        e: ">",
                        sL: "xml",
                        r: 0
                    },
                    {
                        cN: "bullet",
                        b: "^([*+-]|(\\d+\\.))\\s+"
                    },
                    {
                        cN: "strong",
                        b: "[*_]{2}.+?[*_]{2}"
                    },
                    {
                        cN: "emphasis",
                        v: [{
                            b: "\\*.+?\\*"
                        },
                            {
                                b: "_.+?_",
                                r: 0
                            }]
                    },
                    {
                        cN: "quote",
                        b: "^>\\s+",
                        e: "$"
                    },
                    {
                        cN: "code",
                        v: [{
                            b: "^```w*s*$",
                            e: "^```s*$"
                        },
                            {
                                b: "`.+?`"
                            },
                            {
                                b: "^( {4}|\t)",
                                e: "$",
                                r: 0
                            }]
                    },
                    {
                        b: "^[-\\*]{3,}",
                        e: "$"
                    },
                    {
                        b: "\\[.+?\\][\\(\\[].*?[\\)\\]]",
                        rB: !0,
                        c: [{
                            cN: "string",
                            b: "\\[",
                            e: "\\]",
                            eB: !0,
                            rE: !0,
                            r: 0
                        },
                            {
                                cN: "link",
                                b: "\\]\\(",
                                e: "\\)",
                                eB: !0,
                                eE: !0
                            },
                            {
                                cN: "symbol",
                                b: "\\]\\[",
                                e: "\\]",
                                eB: !0,
                                eE: !0
                            }],
                        r: 10
                    },
                    {
                        b: /^\[[^\n]+\]:/,
                        rB: !0,
                        c: [{
                            cN: "symbol",
                            b: /\[/,
                            e: /\]/,
                            eB: !0,
                            eE: !0
                        },
                            {
                                cN: "link",
                                b: /:\s*/,
                                e: /$/,
                                eB: !0
                            }]
                    }]
            }
        }),
    hljs.registerLanguage("css",
        function(e) {
            var t = {
                b: /[A-Z\_\.\-]+\s*:/,
                rB: !0,
                e: ";",
                eW: !0,
                c: [{
                    cN: "attribute",
                    b: /\S/,
                    e: ":",
                    eE: !0,
                    starts: {
                        eW: !0,
                        eE: !0,
                        c: [{
                            b: /[\w-]+\(/,
                            rB: !0,
                            c: [{
                                cN: "built_in",
                                b: /[\w-]+/
                            },
                                {
                                    b: /\(/,
                                    e: /\)/,
                                    c: [e.ASM, e.QSM]
                                }]
                        },
                            e.CSSNM, e.QSM, e.ASM, e.CBCM, {
                                cN: "number",
                                b: "#[0-9A-Fa-f]+"
                            },
                            {
                                cN: "meta",
                                b: "!important"
                            }]
                    }
                }]
            };
            return {
                cI: !0,
                i: /[=\/|'\$]/,
                c: [e.CBCM, {
                    cN: "selector-id",
                    b: /#[A-Za-z0-9_-]+/
                },
                    {
                        cN: "selector-class",
                        b: /\.[A-Za-z0-9_-]+/
                    },
                    {
                        cN: "selector-attr",
                        b: /\[/,
                        e: /\]/,
                        i: "$"
                    },
                    {
                        cN: "selector-pseudo",
                        b: /:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/
                    },
                    {
                        b: "@(font-face|page)",
                        l: "[a-z-]+",
                        k: "font-face page"
                    },
                    {
                        b: "@",
                        e: "[{;]",
                        i: /:/,
                        c: [{
                            cN: "keyword",
                            b: /\w+/
                        },
                            {
                                b: /\s/,
                                eW: !0,
                                eE: !0,
                                r: 0,
                                c: [e.ASM, e.QSM, e.CSSNM]
                            }]
                    },
                    {
                        cN: "selector-tag",
                        b: "[a-zA-Z-][a-zA-Z0-9_-]*",
                        r: 0
                    },
                    {
                        b: "{",
                        e: "}",
                        i: /\S/,
                        c: [e.CBCM, t]
                    }]
            }
        }),
    hljs.registerLanguage("python",
        function(e) {
            var t = {
                    keyword: "and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False",
                    built_in: "Ellipsis NotImplemented"
                },
                r = {
                    cN: "meta",
                    b: /^(>>>|\.\.\.) /
                },
                a = {
                    cN: "subst",
                    b: /\{/,
                    e: /\}/,
                    k: t,
                    i: /#/
                },
                n = {
                    cN: "string",
                    c: [e.BE],
                    v: [{
                        b: /(u|b)?r?'''/,
                        e: /'''/,
                        c: [r],
                        r: 10
                    },
                        {
                            b: /(u|b)?r?"""/,
                            e: /"""/,
                            c: [r],
                            r: 10
                        },
                        {
                            b: /(fr|rf|f)'''/,
                            e: /'''/,
                            c: [r, a]
                        },
                        {
                            b: /(fr|rf|f)"""/,
                            e: /"""/,
                            c: [r, a]
                        },
                        {
                            b: /(u|r|ur)'/,
                            e: /'/,
                            r: 10
                        },
                        {
                            b: /(u|r|ur)"/,
                            e: /"/,
                            r: 10
                        },
                        {
                            b: /(b|br)'/,
                            e: /'/
                        },
                        {
                            b: /(b|br)"/,
                            e: /"/
                        },
                        {
                            b: /(fr|rf|f)'/,
                            e: /'/,
                            c: [a]
                        },
                        {
                            b: /(fr|rf|f)"/,
                            e: /"/,
                            c: [a]
                        },
                        e.ASM, e.QSM]
                },
                i = {
                    cN: "number",
                    r: 0,
                    v: [{
                        b: e.BNR + "[lLjJ]?"
                    },
                        {
                            b: "\\b(0o[0-7]+)[lLjJ]?"
                        },
                        {
                            b: e.CNR + "[lLjJ]?"
                        }]
                },
                s = {
                    cN: "params",
                    b: /\(/,
                    e: /\)/,
                    c: ["self", r, i, n]
                };
            return a.c = [n, i, r],
                {
                    aliases: ["py", "gyp"],
                    k: t,
                    i: /(<\/|->|\?)|=>/,
                    c: [r, i, n, e.HCM, {
                        v: [{
                            cN: "function",
                            bK: "def"
                        },
                            {
                                cN: "class",
                                bK: "class"
                            }],
                        e: /:/,
                        i: /[${=;\n,]/,
                        c: [e.UTM, s, {
                            b: /->/,
                            eW: !0,
                            k: "None"
                        }]
                    },
                        {
                            cN: "meta",
                            b: /^[\t ]*@/,
                            e: /$/
                        },
                        {
                            b: /\b(print|exec)\(/
                        }]
                }
        });
hljs.registerLanguage("objectivec",
    function(e) {
        var t = /[a-zA-Z@][a-zA-Z0-9_]*/,
            r = "@interface @class @protocol @implementation";
        return {
            aliases: ["mm", "objc", "obj-c"],
            k: {
                keyword: "int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",
                literal: "false true FALSE TRUE nil YES NO NULL",
                built_in: "BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"
            },
            l: t,
            i: "</",
            c: [{
                cN: "built_in",
                b: "\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"
            },
                e.CLCM, e.CBCM, e.CNM, e.QSM, {
                    cN: "string",
                    v: [{
                        b: '@"',
                        e: '"',
                        i: "\\n",
                        c: [e.BE]
                    },
                        {
                            b: "'",
                            e: "[^\\\\]'",
                            i: "[^\\\\][^']"
                        }]
                },
                {
                    cN: "meta",
                    b: "#",
                    e: "$",
                    c: [{
                        cN: "meta-string",
                        v: [{
                            b: '"',
                            e: '"'
                        },
                            {
                                b: "<",
                                e: ">"
                            }]
                    }]
                },
                {
                    cN: "class",
                    b: "(" + r.split(" ").join("|") + ")\\b",
                    e: "({|$)",
                    eE: !0,
                    k: r,
                    l: t,
                    c: [e.UTM]
                },
                {
                    b: "\\." + e.UIR,
                    r: 0
                }]
        }
    }),
    hljs.registerLanguage("php",
        function(e) {
            var t = {
                    b: "\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"
                },
                r = {
                    cN: "meta",
                    b: /<\?(php)?|\?>/
                },
                a = {
                    cN: "string",
                    c: [e.BE, r],
                    v: [{
                        b: 'b"',
                        e: '"'
                    },
                        {
                            b: "b'",
                            e: "'"
                        },
                        e.inherit(e.ASM, {
                            i: null
                        }), e.inherit(e.QSM, {
                            i: null
                        })]
                },
                n = {
                    v: [e.BNM, e.CNM]
                };
            return {
                aliases: ["php3", "php4", "php5", "php6"],
                cI: !0,
                k: "and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",
                c: [e.HCM, e.C("//", "$", {
                    c: [r]
                }), e.C("/\\*", "\\*/", {
                    c: [{
                        cN: "doctag",
                        b: "@[A-Za-z]+"
                    }]
                }), e.C("__halt_compiler.+?;", !1, {
                    eW: !0,
                    k: "__halt_compiler",
                    l: e.UIR
                }), {
                    cN: "string",
                    b: /<<<['"]?\w+['"]?$/,
                    e: /^\w+;?$/,
                    c: [e.BE, {
                        cN: "subst",
                        v: [{
                            b: /\$\w+/
                        },
                            {
                                b: /\{\$/,
                                e: /\}/
                            }]
                    }]
                },
                    r, {
                        cN: "keyword",
                        b: /\$this\b/
                    },
                    t, {
                        b: /(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/
                    },
                    {
                        cN: "function",
                        bK: "function",
                        e: /[;{]/,
                        eE: !0,
                        i: "\\$|\\[|%",
                        c: [e.UTM, {
                            cN: "params",
                            b: "\\(",
                            e: "\\)",
                            c: ["self", t, e.CBCM, a, n]
                        }]
                    },
                    {
                        cN: "class",
                        bK: "class interface",
                        e: "{",
                        eE: !0,
                        i: /[:\(\$"]/,
                        c: [{
                            bK: "extends implements"
                        },
                            e.UTM]
                    },
                    {
                        bK: "namespace",
                        e: ";",
                        i: /[\.']/,
                        c: [e.UTM]
                    },
                    {
                        bK: "use",
                        e: ";",
                        c: [e.UTM]
                    },
                    {
                        b: "=>"
                    },
                    a, n]
            }
        }),
    hljs.registerLanguage("diff",
        function(e) {
            return {
                aliases: ["patch"],
                c: [{
                    cN: "meta",
                    r: 10,
                    v: [{
                        b: /^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/
                    },
                        {
                            b: /^\*\*\* +\d+,\d+ +\*\*\*\*$/
                        },
                        {
                            b: /^\-\-\- +\d+,\d+ +\-\-\-\-$/
                        }]
                },
                    {
                        cN: "comment",
                        v: [{
                            b: /Index: /,
                            e: /$/
                        },
                            {
                                b: /={3,}/,
                                e: /$/
                            },
                            {
                                b: /^\-{3}/,
                                e: /$/
                            },
                            {
                                b: /^\*{3} /,
                                e: /$/
                            },
                            {
                                b: /^\+{3}/,
                                e: /$/
                            },
                            {
                                b: /\*{5}/,
                                e: /\*{5}$/
                            }]
                    },
                    {
                        cN: "addition",
                        b: "^\\+",
                        e: "$"
                    },
                    {
                        cN: "deletion",
                        b: "^\\-",
                        e: "$"
                    },
                    {
                        cN: "addition",
                        b: "^\\!",
                        e: "$"
                    }]
            }
        }),
    hljs.registerLanguage("makefile",
        function(e) {
            var t = {
                    cN: "variable",
                    v: [{
                        b: "\\$\\(" + e.UIR + "\\)",
                        c: [e.BE]
                    },
                        {
                            b: /\$[@%<?\^\+\*]/
                        }]
                },
                r = {
                    cN: "string",
                    b: /"/,
                    e: /"/,
                    c: [e.BE, t]
                },
                a = {
                    cN: "variable",
                    b: /\$\([\w-]+\s/,
                    e: /\)/,
                    k: {
                        built_in: "subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"
                    },
                    c: [t]
                },
                n = {
                    b: "^" + e.UIR + "\\s*[:+?]?=",
                    i: "\\n",
                    rB: !0,
                    c: [{
                        b: "^" + e.UIR,
                        e: "[:+?]?=",
                        eE: !0
                    }]
                },
                i = {
                    cN: "section",
                    b: /^[^\s]+:/,
                    e: /$/,
                    c: [t]
                };
            return {
                aliases: ["mk", "mak"],
                k: "define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath",
                l: /[\w-]+/,
                c: [e.HCM, t, r, a, n, {
                    cN: "meta",
                    b: /^\.PHONY:/,
                    e: /$/,
                    k: {
                        "meta-keyword": ".PHONY"
                    },
                    l: /[\.\w]+/
                },
                    i]
            }
        });
var selectRange = function(e) {
    this.__element = e
};
selectRange.of = function(e) {
    return e ? new selectRange(e) : {}
},
    selectRange.prototype = {
        constructor: selectRange,
        getCurPos: function() {
            var e, t = this,
                n = t.__element,
                c = 0;
            return document.selection ? (n.focus(), (e = document.selection.createRange()).moveStart("character", -n.value.length), c = e.text.length) : (n.selectionStart || "0" == n.selectionStart) && (c = n.selectionStart),
                c
        },
        setCurPos: function(e) {
            var t, n = this,
                c = n.__element;
            c.setSelectionRange ? (c.focus(), c.setSelectionRange(e, e)) : c.createTextRange && ((t = c.createTextRange()).collapse(!0), t.moveEnd("character", e), t.moveStart("character", e), t.select())
        },
        getSelectText: function() {
            var e, t = "";
            return window.getSelection ? e = window.getSelection() : document.selection && (e = document.selection.createRange()),
            (t = e.text) || (t = e),
                t
        },
        setSelectText: function(e, t) {
            var n, c, a = this,
                o = a.__element;
            e = parseInt(e),
                t = parseInt(t),
            (n = o.value.length) && (e || (e = 0), t || (t = n), n < e && (e = n), n < t && (t = n), e < 0 && (e = n + e), t < 0 && (t = n + t), o.createTextRange ? ((c = o.createTextRange()).moveStart("character", -n), c.moveEnd("character", -n), c.moveStart("character", e), c.moveEnd("character", t), c.select()) : (o.setSelectionRange(e, t), o.focus()))
        },
        insertAfterText: function(e) {
            var t, n, c, a = this,
                o = a.__element;
            document.selection ? (o.focus(), document.selection.createRange().text = e, o.focus()) : o.selectionStart || "0" == o.selectionStart ? (t = o.selectionStart, n = o.selectionEnd, c = o.scrollTop, o.value = o.value.substring(0, t) + e + o.value.substring(n, o.value.length), o.focus(), o.selectionStart = t + e.length, o.selectionEnd = t + e.length, o.scrollTop = c) : (o.value += e, o.focus())
        }
    };
window.ObjHelper = {
    copy: function(r, o) {
        if (! (r instanceof Object)) throw new Error("copy object error!");
        var e = {},
            c = this;
        return Object.keys(r).forEach(function(t) {
            if (! (o instanceof Array && -1 < o.indexOf(t))) {
                var n = r[t];
                e[t] = null === n || "object" != typeof n ? n: c.copy(n)
            }
        }),
            e
    },
    set: function(r, o, e) {
        if (r instanceof Object && o instanceof Object) {
            var c = this;
            Object.keys(r).forEach(function(t) {
                var n = o[t];
                if (void 0 !== n && r.hasOwnProperty(t)) {
                    if ("function" == typeof e) return void(r[t] = e(t, n));
                    if ("object" == typeof r[t]) return void c.set(r[t], o[t], e);
                    r[t] = r[t].constructor.call(null, n)
                }
            })
        }
    },
    toJson: function(t) {
        if ("string" == typeof t) try {
            return JSON.parse(t)
        } catch(t) {
            return ! 1
        }
        return t
    }
}; !
    function(u) {
        var t, o, d = {
                btnSelector: ".collect-btn",
                btnLabelSelector: "[data-label]",
                popupSelector: ".collect.popup",
                formSelector: ".collect.form",
                uniqueFlag: "",
                objectId: "",
                objectKey: "",
                objectFromOSC: !0,
                objectTypeId: "",
                userId: "",
                recommendTags: [],
                maxNum: 99,
                requiredTags: !1,
                activeClass: "active",
                nonActivatedIconClass: "outline",
                initFormatLabel: !0
            },
            m = function(t) {
                var o = this;
                if ("object" == typeof t) return o.option = u.extend({},
                    d, t),
                    o._collectPopupBtn = u(o.option.btnSelector + '[data-flag="' + o.option.uniqueFlag + '"]'),
                    o._collectLabel = o._collectPopupBtn.find(o.option.btnLabelSelector),
                    o._collectPopup = u(o.option.popupSelector + '[data-flag="' + o.option.uniqueFlag + '"]'),
                    void(o._collectForm = o._collectPopup.find(o.option.formSelector))
            };
        m.prototype.init = function() {
            var t = this;
            t.option.initFormatLabel && 0 < t._collectLabel.length && m.labelFormat(t._collectLabel, t.option.maxNum),
                t.insertRecommendTags(),
                t.btnPopup(),
                t.blurTagEvent(),
                t.formInit(),
                t.bindTagsEvent()
        },
            m.prototype.insertRecommendTags = function() {
                var t, o, e, n, a, c = this;
                if (0 < c.option.recommendTags.length) {
                    for (t = "", o = c.option.recommendTags.length, e = c._collectPopup.find(".recommend-tags"), n = 0; n < o; n++) t += '<a class="ui label" data-value="' + (a = c.option.recommendTags[n]) + '">' + a + "</a>";
                    e.find(".labels").html(t + e.find(".labels").html()),
                        e.show()
                }
            },
            m.prototype.btnPopup = function() {
                var l = this;
                l._collectPopupBtn.popup({
                    popup: l._collectPopup,
                    position: "bottom center",
                    on: "click",
                    onShow: function() {
                        if (l._collectPopupBtn.hasClass(l.option.activeClass)) {
                            var t = {
                                type: l.option.objectTypeId,
                                user: l.option.userId
                            };
                            return l.option.objectFromOSC ? t.id = l.option.objectId: t.articleKey = l.option.objectKey,
                                u.post(page.space_user_url + "/favorites/cancel", t,
                                    function(t) {
                                        var o, e, n, a, c = t && "string" == typeof t ? JSON.parse(t) : t;
                                        1 === c.code ? (o = m.getCollectNumFriendly(c.result, l.option.maxNum), e = '[data-obj-type="' + l.option.objectTypeId + '"]', l.option.objectFromOSC ? e += '[data-id="' + l.option.objectId + '"]': e += '[data-key="' + l.option.objectKey + '"]', (n = u(l.option.btnSelector + e)).removeClass(l.option.activeClass), n.find(".icon").addClass(l.option.nonActivatedIconClass), 0 < (a = n.find(l.option.btnLabelSelector)).length && a.html("收藏(" + o + ")"), u("[data-collect-count]" + e).html(o)) : u("body").toast({
                                            type: "error",
                                            content: "取消收藏失败"
                                        })
                                    }),
                                !1
                        }
                        l._collectForm.form("reset"),
                            l._collectForm.message("hideAll")
                    },
                    onVisible: function() {
                        l._collectPopupBtn.hasClass(l.option.activeClass) || l._collectForm.find('input[name="tags"]').focus()
                    }
                })
            },
            m.prototype.showPopup = function() {
                this._collectPopupBtn.popup("show")
            },
            m.prototype.blurTagEvent = function() {
                var t = this,
                    o = t._collectForm.find("input[name=tags]");
                t._collectForm.on("focusout", o,
                    function(t) {
                        setTimeout(function() {
                                o.scrollLeft(o[0].scrollWidth)
                            },
                            0)
                    })
            },
            m.prototype.formInit = function() {
                var r = this;
                r._collectForm.form({
                    inline: !0,
                    keyboardShortcuts: !1,
                    on: "blur"
                }),
                r.option.requiredTags && r._collectForm.form("add rule", "tags", {
                    identifier: "tags",
                    rules: [{
                        type: "empty",
                        prompt: "必须填写收藏标签"
                    }]
                }),
                    r._collectForm.api({
                        url: page.space_user_url + "/favorites/add",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(t) {
                            if (r._collectForm.message("hideAll"), !r._collectForm.form("validate form")) return ! 1;
                            var o = t.data;
                            return t.data = {
                                type: r.option.objectTypeId,
                                user: r.option.userId,
                                tags: o.tags
                            },
                                r.option.objectFromOSC ? t.data.id = r.option.objectId: t.data.articleKey = r.option.objectKey,
                                t
                        },
                        onSuccess: function(t, o, e) {
                            var n, a, c, l;
                            1 === t.code ? (n = m.getCollectNumFriendly(t.result, r.option.maxNum), r._collectForm.form("reset"), a = '[data-obj-type="' + r.option.objectTypeId + '"]', r.option.objectFromOSC ? a += '[data-id="' + r.option.objectId + '"]': a += '[data-key="' + r.option.objectKey + '"]', (c = u(r.option.btnSelector + a)).addClass(r.option.activeClass), c.find(".icon").removeClass(r.option.nonActivatedIconClass), 0 < (l = c.find(r.option.btnLabelSelector)).length && l.html("已收藏(" + n + ")"), u("[data-collect-count]" + a).html(n), r._collectPopupBtn.popup("hide")) : r._collectForm.message({
                                type: "negative",
                                content: "收藏失败"
                            })
                        },
                        onFailure: function(t, o) {
                            r._collectForm.message({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    })
            },
            m.prototype.bindTagsEvent = function() {
                var l = this;
                l._collectForm.on("click", ".label",
                    function(t) {
                        var e = u(this).attr("data-value"),
                            o = l._collectForm.find("input[name=tags]"),
                            n = m.commaStr2Arr(o.val()),
                            a = -1,
                            c = n.some(function(t, o) {
                                return t.trim() === e && (a = o, !0)
                            });
                        c ? n.splice(a, 1) : n.push(e),
                            o.val(n.join(",")).focus(),
                            l._collectForm.form("validate form")
                    })
            },
            m.getCollectNumFriendly = function(t, o) {
                return t
            },
            m.labelFormat = function(t, e) {
                var o = t.html();
                o = o.replace(/\((.*)?\)/,
                    function(t, o) {
                        return "(" + m.getCollectNumFriendly(o, e) + ")"
                    }),
                    t.html(o)
            },
            m.commaStr2Arr = function(t) {
                var o = [];
                return t && 0 < t.trim().length && (o = (o = t.trim().replace(/，/gi, ",").split(",")).filter(function(t) {
                    return t && t.trim()
                })),
                    o
            },
            window.OSCCollect = m,
            t = function() {
                u(".collect-btn span.label").each(function(t, o) {
                    var e = u(o),
                        n = parseInt(e.attr("data-max")) || d.maxNum;
                    m.labelFormat(e, n)
                })
            },
            o = function() {
                u(document).on("click", ".collect-btn",
                    function(t) {
                        var o, e, n, a, c, l, r, i, p, s;
                        if (!window.common.checkLogin()) return ! 1;
                        if (e = (o = u(this)).attr("data-user-id"), n = parseInt(o.attr("data-obj-type")), e === o.attr("data-current-user-id")) {
                            switch (a = "内容", n) {
                                case 1:
                                    a = "软件";
                                    break;
                                case 2:
                                    a = "问答";
                                    break;
                                case 3:
                                    a = "博客";
                                    break;
                                case 4:
                                    a = "新闻"
                            }
                            return u("body").toast({
                                type: "error",
                                content: "不能收藏自己的" + a
                            }),
                                !1
                        }
                        c = o.attr("data-flag") || Math.random().toString(36).substr(2, 6),
                            o.attr("data-flag", c),
                            l = m.commaStr2Arr(o.attr("data-recommend-tags")),
                            r = o.attr("data-id"),
                            i = o.attr("data-key"),
                            p = !0,
                            r && "" !== r && 0 < parseInt(r) ? p = !0 : i && "" !== i && (p = !1),
                            s = {
                                btnSelector: ".collect-btn",
                                popupSelector: ".collect.popup",
                                uniqueFlag: c,
                                objectId: r,
                                objectKey: i,
                                objectFromOSC: p,
                                objectTypeId: o.attr("data-obj-type"),
                                userId: o.attr("data-current-user-id"),
                                recommendTags: l,
                                maxNum: parseInt(o.attr("data-max")) || d.maxNum,
                                requiredTag: void 0 !== o.attr("data-tag-required"),
                                initFormatLabel: !1
                            },
                        0 === u('.collect.popup[data-flag="' + c + '"]').length && !0 !== window.oscCollectLoading && (window.oscCollectLoading = !0, u.get(page.space_user_url + "/widgets/collect_popup",
                            function(t) {
                                var o, e = document.createElement("div");
                                e.innerHTML = t,
                                    u(e).find(".collect.popup").attr("data-flag", c),
                                    document.body.appendChild(e),
                                    (o = new m(s)).init(),
                                    o.showPopup()
                            }).always(function() {
                            window.oscCollectLoading = !1
                        }))
                    })
            },
            new window.common.dynamicLoader(["/new-osc/js/utils/plugins/jquery.serialize-object.min.js", "/new-osc/js/utils/plugins/osc-message.js"]).loadFiles(),
            t(),
            o()
    } (window.jQuery || window.$); !
    function(r) {
        var o = {
                commentFormSelector: "#commentForm",
                commentsWrapEl: r(".comments-wrap"),
                toggleLoadComments: r.noop(),
                url: "",
                params: {},
                contentField: "content"
            },
            e = function(e) {
                "object" != typeof e || (this.option = r.extend({},
                    o, e))
            };
        e.prototype.init = function() {
            var e = this;
            e.commentsWrapEl = e.option.commentsWrapEl,
                e.initCommentForm(),
                e.initToolBoxPopup()
        },
            e.prototype.initCommentForm = function() {
                var n = this;
                n.commentFormVue = new Vue({
                    el: n.option.commentFormSelector,
                    data: function() {
                        return {
                            commentMaxLength: 1e3,
                            commentContent: "",
                            commentPublishLoading: !1,
                            tipMessage: {
                                show: !1,
                                content: "",
                                className: ""
                            },
                            curEmojiType: "People",
                            emojiList: [{
                                type: "People",
                                items: ["bowtie", "smile", "laughing", "blush", "smiley", "relaxed", "smirk", "heart_eyes", "kissing_heart", "kissing_closed_eyes", "flushed", "relieved", "satisfied", "grin", "wink", "stuck_out_tongue_winking_eye", "stuck_out_tongue_closed_eyes", "grinning", "kissing", "kissing_smiling_eyes", "stuck_out_tongue", "sleeping", "worried", "frowning", "anguished", "open_mouth", "grimacing", "confused", "hushed", "expressionless", "unamused", "sweat_smile", "sweat", "disappointed_relieved", "weary", "pensive", "disappointed", "confounded", "fearful", "cold_sweat", "persevere", "cry", "sob", "joy", "astonished", "scream", "neckbeard", "tired_face", "angry", "rage", "triumph", "sleepy", "yum", "mask", "sunglasses", "dizzy_face", "imp", "smiling_imp", "neutral_face", "no_mouth", "innocent", "alien", "yellow_heart", "blue_heart", "purple_heart", "heart", "green_heart", "broken_heart", "heartbeat", "heartpulse", "two_hearts", "revolving_hearts", "cupid", "sparkling_heart", "sparkles", "star", "star2", "dizzy", "boom", "collision", "anger", "exclamation", "question", "grey_exclamation", "grey_question", "zzz", "dash", "sweat_drops", "notes", "musical_note", "fire", "hankey", "poop", "shit", "+1", "thumbsup", "-1", "thumbsdown", "ok_hand", "punch", "facepunch", "fist", "v", "wave", "hand", "raised_hand", "open_hands", "point_up", "point_down", "point_left", "point_right", "raised_hands", "pray", "point_up_2", "clap", "muscle", "metal", "fu", "walking", "runner", "running", "couple", "family", "two_men_holding_hands", "two_women_holding_hands", "dancer", "dancers", "ok_woman", "no_good", "information_desk_person", "raising_hand", "bride_with_veil", "person_with_pouting_face", "person_frowning", "bow", "couplekiss", "couple_with_heart", "massage", "haircut", "nail_care", "boy", "girl", "woman", "man", "baby", "older_woman", "older_man", "person_with_blond_hair", "man_with_gua_pi_mao", "man_with_turban", "construction_worker", "cop", "angel", "princess", "smiley_cat", "smile_cat", "heart_eyes_cat", "kissing_cat", "smirk_cat", "scream_cat", "crying_cat_face", "joy_cat", "pouting_cat", "japanese_ogre", "japanese_goblin", "see_no_evil", "hear_no_evil", "speak_no_evil", "guardsman", "skull", "feet", "lips", "kiss", "droplet", "ear", "eyes", "nose", "tongue", "love_letter", "bust_in_silhouette", "busts_in_silhouette", "speech_balloon", "thought_balloon", "feelsgood", "finnadie", "goberserk", "godmode", "hurtrealbad", "rage1", "rage2", "rage3", "rage4", "suspect", "trollface"]
                            },
                                {
                                    type: "Nature",
                                    items: ["sunny", "umbrella", "cloud", "snowflake", "snowman", "zap", "cyclone", "foggy", "ocean", "cat", "dog", "mouse", "hamster", "rabbit", "wolf", "frog", "tiger", "koala", "bear", "pig", "pig_nose", "cow", "boar", "monkey_face", "monkey", "horse", "racehorse", "camel", "sheep", "elephant", "panda_face", "snake", "bird", "baby_chick", "hatched_chick", "hatching_chick", "chicken", "penguin", "turtle", "bug", "honeybee", "ant", "beetle", "snail", "octopus", "tropical_fish", "fish", "whale", "whale2", "dolphin", "cow2", "ram", "rat", "water_buffalo", "tiger2", "rabbit2", "dragon", "goat", "rooster", "dog2", "pig2", "mouse2", "ox", "dragon_face", "blowfish", "crocodile", "dromedary_camel", "leopard", "cat2", "poodle", "paw_prints", "bouquet", "cherry_blossom", "tulip", "four_leaf_clover", "rose", "sunflower", "hibiscus", "maple_leaf", "leaves", "fallen_leaf", "herb", "mushroom", "cactus", "palm_tree", "evergreen_tree", "deciduous_tree", "chestnut", "seedling", "blossom", "ear_of_rice", "shell", "globe_with_meridians", "sun_with_face", "full_moon_with_face", "new_moon_with_face", "new_moon", "waxing_crescent_moon", "first_quarter_moon", "waxing_gibbous_moon", "full_moon", "waning_gibbous_moon", "last_quarter_moon", "waning_crescent_moon", "last_quarter_moon_with_face", "first_quarter_moon_with_face", "moon", "earth_africa", "earth_americas", "earth_asia", "volcano", "milky_way", "partly_sunny", "octocat", "squirrel"]
                                },
                                {
                                    type: "Objects",
                                    items: ["bamboo", "gift_heart", "dolls", "school_satchel", "mortar_board", "flags", "fireworks", "sparkler", "wind_chime", "rice_scene", "jack_o_lantern", "ghost", "santa", "christmas_tree", "gift", "bell", "no_bell", "tanabata_tree", "tada", "confetti_ball", "balloon", "crystal_ball", "cd", "dvd", "floppy_disk", "camera", "video_camera", "movie_camera", "computer", "tv", "iphone", "phone", "telephone", "telephone_receiver", "pager", "fax", "minidisc", "vhs", "sound", "speaker", "mute", "loudspeaker", "mega", "hourglass", "hourglass_flowing_sand", "alarm_clock", "watch", "radio", "satellite", "loop", "mag", "mag_right", "unlock", "lock", "lock_with_ink_pen", "closed_lock_with_key", "key", "bulb", "flashlight", "high_brightness", "low_brightness", "electric_plug", "battery", "calling", "email", "mailbox", "postbox", "bath", "bathtub", "shower", "toilet", "wrench", "nut_and_bolt", "hammer", "seat", "moneybag", "yen", "dollar", "pound", "euro", "credit_card", "money_with_wings", "e-mail", "inbox_tray", "outbox_tray", "envelope", "incoming_envelope", "postal_horn", "mailbox_closed", "mailbox_with_mail", "mailbox_with_no_mail", "package", "door", "smoking", "bomb", "gun", "hocho", "pill", "syringe", "page_facing_up", "page_with_curl", "bookmark_tabs", "bar_chart", "chart_with_upwards_trend", "chart_with_downwards_trend", "scroll", "clipboard", "calendar", "date", "card_index", "file_folder", "open_file_folder", "scissors", "pushpin", "paperclip", "black_nib", "pencil2", "straight_ruler", "triangular_ruler", "closed_book", "green_book", "blue_book", "orange_book", "notebook", "notebook_with_decorative_cover", "ledger", "books", "bookmark", "name_badge", "microscope", "telescope", "newspaper", "football", "basketball", "soccer", "baseball", "tennis", "8ball", "rugby_football", "bowling", "golf", "mountain_bicyclist", "bicyclist", "horse_racing", "snowboarder", "swimmer", "surfer", "ski", "spades", "hearts", "clubs", "diamonds", "gem", "ring", "trophy", "musical_score", "musical_keyboard", "violin", "space_invader", "video_game", "black_joker", "flower_playing_cards", "game_die", "dart", "mahjong", "clapper", "memo", "pencil", "book", "art", "microphone", "headphones", "trumpet", "saxophone", "guitar", "shoe", "sandal", "high_heel", "lipstick", "boot", "shirt", "tshirt", "necktie", "womans_clothes", "dress", "running_shirt_with_sash", "jeans", "kimono", "bikini", "ribbon", "tophat", "crown", "womans_hat", "mans_shoe", "closed_umbrella", "briefcase", "handbag", "pouch", "purse", "eyeglasses", "fishing_pole_and_fish", "coffee", "tea", "sake", "baby_bottle", "beer", "beers", "cocktail", "tropical_drink", "wine_glass", "fork_and_knife", "pizza", "hamburger", "fries", "poultry_leg", "meat_on_bone", "spaghetti", "curry", "fried_shrimp", "bento", "sushi", "fish_cake", "rice_ball", "rice_cracker", "rice", "ramen", "stew", "oden", "dango", "egg", "bread", "doughnut", "custard", "icecream", "ice_cream", "shaved_ice", "birthday", "cake", "cookie", "chocolate_bar", "candy", "lollipop", "honey_pot", "apple", "green_apple", "tangerine", "lemon", "cherries", "grapes", "watermelon", "strawberry", "peach", "melon", "banana", "pear", "pineapple", "sweet_potato", "eggplant", "tomato", "corn"]
                                },
                                {
                                    type: "Places",
                                    items: ["house", "house_with_garden", "school", "office", "post_office", "hospital", "bank", "convenience_store", "love_hotel", "hotel", "wedding", "church", "department_store", "european_post_office", "city_sunrise", "city_sunset", "japanese_castle", "european_castle", "tent", "factory", "tokyo_tower", "japan", "mount_fuji", "sunrise_over_mountains", "sunrise", "stars", "statue_of_liberty", "bridge_at_night", "carousel_horse", "rainbow", "ferris_wheel", "fountain", "roller_coaster", "ship", "speedboat", "boat", "sailboat", "rowboat", "anchor", "rocket", "airplane", "helicopter", "steam_locomotive", "tram", "mountain_railway", "bike", "aerial_tramway", "suspension_railway", "mountain_cableway", "tractor", "blue_car", "oncoming_automobile", "car", "red_car", "taxi", "oncoming_taxi", "articulated_lorry", "bus", "oncoming_bus", "rotating_light", "police_car", "oncoming_police_car", "fire_engine", "ambulance", "minibus", "truck", "train", "station", "train2", "bullettrain_front", "bullettrain_side", "light_rail", "monorail", "railway_car", "trolleybus", "ticket", "fuelpump", "vertical_traffic_light", "traffic_light", "warning", "construction", "beginner", "atm", "slot_machine", "busstop", "barber", "hotsprings", "checkered_flag", "crossed_flags", "izakaya_lantern", "moyai", "circus_tent", "performing_arts", "round_pushpin", "triangular_flag_on_post", "jp", "kr", "cn", "us", "fr", "es", "it", "ru", "gb", "uk", "de"]
                                },
                                {
                                    type: "Symbols",
                                    items: ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "keycap_ten", "1234", "zero", "hash", "symbols", "arrow_backward", "arrow_down", "arrow_forward", "arrow_left", "capital_abcd", "abcd", "abc", "arrow_lower_left", "arrow_lower_right", "arrow_right", "arrow_up", "arrow_upper_left", "arrow_upper_right", "arrow_double_down", "arrow_double_up", "arrow_down_small", "arrow_heading_down", "arrow_heading_up", "leftwards_arrow_with_hook", "arrow_right_hook", "left_right_arrow", "arrow_up_down", "arrow_up_small", "arrows_clockwise", "arrows_counterclockwise", "rewind", "fast_forward", "information_source", "ok", "twisted_rightwards_arrows", "repeat", "repeat_one", "new", "top", "up", "cool", "free", "ng", "cinema", "koko", "signal_strength", "u5272", "u5408", "u55b6", "u6307", "u6708", "u6709", "u6e80", "u7121", "u7533", "u7a7a", "u7981", "sa", "restroom", "mens", "womens", "baby_symbol", "no_smoking", "parking", "wheelchair", "metro", "baggage_claim", "accept", "wc", "potable_water", "put_litter_in_its_place", "secret", "congratulations", "m", "passport_control", "left_luggage", "customs", "ideograph_advantage", "cl", "sos", "id", "no_entry_sign", "underage", "no_mobile_phones", "do_not_litter", "non-potable_water", "no_bicycles", "no_pedestrians", "children_crossing", "no_entry", "eight_spoked_asterisk", "sparkle", "eight_pointed_black_star", "heart_decoration", "vs", "vibration_mode", "mobile_phone_off", "chart", "currency_exchange", "aries", "taurus", "gemini", "cancer", "leo", "virgo", "libra", "scorpius", "sagittarius", "capricorn", "aquarius", "pisces", "ophiuchus", "six_pointed_star", "negative_squared_cross_mark", "a", "b", "ab", "o2", "diamond_shape_with_a_dot_inside", "recycle", "end", "back", "on", "soon", "clock1", "clock130", "clock10", "clock1030", "clock11", "clock1130", "clock12", "clock1230", "clock2", "clock230", "clock3", "clock330", "clock4", "clock430", "clock5", "clock530", "clock6", "clock630", "clock7", "clock730", "clock8", "clock830", "clock9", "clock930", "heavy_dollar_sign", "copyright", "registered", "tm", "x", "heavy_exclamation_mark", "bangbang", "interrobang", "o", "heavy_multiplication_x", "heavy_plus_sign", "heavy_minus_sign", "heavy_division_sign", "white_flower", "100", "heavy_check_mark", "ballot_box_with_check", "radio_button", "link", "curly_loop", "wavy_dash", "part_alternation_mark", "trident", "black_small_square", "white_small_square", "black_medium_small_square", "white_medium_small_square", "black_medium_square", "white_medium_square", "black_large_square", "white_large_square", "white_check_mark", "black_square_button", "white_square_button", "black_circle", "white_circle", "red_circle", "large_blue_circle", "large_blue_diamond", "large_orange_diamond", "small_blue_diamond", "small_orange_diamond", "small_red_triangle", "small_red_triangle_down", "shipit"]
                                }]
                        }
                    },
                    computed: {
                        curEmojiItems: function() {
                            for (var e = 0,
                                     o = this.emojiList.length; e < o; e++) if (this.emojiList[e].type === this.curEmojiType) return this.emojiList[e].items;
                            return this.emojiList[0].items
                        },
                        commentContentIsEmpty: function() {
                            return 0 === this.commentContent.length
                        },
                        commentCountText: function() {
                            return this.commentContent.length + "/" + this.commentMaxLength
                        }
                    },
                    methods: {
                        insertEmoji: function(e) {
                            this.clearMessage();
                            var o = ":" + e + ":";
                            this.insertContent(o),
                                r(this.$refs.showEmojiBox).popup("hide")
                        },
                        insertProject: function() {
                            var e, o, t;
                            this.clearMessage(),
                                e = "#此处输入软件#",
                            this.insertContent(e) && (t = (o = selectRange.of(this.$refs.commentTextarea)).getCurPos(), o.setSelectText(t - (e.length - 1), t - 1))
                        },
                        publishComment: function() {
                            var a, e; (a = this).tweetPublishLoading || (a.clearMessage(), a.commentContentIsEmpty ? a.showMessage("error", "内容不能为空", 2e3) : a.commentContent.length > a.commentMaxLength ? a.showMessage("error", "最多只能输入" + a.commentMaxLength + "个字符！", 2e3) : (a.commentPublishLoading = !0, (e = {})[n.option.contentField] = a.commentContent, "object" == typeof n.option.params && (e = r.extend({},
                                e, n.option.params)), r.post(n.option.url, e,
                                function(e) {
                                    var o, t;
                                    1 === e.code ? (a.commentContent = "", r.isFunction(n.option.toggleLoadComments) && n.option.toggleLoadComments.call(this), o = r(".float-menu .comment-btn"), e.result && void 0 !== e.result.replyCount && (t = e.result.replyCount, r("[data-article-reply-count]").html(t), o.attr("title", "共有 " + t + " 条评论")), o.find(".icon").removeClass("outline"), r("html, body").stop().animate({
                                            scrollTop: n.commentsWrapEl.offset().top - 80
                                        },
                                        500, "swing")) : a.showMessage("error", e.message || "发布失败", 2e3)
                                }).fail(function() {
                                a.showMessage("error", "网络错误，请稍后再试！", 2e3)
                            }).always(function() {
                                a.commentPublishLoading = !1
                            })))
                        },
                        commentContentOnKeyDown: function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && this.publishComment()
                        },
                        insertContent: function(e) {
                            return ! this.commentPublishLoading && (this.commentContent.length >= this.commentMaxLength || this.commentContent.length + e.length > this.commentMaxLength ? void this.showMessage("error", "最多只能输入" + this.commentMaxLength + "个字符！", 2e3) : (selectRange.of(this.$refs.commentTextarea).insertAfterText(e), this.commentContent = this.$refs.commentTextarea.value, !0))
                        },
                        showMessage: function(e, o, t) {
                            var a, n = this;
                            n.tipMessage.className = "success" === e ? "positive": "negative",
                                n.tipMessage.content = o,
                                a = parseInt(t) || 0,
                                n.tipMessage.show = !0,
                            0 < a && setTimeout(function() {
                                    n.clearMessage()
                                },
                                a)
                        },
                        clearMessage: function() {
                            var e = this;
                            e.tipMessage.className = "",
                                e.tipMessage.content = "",
                                e.tipMessage.show = !1
                        },
                        focus: function() {
                            this.$refs.commentTextarea.focus()
                        },
                        removeCommentForm: function() {
                            this.$el.remove(),
                                this.$destroy()
                        }
                    }
                }),
                    n.commentFormVue.$el.vueInstance = n.commentFormVue
            },
            e.prototype.focus = function() {
                var e = this;
                e.commentFormVue && r.isFunction(e.commentFormVue.focus) && e.commentFormVue.focus()
            },
            e.prototype.initToolBoxPopup = function() {
                r(this.commentFormVue.$el).find(".toolbox > .item[data-popup]").each(function(e, o) {
                    var t = r(o),
                        a = r(t).parent(),
                        n = a.find(".toolbox-popup." + t.attr("data-popup"));
                    t.popup({
                        position: "bottom left",
                        popup: n,
                        on: "toolbox-picture" === t.attr("data-popup") ? "manual": "click",
                        exclusive: !0
                    })
                })
            },
            window.OSCCommentForm = e
    } (window.jQuery || window.$); !
    function() {
        var i = {
                getRadarOption: function(t, a, r, e) {
                    var n = {},
                        i = t || [],
                        o = a || [],
                        d = r || [],
                        c = [];
                    return o.forEach(function(t, a) {
                        c.push(e)
                    }),
                        n.data = {
                            maxValue: c,
                            value: o,
                            description: i,
                            subText: d
                        },
                        n.config = {
                            scale: 1,
                            originOffset: [0, 5],
                            dataFill: {
                                fillStyle: "rgba(254,115,0,0.2)"
                            },
                            bg: {
                                layer: 3,
                                evenFillStyle: "#F2F4F6",
                                oddFillStyle: "#F8F9FA",
                                evenStrokeStyle: "#DCE3E8",
                                oddStrokeStyle: "#DCE3E8"
                            },
                            dataCircle: {
                                r: 3,
                                strokeStyle: "#FE7300",
                                fillStyle: "#FE7300",
                                lineWidth: 2
                            },
                            dataLine: {
                                strokeStyle: "rgba(254,115,0,0.5)",
                                lineWidth: 2
                            },
                            font: {
                                fontColor: "#537C8D",
                                subFontColor: "#9b9b9b"
                            }
                        },
                        n
                },
                buildRadarPanel: function(l, u, p) {
                    var f = this,
                        t = u.attr("data-project-id") || 0,
                        y = u.attr("data-project-name") || "",
                        g = u.find(".title"),
                        F = u.find(".score"),
                        m = u.find(".percent");
                    $.post(page.api_prefix + "/project/get_project_portrait_radar_map", {
                            project_id: t
                        },
                        function(t) {
                            var a, r, e, i, n, o, d, c, s;
                            1 === t.code && t.result && (r = (a = t.result).tagsName && Array.isArray(a.tagsName) ? a.tagsName: [], e = a.scores && Array.isArray(a.scores) ? a.scores: [], i = a.percents && Array.isArray(a.percents) ? a.percents: [], n = e.map(function(t, a) {
                                var r = (1 * t).toFixed(0),
                                    e = parseInt(100 * (i[a] || 0)),
                                    n = " (>" + e + "%)";
                                return r + (0 < e ? n: "")
                            }), d = parseInt((o = 100) * (a.surpass || 0)) || 0, c = (1 * a.summary || 0).toFixed(0), s = a.homepage || "", l.show(), radarChart.init(p[0], f.getRadarOption(r, e, n, o)), f.bindLink(u, s), g.text(y), F.text(c), m.text(d + "%"))
                        })
                },
                bindLink: function(t, a) {
                    var r = t.attr("data-url");
                    r ? t.on("click",
                        function() {
                            window.open(r)
                        }) : a ? t.on("click",
                        function() {
                            window.open(a)
                        }) : t.css("cursor", "default")
                }
            },
            t = new window.common.dynamicLoader(["/new-osc/js/utils/plugins/radarChart/radarChart.js"],
                function() {
                    $(function() {
                        var t = $("div[project-radar]");
                        0 < t.length && t.each(function(t, a) {
                            var r = $(a),
                                e = r.find(".radar-map"),
                                n = r;
                            r.attr("data-container") && $(r.attr("data-container")) && (n = $(r.attr("data-container"))),
                                i.buildRadarPanel(n, r, e)
                        })
                    })
                });
        t.loadFiles()
    } (); !
    function(e, i) {
        "function" == typeof define && define.amd ? define("jquery-bridget/jquery-bridget", ["jquery"],
            function(t) {
                return i(e, t)
            }) : "object" == typeof module && module.exports ? module.exports = i(e, require("jquery")) : e.jQueryBridget = i(e, e.jQuery)
    } (window,
        function(t, e) {
            "use strict";
            function i(h, o, c) { (c = c || e || t.jQuery) && (o.prototype.option || (o.prototype.option = function(t) {
                c.isPlainObject(t) && (this.options = c.extend(!0, this.options, t))
            }), c.fn[h] = function(t) {
                if ("string" != typeof t) return n = t,
                    this.each(function(t, e) {
                        var i = c.data(e, h);
                        i ? (i.option(n), i._init()) : (i = new o(e, n), c.data(e, h, i))
                    }),
                    this;
                var e, s, r, l, a, n, i = u.call(arguments, 1);
                return r = i,
                    a = "$()." + h + '("' + (s = t) + '")',
                    (e = this).each(function(t, e) {
                        var i, n, o = c.data(e, h);
                        o ? (i = o[s]) && "_" != s.charAt(0) ? (n = i.apply(o, r), l = void 0 === l ? n: l) : d(a + " is not a valid method") : d(h + " not initialized. Cannot call methods, i.e. " + a)
                    }),
                    void 0 !== l ? l: e
            },
                n(c))
            }
            function n(t) { ! t || t && t.bridget || (t.bridget = i)
            }
            var u = Array.prototype.slice,
                o = t.console,
                d = void 0 === o ?
                    function() {}: function(t) {
                        o.error(t)
                    };
            return n(e || t.jQuery),
                i
        }),
    function(t, e) {
        "function" == typeof define && define.amd ? define("ev-emitter/ev-emitter", e) : "object" == typeof module && module.exports ? module.exports = e() : t.EvEmitter = e()
    } ("undefined" != typeof window ? window: this,
        function() {
            function t() {}
            var e = t.prototype;
            return e.on = function(t, e) {
                if (t && e) {
                    var i = this._events = this._events || {},
                        n = i[t] = i[t] || [];
                    return - 1 == n.indexOf(e) && n.push(e),
                        this
                }
            },
                e.once = function(t, e) {
                    if (t && e) {
                        this.on(t, e);
                        var i = this._onceEvents = this._onceEvents || {};
                        return (i[t] = i[t] || {})[e] = !0,
                            this
                    }
                },
                e.off = function(t, e) {
                    var i, n = this._events && this._events[t];
                    if (n && n.length) return - 1 != (i = n.indexOf(e)) && n.splice(i, 1),
                        this
                },
                e.emitEvent = function(t, e) {
                    var i, n, o, s = this._events && this._events[t];
                    if (s && s.length) {
                        for (s = s.slice(0), e = e || [], i = this._onceEvents && this._onceEvents[t], n = 0; n < s.length; n++) o = s[n],
                        i && i[o] && (this.off(t, o), delete i[o]),
                            o.apply(this, e);
                        return this
                    }
                },
                e.allOff = function() {
                    delete this._events,
                        delete this._onceEvents
                },
                t
        }),
    function(t, e) {
        "use strict";
        "function" == typeof define && define.amd ? define("desandro-matches-selector/matches-selector", e) : "object" == typeof module && module.exports ? module.exports = e() : t.matchesSelector = e()
    } (window,
        function() {
            "use strict";
            var i = function() {
                var t, e, i, n = window.Element.prototype;
                if (n.matches) return "matches";
                if (n.matchesSelector) return "matchesSelector";
                for (t = ["webkit", "moz", "ms", "o"], e = 0; e < t.length; e++) if (n[i = t[e] + "MatchesSelector"]) return i
            } ();
            return function(t, e) {
                return t[i](e)
            }
        }),
    function(e, i) {
        "function" == typeof define && define.amd ? define("fizzy-ui-utils/utils", ["desandro-matches-selector/matches-selector"],
            function(t) {
                return i(e, t)
            }) : "object" == typeof module && module.exports ? module.exports = i(e, require("desandro-matches-selector")) : e.fizzyUIUtils = i(e, e.matchesSelector)
    } (window,
        function(h, s) {
            var e, c, u = {
                extend: function(t, e) {
                    for (var i in e) t[i] = e[i];
                    return t
                },
                modulo: function(t, e) {
                    return (t % e + e) % e
                }
            };
            return e = Array.prototype.slice,
                u.makeArray = function(t) {
                    return Array.isArray(t) ? t: null == t ? [] : "object" == typeof t && "number" == typeof t.length ? e.call(t) : [t]
                },
                u.removeFrom = function(t, e) {
                    var i = t.indexOf(e); - 1 != i && t.splice(i, 1)
                },
                u.getParent = function(t, e) {
                    for (; t.parentNode && t != document.body;) if (t = t.parentNode, s(t, e)) return t
                },
                u.getQueryElement = function(t) {
                    return "string" == typeof t ? document.querySelector(t) : t
                },
                u.handleEvent = function(t) {
                    var e = "on" + t.type;
                    this[e] && this[e](t)
                },
                u.filterFindElements = function(t, n) {
                    t = u.makeArray(t);
                    var o = [];
                    return t.forEach(function(t) {
                        if (t instanceof HTMLElement) {
                            if (!n) return void o.push(t);
                            s(t, n) && o.push(t);
                            for (var e = t.querySelectorAll(n), i = 0; i < e.length; i++) o.push(e[i])
                        }
                    }),
                        o
                },
                u.debounceMethod = function(t, e, n) {
                    n = n || 100;
                    var o = t.prototype[e],
                        s = e + "Timeout";
                    t.prototype[e] = function() {
                        var t, e, i = this[s];
                        clearTimeout(i),
                            t = arguments,
                            (e = this)[s] = setTimeout(function() {
                                    o.apply(e, t),
                                        delete e[s]
                                },
                                n)
                    }
                },
                u.docReady = function(t) {
                    var e = document.readyState;
                    "complete" == e || "interactive" == e ? setTimeout(t) : document.addEventListener("DOMContentLoaded", t)
                },
                u.toDashed = function(t) {
                    return t.replace(/(.)([A-Z])/g,
                        function(t, e, i) {
                            return e + "-" + i
                        }).toLowerCase()
                },
                c = h.console,
                u.htmlInit = function(l, a) {
                    u.docReady(function() {
                        var t = u.toDashed(a),
                            o = "data-" + t,
                            e = document.querySelectorAll("[" + o + "]"),
                            i = document.querySelectorAll(".js-" + t),
                            n = u.makeArray(e).concat(u.makeArray(i)),
                            s = o + "-options",
                            r = h.jQuery;
                        n.forEach(function(e) {
                            var t, i, n = e.getAttribute(o) || e.getAttribute(s);
                            try {
                                t = n && JSON.parse(n)
                            } catch(t) {
                                return void(c && c.error("Error parsing " + o + " on " + e.className + ": " + t))
                            }
                            i = new l(e, t),
                            r && r.data(e, a, i)
                        })
                    })
                },
                u
        }),
    function(i, n) {
        "function" == typeof define && define.amd ? define("infinite-scroll/js/core", ["ev-emitter/ev-emitter", "fizzy-ui-utils/utils"],
            function(t, e) {
                return n(i, t, e)
            }) : "object" == typeof module && module.exports ? module.exports = n(i, require("ev-emitter"), require("fizzy-ui-utils")) : i.InfiniteScroll = n(i, i.EvEmitter, i.fizzyUIUtils)
    } (window,
        function(e, t, o) {
            function s(t, e) {
                var i, n = o.getQueryElement(t);
                if (n) return (t = n).infiniteScrollGUID ? ((i = h[t.infiniteScrollGUID]).option(e), i) : (this.element = t, this.options = o.extend({},
                    s.defaults), this.option(e), a && (this.$element = a(this.element)), void this.create())
            }
            var i, n, r, l, a = e.jQuery,
                h = {};
            return s.defaults = {},
                s.create = {},
                s.destroy = {},
                i = s.prototype,
                o.extend(i, t.prototype),
                n = 0,
                i.create = function() {
                    var t, e = this.guid = ++n;
                    if (this.element.infiniteScrollGUID = e, (h[e] = this).pageIndex = 1, this.loadCount = 0, this.updateGetPath(), this.getPath && this.getPath()) for (t in this.updateGetAbsolutePath(), this.log("initialized", [this.element.className]), this.callOnInit(), s.create) s.create[t].call(this)
                },
                i.option = function(t) {
                    o.extend(this.options, t)
                },
                i.callOnInit = function() {
                    var t = this.options.onInit;
                    t && t.call(this, this)
                },
                i.dispatchEvent = function(t, e, i) {
                    var n, o, s;
                    this.log(t, i),
                        n = e ? [e].concat(i) : i,
                        this.emitEvent(t, n),
                    a && this.$element && (o = t += ".infiniteScroll", e && ((s = a.Event(e)).type = t, o = s), this.$element.trigger(o, i))
                },
                r = {
                    initialized: function(t) {
                        return "on " + t
                    },
                    request: function(t) {
                        return "URL: " + t
                    },
                    load: function(t, e) {
                        return (t.title || "") + ". URL: " + e
                    },
                    error: function(t, e) {
                        return t + ". URL: " + e
                    },
                    append: function(t, e, i) {
                        return i.length + " items. URL: " + e
                    },
                    last: function(t, e) {
                        return "URL: " + e
                    },
                    history: function(t, e) {
                        return "URL: " + e
                    },
                    pageIndex: function(t, e) {
                        return "current page determined to be: " + t + " from " + e
                    }
                },
                i.log = function(t, e) {
                    if (this.options.debug) {
                        var i = r[t];
                        i && ". " + i.apply(this, e)
                    }
                },
                i.updateMeasurements = function() {
                    this.windowHeight = e.innerHeight;
                    var t = this.element.getBoundingClientRect();
                    this.top = t.top + e.pageYOffset
                },
                i.updateScroller = function() {
                    var t = this.options.elementScroll;
                    if (t) {
                        if (this.scroller = !0 === t ? this.element: o.getQueryElement(t), !this.scroller) throw "Unable to find elementScroll: " + t
                    } else this.scroller = e
                },
                i.updateGetPath = function() {
                    var t, e = this.options.path;
                    if (e) {
                        if ("function" != (t = typeof e)) return "string" == t && e.match("{{#}}") ? void this.updateGetPathTemplate(e) : void this.updateGetPathSelector(e);
                        this.getPath = e
                    }
                },
                i.updateGetPathTemplate = function(e) {
                    this.getPath = function() {
                        var t = this.pageIndex + 1;
                        return e.replace("{{#}}", t)
                    }.bind(this);
                    var t = e.replace("{{#}}", "(\\d\\d?\\d?)"),
                        i = new RegExp(t),
                        n = location.href.match(i);
                    n && (this.pageIndex = parseInt(n[1], 10), this.log("pageIndex", [this.pageIndex, "template string"]))
                },
                l = [/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/, /^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/, /(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/],
                i.updateGetPathSelector = function(t) {
                    var e, i, n, o, s, r = document.querySelector(t);
                    if (r) {
                        for (n = r.getAttribute("href"), o = 0; n && o < l.length; o++) if (i = l[o], s = n.match(i)) {
                            e = s.slice(1);
                            break
                        }
                        return e ? (this.isPathSelector = !0, this.getPath = function() {
                            var t = this.pageIndex + 1;
                            return e[0] + t + e[2]
                        }.bind(this), this.pageIndex = parseInt(e[1], 10) - 1, void this.log("pageIndex", [this.pageIndex, "next link"])) : void 0
                    }
                },
                i.updateGetAbsolutePath = function() {
                    var t, e, i = this.getPath(),
                        n = i.match(/^http/) || i.match(/^\//);
                    this.getAbsolutePath = n ? this.getPath: (t = location.pathname, e = t.substring(0, t.lastIndexOf("/")),
                        function() {
                            return e + "/" + this.getPath()
                        })
                },
                s.create.hideNav = function() {
                    var t = o.getQueryElement(this.options.hideNav);
                    t && (t.style.display = "none", this.nav = t)
                },
                s.destroy.hideNav = function() {
                    this.nav && (this.nav.style.display = "")
                },
                i.destroy = function() {
                    for (var t in this.allOff(), s.destroy) s.destroy[t].call(this);
                    delete this.element.infiniteScrollGUID,
                        delete h[this.guid]
                },
                s.throttle = function(n, o) {
                    var s, r;
                    return o = o || 200,
                        function() {
                            var t = +new Date,
                                e = arguments,
                                i = function() {
                                    s = t,
                                        n.apply(this, e)
                                }.bind(this);
                            s && t < s + o ? (clearTimeout(r), r = setTimeout(i, o)) : i()
                        }
                },
                s.data = function(t) {
                    var e = (t = o.getQueryElement(t)) && t.infiniteScrollGUID;
                    return e && h[e]
                },
                s.setJQuery = function(t) {
                    a = t
                },
                o.htmlInit(s, "infinite-scroll"),
            a && a.bridget && a.bridget("infiniteScroll", s),
                s
        }),
    function(e, i) {
        "function" == typeof define && define.amd ? define("infinite-scroll/js/page-load", ["./core"],
            function(t) {
                return i(e, t)
            }) : "object" == typeof module && module.exports ? module.exports = i(e, require("./core")) : i(e, e.InfiniteScroll)
    } (window,
        function(n, o) {
            function l(t) {
                for (var e = document.createDocumentFragment(), i = 0; t && i < t.length; i++) e.appendChild(t[i]);
                return e
            }
            function s(t, e) {
                var i, n, o;
                for (i = t.attributes, n = 0; n < i.length; n++) o = i[n],
                    e.setAttribute(o.name, o.value)
            }
            var t = o.prototype;
            return o.defaults.loadOnScroll = !0,
                o.defaults.checkLastPage = !0,
                o.defaults.responseType = "document",
                o.create.pageLoad = function() {
                    this.canLoad = !0,
                        this.on("scrollThreshold", this.onScrollThresholdLoad),
                        this.on("load", this.checkLastPage),
                    this.options.outlayer && this.on("append", this.onAppendOutlayer)
                },
                t.onScrollThresholdLoad = function() {
                    this.options.loadOnScroll && this.loadNextPage()
                },
                t.loadNextPage = function() {
                    var e, t, i, n, o, s, r, l; ! this.isLoading && this.canLoad && (e = this.getAbsolutePath(), this.isLoading = !0, t = function(t) {
                        this.onPageLoad(t, e)
                    }.bind(this), i = function(t) {
                        this.onPageError(t, e)
                    }.bind(this), n = e, o = this.options.responseType, s = t, r = i, (l = new XMLHttpRequest).open("GET", n, !0), l.responseType = o || "", l.setRequestHeader("X-Requested-With", "XMLHttpRequest"), l.onload = function() {
                        if (200 == l.status) s(l.response);
                        else {
                            var t = new Error(l.statusText);
                            r(t)
                        }
                    },
                        l.onerror = function() {
                            var t = new Error("Network error requesting " + n);
                            r(t)
                        },
                        l.send(), this.dispatchEvent("request", null, [e]))
                },
                t.onPageLoad = function(t, e) {
                    return this.options.append || (this.isLoading = !1),
                        this.pageIndex++,
                        this.loadCount++,
                        this.dispatchEvent("load", null, [t, e]),
                        this.appendNextPage(t, e),
                        t
                },
                t.appendNextPage = function(t, e) {
                    var i, n, o, s = this.options.append,
                        r = "document" == this.options.responseType;
                    r && s && (i = t.querySelectorAll(s), n = l(i), o = function() {
                        this.appendItems(i, n),
                            this.isLoading = !1,
                            this.dispatchEvent("append", null, [t, e, i])
                    }.bind(this), this.options.outlayer ? this.appendOutlayerItems(n, o) : o())
                },
                t.appendItems = function(t, e) {
                    t && t.length && (function(t) {
                        var e, i, n, o;
                        for (e = t.querySelectorAll("script"), i = 0; i < e.length; i++) s(n = e[i], o = document.createElement("script")),
                            o.innerHTML = n.innerHTML,
                            n.parentNode.replaceChild(o, n)
                    } (e = e || l(t)), this.element.appendChild(e))
                },
                t.appendOutlayerItems = function(t, e) {
                    var i = o.imagesLoaded || n.imagesLoaded;
                    return i ? void i(t, e) : void(this.isLoading = !1)
                },
                t.onAppendOutlayer = function(t, e, i) {
                    this.options.outlayer.appended(i)
                },
                t.checkLastPage = function(t, e) {
                    var i, n, o = this.options.checkLastPage;
                    if (o) {
                        if ("function" == typeof(i = this.options.path) && !this.getPath()) return void this.lastPageReached(t, e);
                        "string" == typeof o ? n = o: this.isPathSelector && (n = i),
                        n && t.querySelector && (t.querySelector(n) || this.lastPageReached(t, e))
                    }
                },
                t.lastPageReached = function(t, e) {
                    this.canLoad = !1,
                        this.dispatchEvent("last", null, [t, e])
                },
                t.onPageError = function(t, e) {
                    return this.isLoading = !1,
                        this.canLoad = !1,
                        this.dispatchEvent("error", null, [t, e]),
                        t
                },
                o.create.prefill = function() {
                    if (this.options.prefill) {
                        var t = this.options.append;
                        if (!t) return;
                        this.updateMeasurements(),
                            this.updateScroller(),
                            this.isPrefilling = !0,
                            this.on("append", this.prefill),
                            this.once("error", this.stopPrefill),
                            this.once("last", this.stopPrefill),
                            this.prefill()
                    }
                },
                t.prefill = function() {
                    var t = this.getPrefillDistance();
                    this.isPrefilling = 0 <= t,
                        this.isPrefilling ? (this.log("prefill"), this.loadNextPage()) : this.stopPrefill()
                },
                t.getPrefillDistance = function() {
                    return this.options.elementScroll ? this.scroller.clientHeight - this.scroller.scrollHeight: this.windowHeight - this.element.clientHeight
                },
                t.stopPrefill = function() {
                    this.log("stopPrefill"),
                        this.off("append", this.prefill)
                },
                o
        }),
    function(i, n) {
        "function" == typeof define && define.amd ? define("infinite-scroll/js/scroll-watch", ["./core", "fizzy-ui-utils/utils"],
            function(t, e) {
                return n(i, t, e)
            }) : "object" == typeof module && module.exports ? module.exports = n(i, require("./core"), require("fizzy-ui-utils")) : n(i, i.InfiniteScroll, i.fizzyUIUtils)
    } (window,
        function(i, t, e) {
            var n = t.prototype;
            return t.defaults.scrollThreshold = 400,
                t.create.scrollWatch = function() {
                    this.pageScrollHandler = this.onPageScroll.bind(this),
                        this.resizeHandler = this.onResize.bind(this);
                    var t = this.options.scrollThreshold; (t || 0 === t) && this.enableScrollWatch()
                },
                t.destroy.scrollWatch = function() {
                    this.disableScrollWatch()
                },
                n.enableScrollWatch = function() {
                    this.isScrollWatching || (this.isScrollWatching = !0, this.updateMeasurements(), this.updateScroller(), this.on("last", this.disableScrollWatch), this.bindScrollWatchEvents(!0))
                },
                n.disableScrollWatch = function() {
                    this.isScrollWatching && (this.bindScrollWatchEvents(!1), delete this.isScrollWatching)
                },
                n.bindScrollWatchEvents = function(t) {
                    var e = t ? "addEventListener": "removeEventListener";
                    this.scroller[e]("scroll", this.pageScrollHandler),
                        i[e]("resize", this.resizeHandler)
                },
                n.onPageScroll = t.throttle(function() {
                    this.getBottomDistance() <= this.options.scrollThreshold && this.dispatchEvent("scrollThreshold")
                }),
                n.getBottomDistance = function() {
                    return this.options.elementScroll ? this.getElementBottomDistance() : this.getWindowBottomDistance()
                },
                n.getWindowBottomDistance = function() {
                    return this.top + this.element.clientHeight - (i.pageYOffset + this.windowHeight)
                },
                n.getElementBottomDistance = function() {
                    return this.scroller.scrollHeight - (this.scroller.scrollTop + this.scroller.clientHeight)
                },
                n.onResize = function() {
                    this.updateMeasurements()
                },
                e.debounceMethod(t, "onResize", 150),
                t
        }),
    function(i, n) {
        "function" == typeof define && define.amd ? define("infinite-scroll/js/history", ["./core", "fizzy-ui-utils/utils"],
            function(t, e) {
                return n(i, t, e)
            }) : "object" == typeof module && module.exports ? module.exports = n(i, require("./core"), require("fizzy-ui-utils")) : n(i, i.InfiniteScroll, i.fizzyUIUtils)
    } (window,
        function(n, t, e) {
            var s, i = t.prototype;
            return t.defaults.history = "replace",
                s = document.createElement("a"),
                t.create.history = function() {
                    if (this.options.history) return s.href = this.getAbsolutePath(),
                        (s.origin || s.protocol + "//" + s.host) == location.origin ? void(this.options.append ? this.createHistoryAppend() : this.createHistoryPageLoad()) : void 0
                },
                i.createHistoryAppend = function() {
                    this.updateMeasurements(),
                        this.updateScroller(),
                        this.scrollPages = [{
                            top: 0,
                            path: location.href,
                            title: document.title
                        }],
                        this.scrollPageIndex = 0,
                        this.scrollHistoryHandler = this.onScrollHistory.bind(this),
                        this.unloadHandler = this.onUnload.bind(this),
                        this.scroller.addEventListener("scroll", this.scrollHistoryHandler),
                        this.on("append", this.onAppendHistory),
                        this.bindHistoryAppendEvents(!0)
                },
                i.bindHistoryAppendEvents = function(t) {
                    var e = t ? "addEventListener": "removeEventListener";
                    this.scroller[e]("scroll", this.scrollHistoryHandler),
                        n[e]("unload", this.unloadHandler)
                },
                i.createHistoryPageLoad = function() {
                    this.on("load", this.onPageLoadHistory)
                },
                t.destroy.history = i.destroyHistory = function() {
                    this.options.history && this.options.append && this.bindHistoryAppendEvents(!1)
                },
                i.onAppendHistory = function(t, e, i) {
                    if (i && i.length) {
                        var n = i[0],
                            o = this.getElementScrollY(n);
                        s.href = e,
                            this.scrollPages.push({
                                top: o,
                                path: s.href,
                                title: t.title
                            })
                    }
                },
                i.getElementScrollY = function(t) {
                    return this.options.elementScroll ? this.getElementElementScrollY(t) : this.getElementWindowScrollY(t)
                },
                i.getElementWindowScrollY = function(t) {
                    return t.getBoundingClientRect().top + n.pageYOffset
                },
                i.getElementElementScrollY = function(t) {
                    return t.offsetTop - this.top
                },
                i.onScrollHistory = function() {
                    var t, e, i, n, o;
                    for (i = this.getScrollViewY(), n = 0; n < this.scrollPages.length && !((o = this.scrollPages[n]).top >= i); n++) t = n,
                        e = o;
                    t != this.scrollPageIndex && (this.scrollPageIndex = t, this.setHistory(e.title, e.path))
                },
                e.debounceMethod(t, "onScrollHistory", 150),
                i.getScrollViewY = function() {
                    return this.options.elementScroll ? this.scroller.scrollTop + this.scroller.clientHeight / 2 : n.pageYOffset + this.windowHeight / 2
                },
                i.setHistory = function(t, e) {
                    var i = this.options.history;
                    i && history[i + "State"] && (history[i + "State"](null, t, e), this.options.historyTitle && (document.title = t), this.dispatchEvent("history", null, [t, e]))
                },
                i.onUnload = function() {
                    var t, e, i = this.scrollPageIndex;
                    0 !== i && (t = this.scrollPages[i], e = n.pageYOffset - t.top + this.top, this.destroyHistory(), scrollTo(0, e))
                },
                i.onPageLoadHistory = function(t, e) {
                    this.setHistory(t.title, e)
                },
                t
        }),
    function(i, n) {
        "function" == typeof define && define.amd ? define("infinite-scroll/js/button", ["./core", "fizzy-ui-utils/utils"],
            function(t, e) {
                return n(i, t, e)
            }) : "object" == typeof module && module.exports ? module.exports = n(i, require("./core"), require("fizzy-ui-utils")) : n(i, i.InfiniteScroll, i.fizzyUIUtils)
    } (window,
        function(t, e, i) {
            function n(t, e) {
                this.element = t,
                    this.infScroll = e,
                    this.clickHandler = this.onClick.bind(this),
                    this.element.addEventListener("click", this.clickHandler),
                    e.on("request", this.disable.bind(this)),
                    e.on("load", this.enable.bind(this)),
                    e.on("error", this.hide.bind(this)),
                    e.on("last", this.hide.bind(this))
            }
            return e.create.button = function() {
                var t = i.getQueryElement(this.options.button);
                t && (this.button = new n(t, this))
            },
                e.destroy.button = function() {
                    this.button && this.button.destroy()
                },
                n.prototype.onClick = function(t) {
                    t.preventDefault(),
                        this.infScroll.loadNextPage()
                },
                n.prototype.enable = function() {
                    this.element.removeAttribute("disabled")
                },
                n.prototype.disable = function() {
                    this.element.disabled = "disabled"
                },
                n.prototype.hide = function() {
                    this.element.style.display = "none"
                },
                n.prototype.destroy = function() {
                    this.element.removeEventListener("click", this.clickHandler)
                },
                e.Button = n,
                e
        }),
    function(i, n) {
        "function" == typeof define && define.amd ? define("infinite-scroll/js/status", ["./core", "fizzy-ui-utils/utils"],
            function(t, e) {
                return n(i, t, e)
            }) : "object" == typeof module && module.exports ? module.exports = n(i, require("./core"), require("fizzy-ui-utils")) : n(i, i.InfiniteScroll, i.fizzyUIUtils)
    } (window,
        function(t, e, i) {
            function n(t) {
                s(t, "none")
            }
            function o(t) {
                s(t, "block")
            }
            function s(t, e) {
                t && (t.style.display = e)
            }
            var r = e.prototype;
            return e.create.status = function() {
                var t = i.getQueryElement(this.options.status);
                t && (this.statusElement = t, this.statusEventElements = {
                    request: t.querySelector(".infinite-scroll-request"),
                    error: t.querySelector(".infinite-scroll-error"),
                    last: t.querySelector(".infinite-scroll-last")
                },
                    this.on("request", this.showRequestStatus), this.on("error", this.showErrorStatus), this.on("last", this.showLastStatus), this.bindHideStatus("on"))
            },
                r.bindHideStatus = function(t) {
                    var e = this.options.append ? "append": "load";
                    this[t](e, this.hideAllStatus)
                },
                r.showRequestStatus = function() {
                    this.showStatus("request")
                },
                r.showErrorStatus = function() {
                    this.showStatus("error")
                },
                r.showLastStatus = function() {
                    this.showStatus("last"),
                        this.bindHideStatus("off")
                },
                r.showStatus = function(t) {
                    o(this.statusElement),
                        this.hideStatusEventElements(),
                        o(this.statusEventElements[t])
                },
                r.hideAllStatus = function() {
                    n(this.statusElement),
                        this.hideStatusEventElements()
                },
                r.hideStatusEventElements = function() {
                    var t;
                    for (t in this.statusEventElements) n(this.statusEventElements[t])
                },
                e
        }),
    function(t, e) {
        "function" == typeof define && define.amd ? define(["infinite-scroll/js/core", "infinite-scroll/js/page-load", "infinite-scroll/js/scroll-watch", "infinite-scroll/js/history", "infinite-scroll/js/button", "infinite-scroll/js/status"], e) : "object" == typeof module && module.exports && (module.exports = e(require("./core"), require("./page-load"), require("./scroll-watch"), require("./history"), require("./button"), require("./status")))
    } (window,
        function(t) {
            return t
        }),
    function(e, i) {
        "use strict";
        "function" == typeof define && define.amd ? define("imagesloaded/imagesloaded", ["ev-emitter/ev-emitter"],
            function(t) {
                return i(e, t)
            }) : "object" == typeof module && module.exports ? module.exports = i(e, require("ev-emitter")) : e.imagesLoaded = i(e, e.EvEmitter)
    } ("undefined" != typeof window ? window: this,
        function(e, t) {
            function s(t, e) {
                for (var i in e) t[i] = e[i];
                return t
            }
            function r(t, e, i) {
                if (! (this instanceof r)) return new r(t, e, i);
                var n, o = t;
                return "string" == typeof t && (o = document.querySelectorAll(t)),
                    o ? (this.elements = (n = o, Array.isArray(n) ? n: "object" == typeof n && "number" == typeof n.length ? c.call(n) : [n]), this.options = s({},
                        this.options), "function" == typeof e ? i = e: s(this.options, e), i && this.on("always", i), this.getImages(), a && (this.jqDeferred = new a.Deferred), void setTimeout(this.check.bind(this))) : void h.error("Bad element for imagesLoaded " + (o || t))
            }
            function i(t) {
                this.img = t
            }
            function n(t, e) {
                this.url = t,
                    this.element = e,
                    this.img = new Image
            }
            var l, a = e.jQuery,
                h = e.console,
                c = Array.prototype.slice;
            return (r.prototype = Object.create(t.prototype)).options = {},
                r.prototype.getImages = function() {
                    this.images = [],
                        this.elements.forEach(this.addElementImages, this)
                },
                r.prototype.addElementImages = function(t) {
                    var e, i, n, o, s, r;
                    if ("IMG" == t.nodeName && this.addImage(t), !0 === this.options.background && this.addElementBackgroundImages(t), (e = t.nodeType) && l[e]) {
                        for (i = t.querySelectorAll("img"), n = 0; n < i.length; n++) o = i[n],
                            this.addImage(o);
                        if ("string" == typeof this.options.background) for (s = t.querySelectorAll(this.options.background), n = 0; n < s.length; n++) r = s[n],
                            this.addElementBackgroundImages(r)
                    }
                },
                l = {
                    1 : !0,
                    9 : !0,
                    11 : !0
                },
                r.prototype.addElementBackgroundImages = function(t) {
                    var e, i, n, o = getComputedStyle(t);
                    if (o) for (i = (e = /url\((['"])?(.*?)\1\)/gi).exec(o.backgroundImage); null !== i;)(n = i && i[2]) && this.addBackground(n, t),
                        i = e.exec(o.backgroundImage)
                },
                r.prototype.addImage = function(t) {
                    var e = new i(t);
                    this.images.push(e)
                },
                r.prototype.addBackground = function(t, e) {
                    var i = new n(t, e);
                    this.images.push(i)
                },
                r.prototype.check = function() {
                    function e(t, e, i) {
                        setTimeout(function() {
                            n.progress(t, e, i)
                        })
                    }
                    var n = this;
                    return this.progressedCount = 0,
                        this.hasAnyBroken = !1,
                        this.images.length ? void this.images.forEach(function(t) {
                            t.once("progress", e),
                                t.check()
                        }) : void this.complete()
                },
                r.prototype.progress = function(t, e, i) {
                    this.progressedCount++,
                        this.hasAnyBroken = this.hasAnyBroken || !t.isLoaded,
                        this.emitEvent("progress", [this, t, e]),
                    this.jqDeferred && this.jqDeferred.notify && this.jqDeferred.notify(this, t),
                    this.progressedCount == this.images.length && this.complete(),
                    this.options.debug && h && h.log("progress: " + i, t, e)
                },
                r.prototype.complete = function() {
                    var t, e = this.hasAnyBroken ? "fail": "done";
                    this.isComplete = !0,
                        this.emitEvent(e, [this]),
                        this.emitEvent("always", [this]),
                    this.jqDeferred && (t = this.hasAnyBroken ? "reject": "resolve", this.jqDeferred[t](this))
                },
                (i.prototype = Object.create(t.prototype)).check = function() {
                    return this.getIsImageComplete() ? void this.confirm(0 !== this.img.naturalWidth, "naturalWidth") : (this.proxyImage = new Image, this.proxyImage.addEventListener("load", this), this.proxyImage.addEventListener("error", this), this.img.addEventListener("load", this), this.img.addEventListener("error", this), void(this.proxyImage.src = this.img.src))
                },
                i.prototype.getIsImageComplete = function() {
                    return this.img.complete && this.img.naturalWidth
                },
                i.prototype.confirm = function(t, e) {
                    this.isLoaded = t,
                        this.emitEvent("progress", [this, this.img, e])
                },
                i.prototype.handleEvent = function(t) {
                    var e = "on" + t.type;
                    this[e] && this[e](t)
                },
                i.prototype.onload = function() {
                    this.confirm(!0, "onload"),
                        this.unbindEvents()
                },
                i.prototype.onerror = function() {
                    this.confirm(!1, "onerror"),
                        this.unbindEvents()
                },
                i.prototype.unbindEvents = function() {
                    this.proxyImage.removeEventListener("load", this),
                        this.proxyImage.removeEventListener("error", this),
                        this.img.removeEventListener("load", this),
                        this.img.removeEventListener("error", this)
                },
                (n.prototype = Object.create(i.prototype)).check = function() {
                    this.img.addEventListener("load", this),
                        this.img.addEventListener("error", this),
                        this.img.src = this.url,
                    this.getIsImageComplete() && (this.confirm(0 !== this.img.naturalWidth, "naturalWidth"), this.unbindEvents())
                },
                n.prototype.unbindEvents = function() {
                    this.img.removeEventListener("load", this),
                        this.img.removeEventListener("error", this)
                },
                n.prototype.confirm = function(t, e) {
                    this.isLoaded = t,
                        this.emitEvent("progress", [this, this.element, e])
                },
                r.makeJQueryPlugin = function(t) { (t = t || e.jQuery) && ((a = t).fn.imagesLoaded = function(t, e) {
                    return new r(this, t, e).jqDeferred.promise(a(this))
                })
                },
                r.makeJQueryPlugin(),
                r
        }); !
    function(l) {
        var n = {
                pagePath: void 0,
                containerSelector: "",
                itemListSelector: ".articles-list-container",
                itemSelector: ".item",
                loadMoreBtnSelector: ".load-more-button",
                statusSelector: ".page-load-status",
                hideNav: ".pagination",
                checkLastPage: !0,
                loadOnScroll: !0,
                scrollThreshold: 400,
                defaultAutoLoadPageCount: 2,
                debug: !1,
                history: !1,
                onRequest: l.noop,
                onLoad: l.noop,
                onAppend: l.noop,
                onError: l.noop,
                onLast: l.noop
            },
            o = function(o) {
                var t = this;
                if ("object" == typeof o) return t.option = l.extend({},
                    n, o),
                    t._loadMoreButton = function() {
                        return l(t.getFullSelector(t.option.loadMoreBtnSelector))
                    },
                    void(t._loader = function() {
                        return l(t.getFullSelector(t.option.statusSelector)).find(".infinite-scroll-request .loader")
                    })
            };
        o.prototype.init = function() {
            var e = this;
            0 !== l(e.getFullSelector(e.option.itemListSelector)).length && (e._infScroll = new InfiniteScroll(e.getFullSelector(e.option.itemListSelector), {
                path: e.option.pagePath,
                history: e.option.history,
                loadOnScroll: e.option.loadOnScroll,
                scrollThreshold: e.option.scrollThreshold,
                append: e.option.itemSelector,
                button: e.getFullSelector(e.option.loadMoreBtnSelector),
                status: e.getFullSelector(e.option.statusSelector),
                checkLastPage: e.option.checkLastPage,
                hideNav: e.getFullSelector(e.option.hideNav),
                debug: e.option.debug
            }), e._infScroll.on("request",
                function(o) {
                    e._loadMoreButton().is(":visible") && e._loadMoreButton().addClass("loading"),
                    l.isFunction(e.option.onRequest) && e.option.onRequest.bind(this)(o)
                }), e._infScroll.on("load",
                function(o, t) {
                    e._loadMoreButton().is(":visible") && e._loadMoreButton().removeClass("loading"),
                    l.isFunction(e.option.onLoad) && e.option.onLoad.bind(this)(o, t)
                }), e._infScroll.on("load",
                function o() {
                    0 !== e.option.defaultAutoLoadPageCount && e._infScroll.loadCount === e.option.defaultAutoLoadPageCount && (e.disabledLoadOnScroll(), e._infScroll.off("load", o))
                }), e._infScroll.on("append",
                function(o, t, n) {
                    l.isFunction(e.option.onAppend) && e.option.onAppend.bind(this)(o, t, n)
                }), e._infScroll.on("error",
                function(o, t) {
                    l.isFunction(e.option.onError) && e.option.onError.bind(this)(o, t)
                }), e._infScroll.on("last",
                function(o, t) {
                    setTimeout(function() {
                            e._loadMoreButton().hide()
                        },
                        0),
                    l.isFunction(e.option.onLast) && e.option.onLast.bind(this)(o, t)
                }), 0 !== e.option.defaultAutoLoadPageCount || e.option.loadOnScroll || (e._loadMoreButton().show(), e._loader().hide()))
        },
            o.prototype.destroy = function() {
                var o = this;
                0 !== l(o.getFullSelector(o.option.itemListSelector)).length && (o._infScroll && o._infScroll.destroy(), o._loadMoreButton().hide(), o._loader().show())
            },
            o.prototype.disabledLoadOnScroll = function() {
                var o = this;
                o._infScroll.option({
                    loadOnScroll: !1
                }),
                    o._loadMoreButton().show(),
                    o._loader().hide()
            },
            o.prototype.enabledLoadOnScroll = function() {
                var o = this;
                o._infScroll.option({
                    loadOnScroll: !0
                }),
                    o._loadMoreButton().hide(),
                    o._loader().show()
            },
            o.prototype.getFullSelector = function(o) {
                var t = this,
                    n = o.trim();
                return t.option.containerSelector && 0 < t.option.containerSelector.trim().length && (n = t.option.containerSelector.trim() + " " + n),
                    n
            },
            window.OSCInfiniteScroll = o
    } (window.jQuery || window.$);
$(function() {
    var e, t = function() {
        $(document).on("click", ".tweet-item .meta a.like",
            function(e) {
                var i = $(this),
                    t = i.parents(".tweet-item:eq(0)"),
                    n = t.attr("data-tweet-id"),
                    a = t.attr("data-tweet-owner-id"),
                    s = i.find("span");
                if (!window.common.checkLogin()) return ! 1;
                $.get(page.space_user_url + "/tweet/tweet_love", {
                        tweet_id: n,
                        author_user_id: a
                    },
                    function(e) {
                        var t, a, o, r;
                        1 === e.code && e.result ? (t = e.result.isLove, a = e.result.loveCount, o = $('[data-tweet-like-btn][data-tweet-id="' + n + '"]'), t ? (i.addClass("active"), i.find(".like.icon").removeClass("outline"), o.addClass("active"), o.find(".like.icon").removeClass("outline")) : (i.removeClass("active"), i.find(".like.icon").addClass("outline"), o.removeClass("active"), o.find(".like.icon").addClass("outline")), s.text(a), $('[data-tweet-like-count][data-tweet-id="' + n + '"]').text(a), 0 < (r = $('[data-tweet-thumbups-list][data-tweet-id="' + n + '"]')).length && $.get(page.space_user_url + "/widgets/_tweet_thumbups_ajax?tweetId=" + n,
                            function(e) {
                                r.html(e),
                                    $(".thumbups-wrap .thumbups .dropdown").dropdown()
                            })) : $("body").toast({
                            type: "error",
                            content: e.message || "点赞失败"
                        })
                    })
            })
    };
    t(),
        e = function() {
            var o, t, e, i;
            void 0 !== window.Vue && (o = new Vue({
                el: "#tweetShareForm",
                data: function() {
                    return {
                        tweetMaxLength: 160,
                        tweetContent: "",
                        tweetPublishLoading: !1,
                        tipMessage: {
                            show: !1,
                            content: "",
                            className: ""
                        },
                        curEmojiType: "People",
                        emojiList: [{
                            type: "People",
                            items: ["bowtie", "smile", "laughing", "blush", "smiley", "relaxed", "smirk", "heart_eyes", "kissing_heart", "kissing_closed_eyes", "flushed", "relieved", "satisfied", "grin", "wink", "stuck_out_tongue_winking_eye", "stuck_out_tongue_closed_eyes", "grinning", "kissing", "kissing_smiling_eyes", "stuck_out_tongue", "sleeping", "worried", "frowning", "anguished", "open_mouth", "grimacing", "confused", "hushed", "expressionless", "unamused", "sweat_smile", "sweat", "disappointed_relieved", "weary", "pensive", "disappointed", "confounded", "fearful", "cold_sweat", "persevere", "cry", "sob", "joy", "astonished", "scream", "neckbeard", "tired_face", "angry", "rage", "triumph", "sleepy", "yum", "mask", "sunglasses", "dizzy_face", "imp", "smiling_imp", "neutral_face", "no_mouth", "innocent", "alien", "yellow_heart", "blue_heart", "purple_heart", "heart", "green_heart", "broken_heart", "heartbeat", "heartpulse", "two_hearts", "revolving_hearts", "cupid", "sparkling_heart", "sparkles", "star", "star2", "dizzy", "boom", "collision", "anger", "exclamation", "question", "grey_exclamation", "grey_question", "zzz", "dash", "sweat_drops", "notes", "musical_note", "fire", "hankey", "poop", "shit", "+1", "thumbsup", "-1", "thumbsdown", "ok_hand", "punch", "facepunch", "fist", "v", "wave", "hand", "raised_hand", "open_hands", "point_up", "point_down", "point_left", "point_right", "raised_hands", "pray", "point_up_2", "clap", "muscle", "metal", "fu", "walking", "runner", "running", "couple", "family", "two_men_holding_hands", "two_women_holding_hands", "dancer", "dancers", "ok_woman", "no_good", "information_desk_person", "raising_hand", "bride_with_veil", "person_with_pouting_face", "person_frowning", "bow", "couplekiss", "couple_with_heart", "massage", "haircut", "nail_care", "boy", "girl", "woman", "man", "baby", "older_woman", "older_man", "person_with_blond_hair", "man_with_gua_pi_mao", "man_with_turban", "construction_worker", "cop", "angel", "princess", "smiley_cat", "smile_cat", "heart_eyes_cat", "kissing_cat", "smirk_cat", "scream_cat", "crying_cat_face", "joy_cat", "pouting_cat", "japanese_ogre", "japanese_goblin", "see_no_evil", "hear_no_evil", "speak_no_evil", "guardsman", "skull", "feet", "lips", "kiss", "droplet", "ear", "eyes", "nose", "tongue", "love_letter", "bust_in_silhouette", "busts_in_silhouette", "speech_balloon", "thought_balloon", "feelsgood", "finnadie", "goberserk", "godmode", "hurtrealbad", "rage1", "rage2", "rage3", "rage4", "suspect", "trollface"]
                        },
                            {
                                type: "Nature",
                                items: ["sunny", "umbrella", "cloud", "snowflake", "snowman", "zap", "cyclone", "foggy", "ocean", "cat", "dog", "mouse", "hamster", "rabbit", "wolf", "frog", "tiger", "koala", "bear", "pig", "pig_nose", "cow", "boar", "monkey_face", "monkey", "horse", "racehorse", "camel", "sheep", "elephant", "panda_face", "snake", "bird", "baby_chick", "hatched_chick", "hatching_chick", "chicken", "penguin", "turtle", "bug", "honeybee", "ant", "beetle", "snail", "octopus", "tropical_fish", "fish", "whale", "whale2", "dolphin", "cow2", "ram", "rat", "water_buffalo", "tiger2", "rabbit2", "dragon", "goat", "rooster", "dog2", "pig2", "mouse2", "ox", "dragon_face", "blowfish", "crocodile", "dromedary_camel", "leopard", "cat2", "poodle", "paw_prints", "bouquet", "cherry_blossom", "tulip", "four_leaf_clover", "rose", "sunflower", "hibiscus", "maple_leaf", "leaves", "fallen_leaf", "herb", "mushroom", "cactus", "palm_tree", "evergreen_tree", "deciduous_tree", "chestnut", "seedling", "blossom", "ear_of_rice", "shell", "globe_with_meridians", "sun_with_face", "full_moon_with_face", "new_moon_with_face", "new_moon", "waxing_crescent_moon", "first_quarter_moon", "waxing_gibbous_moon", "full_moon", "waning_gibbous_moon", "last_quarter_moon", "waning_crescent_moon", "last_quarter_moon_with_face", "first_quarter_moon_with_face", "moon", "earth_africa", "earth_americas", "earth_asia", "volcano", "milky_way", "partly_sunny", "octocat", "squirrel"]
                            },
                            {
                                type: "Objects",
                                items: ["bamboo", "gift_heart", "dolls", "school_satchel", "mortar_board", "flags", "fireworks", "sparkler", "wind_chime", "rice_scene", "jack_o_lantern", "ghost", "santa", "christmas_tree", "gift", "bell", "no_bell", "tanabata_tree", "tada", "confetti_ball", "balloon", "crystal_ball", "cd", "dvd", "floppy_disk", "camera", "video_camera", "movie_camera", "computer", "tv", "iphone", "phone", "telephone", "telephone_receiver", "pager", "fax", "minidisc", "vhs", "sound", "speaker", "mute", "loudspeaker", "mega", "hourglass", "hourglass_flowing_sand", "alarm_clock", "watch", "radio", "satellite", "loop", "mag", "mag_right", "unlock", "lock", "lock_with_ink_pen", "closed_lock_with_key", "key", "bulb", "flashlight", "high_brightness", "low_brightness", "electric_plug", "battery", "calling", "email", "mailbox", "postbox", "bath", "bathtub", "shower", "toilet", "wrench", "nut_and_bolt", "hammer", "seat", "moneybag", "yen", "dollar", "pound", "euro", "credit_card", "money_with_wings", "e-mail", "inbox_tray", "outbox_tray", "envelope", "incoming_envelope", "postal_horn", "mailbox_closed", "mailbox_with_mail", "mailbox_with_no_mail", "package", "door", "smoking", "bomb", "gun", "hocho", "pill", "syringe", "page_facing_up", "page_with_curl", "bookmark_tabs", "bar_chart", "chart_with_upwards_trend", "chart_with_downwards_trend", "scroll", "clipboard", "calendar", "date", "card_index", "file_folder", "open_file_folder", "scissors", "pushpin", "paperclip", "black_nib", "pencil2", "straight_ruler", "triangular_ruler", "closed_book", "green_book", "blue_book", "orange_book", "notebook", "notebook_with_decorative_cover", "ledger", "books", "bookmark", "name_badge", "microscope", "telescope", "newspaper", "football", "basketball", "soccer", "baseball", "tennis", "8ball", "rugby_football", "bowling", "golf", "mountain_bicyclist", "bicyclist", "horse_racing", "snowboarder", "swimmer", "surfer", "ski", "spades", "hearts", "clubs", "diamonds", "gem", "ring", "trophy", "musical_score", "musical_keyboard", "violin", "space_invader", "video_game", "black_joker", "flower_playing_cards", "game_die", "dart", "mahjong", "clapper", "memo", "pencil", "book", "art", "microphone", "headphones", "trumpet", "saxophone", "guitar", "shoe", "sandal", "high_heel", "lipstick", "boot", "shirt", "tshirt", "necktie", "womans_clothes", "dress", "running_shirt_with_sash", "jeans", "kimono", "bikini", "ribbon", "tophat", "crown", "womans_hat", "mans_shoe", "closed_umbrella", "briefcase", "handbag", "pouch", "purse", "eyeglasses", "fishing_pole_and_fish", "coffee", "tea", "sake", "baby_bottle", "beer", "beers", "cocktail", "tropical_drink", "wine_glass", "fork_and_knife", "pizza", "hamburger", "fries", "poultry_leg", "meat_on_bone", "spaghetti", "curry", "fried_shrimp", "bento", "sushi", "fish_cake", "rice_ball", "rice_cracker", "rice", "ramen", "stew", "oden", "dango", "egg", "bread", "doughnut", "custard", "icecream", "ice_cream", "shaved_ice", "birthday", "cake", "cookie", "chocolate_bar", "candy", "lollipop", "honey_pot", "apple", "green_apple", "tangerine", "lemon", "cherries", "grapes", "watermelon", "strawberry", "peach", "melon", "banana", "pear", "pineapple", "sweet_potato", "eggplant", "tomato", "corn"]
                            },
                            {
                                type: "Places",
                                items: ["house", "house_with_garden", "school", "office", "post_office", "hospital", "bank", "convenience_store", "love_hotel", "hotel", "wedding", "church", "department_store", "european_post_office", "city_sunrise", "city_sunset", "japanese_castle", "european_castle", "tent", "factory", "tokyo_tower", "japan", "mount_fuji", "sunrise_over_mountains", "sunrise", "stars", "statue_of_liberty", "bridge_at_night", "carousel_horse", "rainbow", "ferris_wheel", "fountain", "roller_coaster", "ship", "speedboat", "boat", "sailboat", "rowboat", "anchor", "rocket", "airplane", "helicopter", "steam_locomotive", "tram", "mountain_railway", "bike", "aerial_tramway", "suspension_railway", "mountain_cableway", "tractor", "blue_car", "oncoming_automobile", "car", "red_car", "taxi", "oncoming_taxi", "articulated_lorry", "bus", "oncoming_bus", "rotating_light", "police_car", "oncoming_police_car", "fire_engine", "ambulance", "minibus", "truck", "train", "station", "train2", "bullettrain_front", "bullettrain_side", "light_rail", "monorail", "railway_car", "trolleybus", "ticket", "fuelpump", "vertical_traffic_light", "traffic_light", "warning", "construction", "beginner", "atm", "slot_machine", "busstop", "barber", "hotsprings", "checkered_flag", "crossed_flags", "izakaya_lantern", "moyai", "circus_tent", "performing_arts", "round_pushpin", "triangular_flag_on_post", "jp", "kr", "cn", "us", "fr", "es", "it", "ru", "gb", "uk", "de"]
                            },
                            {
                                type: "Symbols",
                                items: ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "keycap_ten", "1234", "zero", "hash", "symbols", "arrow_backward", "arrow_down", "arrow_forward", "arrow_left", "capital_abcd", "abcd", "abc", "arrow_lower_left", "arrow_lower_right", "arrow_right", "arrow_up", "arrow_upper_left", "arrow_upper_right", "arrow_double_down", "arrow_double_up", "arrow_down_small", "arrow_heading_down", "arrow_heading_up", "leftwards_arrow_with_hook", "arrow_right_hook", "left_right_arrow", "arrow_up_down", "arrow_up_small", "arrows_clockwise", "arrows_counterclockwise", "rewind", "fast_forward", "information_source", "ok", "twisted_rightwards_arrows", "repeat", "repeat_one", "new", "top", "up", "cool", "free", "ng", "cinema", "koko", "signal_strength", "u5272", "u5408", "u55b6", "u6307", "u6708", "u6709", "u6e80", "u7121", "u7533", "u7a7a", "u7981", "sa", "restroom", "mens", "womens", "baby_symbol", "no_smoking", "parking", "wheelchair", "metro", "baggage_claim", "accept", "wc", "potable_water", "put_litter_in_its_place", "secret", "congratulations", "m", "passport_control", "left_luggage", "customs", "ideograph_advantage", "cl", "sos", "id", "no_entry_sign", "underage", "no_mobile_phones", "do_not_litter", "non-potable_water", "no_bicycles", "no_pedestrians", "children_crossing", "no_entry", "eight_spoked_asterisk", "sparkle", "eight_pointed_black_star", "heart_decoration", "vs", "vibration_mode", "mobile_phone_off", "chart", "currency_exchange", "aries", "taurus", "gemini", "cancer", "leo", "virgo", "libra", "scorpius", "sagittarius", "capricorn", "aquarius", "pisces", "ophiuchus", "six_pointed_star", "negative_squared_cross_mark", "a", "b", "ab", "o2", "diamond_shape_with_a_dot_inside", "recycle", "end", "back", "on", "soon", "clock1", "clock130", "clock10", "clock1030", "clock11", "clock1130", "clock12", "clock1230", "clock2", "clock230", "clock3", "clock330", "clock4", "clock430", "clock5", "clock530", "clock6", "clock630", "clock7", "clock730", "clock8", "clock830", "clock9", "clock930", "heavy_dollar_sign", "copyright", "registered", "tm", "x", "heavy_exclamation_mark", "bangbang", "interrobang", "o", "heavy_multiplication_x", "heavy_plus_sign", "heavy_minus_sign", "heavy_division_sign", "white_flower", "100", "heavy_check_mark", "ballot_box_with_check", "radio_button", "link", "curly_loop", "wavy_dash", "part_alternation_mark", "trident", "black_small_square", "white_small_square", "black_medium_small_square", "white_medium_small_square", "black_medium_square", "white_medium_square", "black_large_square", "white_large_square", "white_check_mark", "black_square_button", "white_square_button", "black_circle", "white_circle", "red_circle", "large_blue_circle", "large_blue_diamond", "large_orange_diamond", "small_blue_diamond", "small_orange_diamond", "small_red_triangle", "small_red_triangle_down", "shipit"]
                            }],
                        repostId: ""
                    }
                },
                computed: {
                    curEmojiItems: function() {
                        for (var e = 0,
                                 t = this.emojiList.length; e < t; e++) if (this.emojiList[e].type === this.curEmojiType) return this.emojiList[e].items;
                        return this.emojiList[0].items
                    },
                    tweetContentIsEmpty: function() {
                        return 0 === this.tweetContent.length
                    },
                    tweetCountText: function() {
                        return this.tweetContent.length + "/" + this.tweetMaxLength
                    }
                },
                methods: {
                    insertEmoji: function(e) {
                        this.clearMessage();
                        var t = ":" + e + ":";
                        this.insertContent(t),
                            $(this.$refs.showEmojiBox).popup("hide")
                    },
                    insertTopic: function() {
                        var e, t, a;
                        this.clearMessage(),
                            e = "#此处输入话题#",
                        this.insertContent(e) && (a = (t = selectRange.of(this.$refs.tweetTextarea)).getCurPos(), t.setSelectText(a - (e.length - 1), a - 1))
                    },
                    publishTweet: function() {
                        var t, e;
                        if (t = this, !window.common.checkLogin()) return ! 1;
                        t.tweetPublishLoading || (t.clearMessage(), t.tweetContentIsEmpty ? t.showMessage("error", "内容不能为空", 2e3) : t.tweetContent.length > t.tweetMaxLength ? t.showMessage("error", "最多只能输入" + t.tweetMaxLength + "个字符！", 2e3) : (t.tweetPublishLoading = !0, e = {
                            content: t.tweetContent,
                            userId: page.g_user_id || "",
                            user_code: page.g_user_code || "",
                            repost_id: t.repostId
                        },
                            $.post(page.space_user_url + "/tweet/pubForwardTweet", e,
                                function(a) {
                                    var e;
                                    1 === a.code ? (t.showMessage("success", "动弹发布成功！", 2e3), t.tweetContent = "", a.result && void 0 !== a.result.refCount && (e = a.result.refCount, $('[data-tweet-ref-count][data-tweet-id="' + t.repostId + '"]').html(e)), setTimeout(function() {
                                            var t, e;
                                            $(".tweet-share.modal").modal("hide"),
                                            a.result && void 0 !== a.result.log && 0 < (t = $(".tweets-list-container[data-tweets-list]")).length && (e = a.result.log, $.get("/tweets/widgets/_tweet_list_item_ajax?tweetId=" + e,
                                                function(e) {
                                                    t.prepend(e),
                                                        $(function() {
                                                            $("[data-emoji-render]").emoticon()
                                                        }),
                                                    OSCMultipleImageViewer && OSCMultipleImageViewer.initSmallImages()
                                                }))
                                        },
                                        500)) : t.showMessage("error", a.message || "动弹发布失败，请稍后再试！", 2e3)
                                }).fail(function() {
                                t.showMessage("error", "网络错误，请稍后再试！", 2e3)
                            }).always(function() {
                                t.tweetPublishLoading = !1
                            })))
                    },
                    tweetContentOnKeyDown: function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && this.publishTweet()
                    },
                    insertContent: function(e) {
                        return ! this.tweetPublishLoading && (this.tweetContent.length >= this.tweetMaxLength || this.tweetContent.length + e.length > this.tweetMaxLength ? (this.showMessage("error", "最多只能输入" + this.tweetMaxLength + "个字符！", 2e3), !1) : (selectRange.of(this.$refs.tweetTextarea).insertAfterText(e), this.tweetContent = this.$refs.tweetTextarea.value, !0))
                    },
                    setCursor: function(e) {
                        var t = this.$refs.tweetTextarea;
                        this.$nextTick(function() {
                            selectRange.of(t).setCurPos(e)
                        })
                    },
                    showMessage: function(e, t, a) {
                        var o, r = this;
                        r.tipMessage.className = "success" === e ? "positive": "negative",
                            r.tipMessage.content = t,
                            o = parseInt(a) || 0,
                            r.tipMessage.show = !0,
                        0 < o && setTimeout(function() {
                                r.clearMessage()
                            },
                            o)
                    },
                    clearMessage: function() {
                        var e = this;
                        e.tipMessage.className = "",
                            e.tipMessage.content = "",
                            e.tipMessage.show = !1
                    }
                }
            }), $(".tweet-share.modal").modal({
                onShow: function() {
                    o.$data.repostId = $(this).attr("data-repost-id") || 0,
                        o.$data.tweetContent = $(this).attr("data-repost-content") || "",
                        o.setCursor(0)
                }
            }), $("#tweetShareForm .tweet-form .toolbox > .item[data-popup]").each(function(e, t) {
                var a = $(t),
                    o = $(a).parent(),
                    r = o.find(".toolbox-popup." + a.attr("data-popup"));
                a.popup({
                    position: "bottom left",
                    popup: r,
                    on: "toolbox-picture" === a.attr("data-popup") ? "manual": "click",
                    exclusive: !0,
                    onShow: function() {
                        if (!window.common.checkLogin()) return ! 1
                    }
                })
            }), t = function(e) {
                if (Array.isArray(e) && 0 < e.length) {
                    var t = $("#tweetShareForm .tweet-textarea");
                    t.atwho({
                        at: "@",
                        data: e,
                        headerTpl: '<div class="atwho-header">我的关注 <small>↑&nbsp;↓&nbsp;</small></div>',
                        searchKey: "searchKey",
                        insertTpl: "${atwho-at}${name}",
                        displayTpl: "<li>${name}</li>",
                        limit: 10
                    }),
                        t.on("inserted.atwho",
                            function(e, t, a) {
                                o.tweetContent = o.$refs.tweetTextarea.value
                            }),
                        window.__LIKE_SHARE_ATWHO_INIT = !0
                }
            },
                e = function(a) {
                    $.post(page.space_user_url + "/tweet/atwho",
                        function(e) {
                            var t = e;
                            Array.isArray(t) && 0 < t.length && (window.__USER_FRIENDS = t, a(t))
                        })
                },
                i = function() {
                    page.g_user && 768 <= window.innerWidth && !window.__LIKE_SHARE_ATWHO_INIT && (window.__USER_FRIENDS ? t(window.__USER_FRIENDS) : e(function(e) {
                        t(e)
                    }))
                },
                $(document).on("click", ".tweet-item .meta a.share",
                    function(e) {
                        var t, a, o, r;
                        if (!window.common.checkLogin()) return ! 1;
                        a = (t = $(this).parents(".tweet-item:eq(0)")).attr("data-tweet-id"),
                            o = t.attr("data-repost-content"),
                            (r = $(".tweet-share.modal")).attr("data-repost-id", a),
                            r.attr("data-repost-content", o),
                            r.modal("show"),
                            i()
                    }))
        },
        void 0 !== window.Vue && void 0 !== $.fn.atwho ? e() : new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js", "/new-osc/js/utils/plugins/caret/jquery.caret.min.js", "/new-osc/js/utils/plugins/atwho/jquery.atwho.min.js"],
            function() {
                e()
            }).loadFiles()
});
OSCPlugin("index-tweets-widget",
    function() {
        var s = {
            onTabChange: null,
            setOnTabChangeCallback: function(e) {
                jQuery.isFunction(e) && (this.onTabChange = e)
            },
            refreshIndexTweets: function() {
                var e, t, n;
                e = $(".index-tweets-widget"),
                    n = (t = e.find(".tweets-wrap")).find(".tweets-tab .item.active").data("tab") || "",
                    $.get("/widgets/_index_tweets_list?type=ajax&tab=" + n + "&nocache=" + (new Date).getTime(),
                        function(e) {
                            t.html(e),
                                s.initTab(),
                                s.parseEmoticon()
                        })
            },
            initTweetWidgetForm: function() {
                var n = this;
                new Vue({
                    el: "#tweetWidgetForm",
                    data: function() {
                        return {
                            tweetMaxLength: 160,
                            tweetContent: "",
                            tweetPublishLoading: !1,
                            tipMessage: {
                                show: !1,
                                content: "",
                                className: ""
                            }
                        }
                    },
                    computed: {
                        tweetContentIsEmpty: function() {
                            return 0 === this.tweetContent.length
                        }
                    },
                    methods: {
                        publishTweet: function() {
                            var t, e; (t = this).tweetPublishLoading || (t.clearMessage(), t.tweetContentIsEmpty ? t.showMessage("error", "内容不能为空", 2e3) : t.tweetContent.length > t.tweetMaxLength ? t.showMessage("error", "最多只能输入" + t.tweetMaxLength + "个字符！", 2e3) : (t.tweetPublishLoading = !0, t.showMessage("success", "正在发送"), e = {
                                userId: page.g_user_id || "",
                                user_code: page.g_user_code || "",
                                content: t.tweetContent
                            },
                                $.post("/tweet/pubForwardTweet", e,
                                    function(e) {
                                        1 === e.code ? (t.showMessage("success", "动弹发布成功！", 2e3), t.tweetPublishLoading = !1, t.tweetContent = "", n.refreshIndexTweets()) : t.showMessage("error", e.message || "发布失败", 2e3)
                                    }).fail(function() {
                                    t.showMessage("error", "网络错误，请稍后再试！", 2e3)
                                }).always(function() {
                                    t.tweetPublishLoading = !1
                                })))
                        },
                        tweetContentOnKeyDown: function(e) {
                            13 === e.keyCode && (e.preventDefault(), this.publishTweet())
                        },
                        tweetContentOnKeyDownCtrlEnter: function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && (e.preventDefault(), this.publishTweet())
                        },
                        showMessage: function(e, t, n) {
                            var s, i = this;
                            i.tipMessage.className = "success" === e ? "positive": "negative",
                                i.tipMessage.content = t,
                                s = parseInt(n) || 0,
                                i.tipMessage.show = !0,
                            0 < s && setTimeout(function() {
                                    i.clearMessage()
                                },
                                s)
                        },
                        clearMessage: function() {
                            var e = this;
                            e.tipMessage.className = "",
                                e.tipMessage.content = "",
                                e.tipMessage.show = !1
                        }
                    }
                })
            },
            initTab: function() {
                var a = this,
                    o = $(".index-tweets-widget");
                o.on("click", ".tweets-tab .item",
                    function() {
                        var e = $(this),
                            t = e.data("tab"),
                            n = o.find(".tweets-tab"),
                            s = o.find(".tab-body"),
                            i = o.find('.tab-body[data-tab="' + t + '"]');
                        i && 0 < i.length && (n.find(".item").removeClass("active"), e.addClass("active"), s.removeClass("active"), i.addClass("active"), jQuery.isFunction(a.onTabChange) && a.onTabChange())
                    })
            },
            initAutoRefresh: function() {
                var e = this;
                setInterval(function() {
                        e.refreshIndexTweets()
                    },
                    2e4)
            },
            parseEmoticon: function() {
                $(function() {
                    $("[data-emoji-render]").emoticon()
                })
            }
        };
        return s.initTweetWidgetForm(),
            s.initTab(),
            s.parseEmoticon(),
            s.initAutoRefresh(),
            s
    });
OSCDefine("web-index", ["index-tweets-widget"],
    function(t) {
        var e = function() {};
        return e.prototype = {
            constructor: e,
            playNews: function() {
                return new Vue({
                    el: "#v_news",
                    data: function() {
                        return {
                            industryNewsTab: 1,
                            projectNewsTab: 1
                        }
                    },
                    methods: {
                        setPageIndex: function(t, e) {
                            this[t] = e
                        }
                    }
                }),
                    this
            },
            playSolution: function() {
                var t;
                new Vue({
                    el: "#v_wonderful",
                    data: function() {
                        return {
                            items: window.__QUESTION_WONDERFUL || [],
                            show: !0
                        }
                    },
                    methods: {
                        autoPlay: function() {
                            var t = this.items,
                                e = t.shift();
                            setTimeout(function() {
                                    t.push(e)
                                },
                                1e3)
                        },
                        pause: function() {
                            clearInterval(t)
                        },
                        play: function() {
                            t = setInterval(this.autoPlay, 1e4)
                        }
                    },
                    mounted: function() {
                        t = setInterval(this.autoPlay, 1e4)
                    }
                })
            },
            register: function() {
                this.playNews(),
                    this.playSolution()
            }
        },
            e
    }); !
    function(r, t) {
        var e = function(t) {
            var e = this;
            t && !t.refreshSelector && (t.refreshSelector = t.imgSelector),
                e.opts = e.extend(e.defaultConf, t),
                e._imgEl = r(e.opts.imgSelector),
                e._refreshEl = r(e.opts.refreshSelector),
                e._inputEl = r(e.opts.inputSelector),
                e._captchaUrl = e.opts.captchaUrl,
                e._refreshEl.on("click",
                    function(t) {
                        e.refresh(),
                        0 < e._inputEl.length && e._inputEl.focus()
                    })
        };
        e.prototype.refresh = function() {
            this._imgEl.attr("src", this._captchaUrl + "?t=" + Math.random()),
            0 < this._inputEl.length && this._inputEl.val("")
        },
            e.prototype.defaultConf = {
                imgSelector: ".captcha img",
                refreshSelector: ".captcha",
                inputSelector: "input[name=verifyCode]",
                captchaUrl: "https://www.oschina.net/action/user/captcha"
            },
            e.prototype.extend = function(t, e) {
                var r, o, n = {};
                for (r in t) t.hasOwnProperty(r) && (n[r] = t[r]);
                for (o in e) e.hasOwnProperty(o) && (n[o] = e[o]);
                return n
            },
            t.OSCCaptcha = e
    } (window.jQuery || window.$, window);
var CryptoJS = CryptoJS ||
    function(a, t) {
        var e, n = {},
            i = n.lib = {},
            r = function() {},
            s = i.Base = {
                extend: function(t) {
                    r.prototype = this;
                    var n = new r;
                    return t && n.mixIn(t),
                    n.hasOwnProperty("init") || (n.init = function() {
                        n.$super.init.apply(this, arguments)
                    }),
                        (n.init.prototype = n).$super = this,
                        n
                },
                create: function() {
                    var t = this.extend();
                    return t.init.apply(t, arguments),
                        t
                },
                init: function() {},
                mixIn: function(t) {
                    for (var n in t) t.hasOwnProperty(n) && (this[n] = t[n]);
                    t.hasOwnProperty("toString") && (this.toString = t.toString)
                },
                clone: function() {
                    return this.init.prototype.extend(this)
                }
            },
            c = i.WordArray = s.extend({
                init: function(t, n) {
                    t = this.words = t || [],
                        this.sigBytes = null != n ? n: 4 * t.length
                },
                toString: function(t) {
                    return (t || h).stringify(this)
                },
                concat: function(t) {
                    var n, i = this.words,
                        e = t.words,
                        r = this.sigBytes;
                    if (t = t.sigBytes, this.clamp(), r % 4) for (n = 0; n < t; n++) i[r + n >>> 2] |= (e[n >>> 2] >>> 24 - n % 4 * 8 & 255) << 24 - (r + n) % 4 * 8;
                    else if (65535 < e.length) for (n = 0; n < t; n += 4) i[r + n >>> 2] = e[n >>> 2];
                    else i.push.apply(i, e);
                    return this.sigBytes += t,
                        this
                },
                clamp: function() {
                    var t = this.words,
                        n = this.sigBytes;
                    t[n >>> 2] &= 4294967295 << 32 - n % 4 * 8,
                        t.length = a.ceil(n / 4)
                },
                clone: function() {
                    var t = s.clone.call(this);
                    return t.words = this.words.slice(0),
                        t
                },
                random: function(t) {
                    for (var n = [], i = 0; i < t; i += 4) n.push(4294967296 * a.random() | 0);
                    return new c.init(n, t)
                }
            }),
            o = n.enc = {},
            h = o.Hex = {
                stringify: function(t) {
                    var n, i, e, r = t.words;
                    for (t = t.sigBytes, n = [], i = 0; i < t; i++) e = r[i >>> 2] >>> 24 - i % 4 * 8 & 255,
                        n.push((e >>> 4).toString(16)),
                        n.push((15 & e).toString(16));
                    return n.join("")
                },
                parse: function(t) {
                    for (var n = t.length,
                             i = [], e = 0; e < n; e += 2) i[e >>> 3] |= parseInt(t.substr(e, 2), 16) << 24 - e % 8 * 4;
                    return new c.init(i, n / 2)
                }
            },
            u = o.Latin1 = {
                stringify: function(t) {
                    var n, i, e = t.words;
                    for (t = t.sigBytes, n = [], i = 0; i < t; i++) n.push(String.fromCharCode(e[i >>> 2] >>> 24 - i % 4 * 8 & 255));
                    return n.join("")
                },
                parse: function(t) {
                    for (var n = t.length,
                             i = [], e = 0; e < n; e++) i[e >>> 2] |= (255 & t.charCodeAt(e)) << 24 - e % 4 * 8;
                    return new c.init(i, n)
                }
            },
            f = o.Utf8 = {
                stringify: function(t) {
                    try {
                        return decodeURIComponent(escape(u.stringify(t)))
                    } catch(t) {
                        throw Error("Malformed UTF-8 data")
                    }
                },
                parse: function(t) {
                    return u.parse(unescape(encodeURIComponent(t)))
                }
            },
            l = i.BufferedBlockAlgorithm = s.extend({
                reset: function() {
                    this._data = new c.init,
                        this._nDataBytes = 0
                },
                _append: function(t) {
                    "string" == typeof t && (t = f.parse(t)),
                        this._data.concat(t),
                        this._nDataBytes += t.sigBytes
                },
                _process: function(t) {
                    var n, i = this._data,
                        e = i.words,
                        r = i.sigBytes,
                        s = this.blockSize,
                        o = r / (4 * s);
                    if (t = (o = t ? a.ceil(o) : a.max((0 | o) - this._minBufferSize, 0)) * s, r = a.min(4 * t, r), t) {
                        for (n = 0; n < t; n += s) this._doProcessBlock(e, n);
                        n = e.splice(0, t),
                            i.sigBytes -= r
                    }
                    return new c.init(n, r)
                },
                clone: function() {
                    var t = s.clone.call(this);
                    return t._data = this._data.clone(),
                        t
                },
                _minBufferSize: 0
            });
        return i.Hasher = l.extend({
            cfg: s.extend(),
            init: function(t) {
                this.cfg = this.cfg.extend(t),
                    this.reset()
            },
            reset: function() {
                l.reset.call(this),
                    this._doReset()
            },
            update: function(t) {
                return this._append(t),
                    this._process(),
                    this
            },
            finalize: function(t) {
                return t && this._append(t),
                    this._doFinalize()
            },
            blockSize: 16,
            _createHelper: function(i) {
                return function(t, n) {
                    return new i.init(n).finalize(t)
                }
            },
            _createHmacHelper: function(i) {
                return function(t, n) {
                    return new e.HMAC.init(i, n).finalize(t)
                }
            }
        }),
            e = n.algo = {},
            n
    } (Math); !
    function() {
        var t = CryptoJS,
            n = (e = t.lib).WordArray,
            i = e.Hasher,
            u = [],
            e = t.algo.SHA1 = i.extend({
                _doReset: function() {
                    this._hash = new n.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520])
                },
                _doProcessBlock: function(t, n) {
                    var i, e, r, s, o, a, c, h;
                    for (e = (i = this._hash.words)[0], r = i[1], s = i[2], o = i[3], a = i[4], c = 0; c < 80; c++) u[c] = c < 16 ? 0 | t[n + c] : (h = u[c - 3] ^ u[c - 8] ^ u[c - 14] ^ u[c - 16]) << 1 | h >>> 31,
                        h = (e << 5 | e >>> 27) + a + u[c],
                        h = c < 20 ? h + (1518500249 + (r & s | ~r & o)) : c < 40 ? h + (1859775393 + (r ^ s ^ o)) : c < 60 ? h + ((r & s | r & o | s & o) - 1894007588) : h + ((r ^ s ^ o) - 899497514),
                        a = o,
                        o = s,
                        s = r << 30 | r >>> 2,
                        r = e,
                        e = h;
                    i[0] = i[0] + e | 0,
                        i[1] = i[1] + r | 0,
                        i[2] = i[2] + s | 0,
                        i[3] = i[3] + o | 0,
                        i[4] = i[4] + a | 0
                },
                _doFinalize: function() {
                    var t = this._data,
                        n = t.words,
                        i = 8 * this._nDataBytes,
                        e = 8 * t.sigBytes;
                    return n[e >>> 5] |= 128 << 24 - e % 32,
                        n[14 + (e + 64 >>> 9 << 4)] = Math.floor(i / 4294967296),
                        n[15 + (e + 64 >>> 9 << 4)] = i,
                        t.sigBytes = 4 * n.length,
                        this._process(),
                        this._hash
                },
                clone: function() {
                    var t = i.clone.call(this);
                    return t._hash = this._hash.clone(),
                        t
                }
            });
        t.SHA1 = i._createHelper(e),
            t.HmacSHA1 = i._createHmacHelper(e)
    } ();
OSCDefine("web-home-login",
    function() {
        var e = function() {
            var e = this;
            e._loginPanelWrapper = $("#loginPanelWrapper"),
                e._accountLoginForm = $("#accountLoginForm"),
                e._QrCodeTimer = null
        };
        return e.prototype = {
            constructor: e,
            initLoginPanel: function() {
                var e = this;
                e._loginPanelWrapper.find(".checkbox").checkbox(),
                    e._loginPanelWrapper.shape(),
                    e._loginPanelWrapper.find(".switch-login-type").click(function() {
                        "qrcode" === $(this).attr("data-type") ? e._getQrcode() : clearTimeout(e._QrCodeTimer),
                            e._loginPanelWrapper.shape("flip back")
                    })
            },
            initCaptcha: function() {
                var n = this;
                n._loginCaptcha = new OSCCaptcha({
                    imgSelector: "#accountLoginForm .captcha img",
                    refreshSelector: "#accountLoginForm .captcha",
                    inputSelector: "#accountLoginForm input[name=verifyCode]",
                    captchaUrl: "/user/captcha"
                }),
                    $.fn.form.settings.rules.verifyCodeEmpty = function(e) {
                        return ! (0 === e.trim().length && "block" === n._accountLoginForm.find(".captcha-filed").css("display"))
                    }
            },
            initAccountLoginForm: function() {
                var i = this;
                i._accountLoginForm.form({
                    inline: !0,
                    fields: {
                        account: {
                            identifier: "account",
                            rules: [{
                                type: "empty",
                                prompt: "请输入手机/邮箱"
                            }]
                        },
                        pwd: {
                            identifier: "pwd",
                            rules: [{
                                type: "empty",
                                prompt: "请输入密码"
                            }]
                        },
                        verifyCode: {
                            identifier: "verifyCode",
                            rules: [{
                                type: "verifyCodeEmpty",
                                prompt: "请输入验证码"
                            }]
                        }
                    }
                }).api({
                    url: "/user/login",
                    method: "post",
                    dataType: "html",
                    serializeForm: !0,
                    beforeSend: function(e) {
                        $(this).message("hideAll");
                        var n = e.data;
                        return e.data = {
                            from: n.from,
                            email: n.account,
                            pwd: CryptoJS.SHA1(n.pwd).toString(),
                            verifyCode: n.verifyCode,
                            save_login: n.save_login
                        },
                            e
                    },
                    onSuccess: function(e, n, o) {
                        var t = "string" == typeof e ? JSON.parse(e) : e;
                        if (t.length <= 0) i._redirectLoginSuccessPage();
                        else if (0 < t.error || 0 < t.failCount) switch (i._showCaptchaCodeBeforeLogin(t), t.msg) {
                            case "验证码错误":
                                $(this).form("add prompt", "verifyCode", "请输入正确的图片验证码"),
                                    i._loginCaptcha.refresh(),
                                    $(this).find("input[name=verifyCode]").focus();
                                break;
                            default:
                                $(this).message({
                                    type:
                                        "negative",
                                    content: t.msg
                                })
                        }
                    },
                    onFailure: function(e, n, o) {
                        $(this).message({
                            type: "negative",
                            content: "网络错误，请稍后再试"
                        })
                    }
                })
            },
            initAccountLoginFormCheckAccountNeedCaptcha: function() {
                var n = this;
                n._accountLoginForm.on("blur", "input[name=account]",
                    function() {
                        var e = {
                            msg: "",
                            failCount: 0
                        };
                        0 < n._accountLoginForm.find("input[name=account]").val().length && (e.failCount = 3),
                            n._showCaptchaCodeBeforeLogin(e)
                    })
            },
            _getQrcode: function() {
                var n = this;
                $.ajax({
                    url: "/user/get_qrcode?_=" + (new Date).getTime(),
                    dataType: "json",
                    cache: !1,
                    success: function(e) {
                        $("#loginQrCode").attr("src", "data:image/jpg;base64," + e.qrCode),
                            n._QrCodeTimer = setInterval(function() {
                                    n._setQrCodeLongConnection(e.uuid)
                                },
                                2e3)
                    }
                })
            },
            _setQrCodeLongConnection: function(e) {
                var n = this;
                $.ajax({
                    url: "/user/long_connection",
                    method: "post",
                    data: {
                        uuid: e
                    },
                    cache: !1,
                    success: function(e) {
                        "success" === e ? n._redirectLoginSuccessPage() : null != e && "out of date" !== e || location.reload()
                    }
                })
            },
            _redirectLoginSuccessPage: function() {
                var e, n = page.login_success_redirect || "";
                n && 0 < n.length && (n.indexOf("nocache") < 0 && (e = -1 < n.indexOf("?"), n = n + (e ? "&": "?") + "nocache=" + (new Date).getTime()), window.location.href = n)
            },
            _showCaptchaCodeBeforeLogin: function(e) {
                var n = this;
                2 < e.failCount || 1 === e.error ? (n._loginCaptcha.refresh(), n._accountLoginForm.find(".captcha-filed").css("display", "block")) : (n._accountLoginForm.find(".captcha-filed").css("display", "none"), n._accountLoginForm.find("input[name=verifyCode]").val(""))
            },
            register: function() {
                this.initLoginPanel(),
                    this.initCaptcha(),
                    this.initAccountLoginForm(),
                    this.initAccountLoginFormCheckAccountNeedCaptcha()
            }
        },
            e
    });
OSCDefine("web-home-register",
    function() {
        var e = function() {
            var e = this;
            e._registerPanelWrapper = $("#registerPanelWrapper"),
                e._mobileRegisterForm = $("#mobileRegisterForm"),
                e._sendPhoneCodeBtn = e._registerPanelWrapper.find(".send-phone-code"),
                e._mobileRegisterCaptcha = new OSCCaptcha({
                    imgSelector: "#mobileRegisterForm .captcha img",
                    refreshSelector: "#mobileRegisterForm .captcha",
                    inputSelector: "#mobileRegisterForm input[name=verifyCode]",
                    captchaUrl: "https://www.oschina.net/action/user/captcha"
                })
        };
        return e.prototype = {
            constructor: e,
            _phoneCodeCountDown: function(e) {
                var t, o = this,
                    r = e || 60;
                o._sendPhoneCodeBtn.addClass("disabled"),
                    o._sendPhoneCodeBtn.text(r + "s 后重新发送"),
                window.localStorage && localStorage.setItem("register_phone_code", parseInt((new Date).getTime() / 1e3) + r),
                    t = setInterval(function() {--r < 1 ? (clearInterval(t), o._sendPhoneCodeBtn.removeClass("disabled"), o._sendPhoneCodeBtn.text("获取验证码")) : (o._sendPhoneCodeBtn.text(r + "s 后重新发送"), window.localStorage && localStorage.setItem("register_phone_code", parseInt((new Date).getTime() / 1e3) + r))
                        },
                        1e3)
            },
            _redirectRegisterSuccessPage: function() {
                var e, t = page.register_success_redirect || "";
                t && 0 < t.length && (t.indexOf("nocache") < 0 && (e = -1 < t.indexOf("?"), t = t + (e ? "&": "?") + "nocache=" + (new Date).getTime()), window.location.href = t)
            },
            initRegisterForm: function() {
                var n = this;
                n._registerPanelWrapper.find(".checkbox").checkbox(),
                    $.fn.form.settings.rules.password = function(e) {
                        return ! (!e.match(/[0-9]/) || !e.match(/[a-zA-Z]/) && !/\W/.test(e))
                    },
                    n._mobileRegisterForm.form({
                        inline: !0,
                        fields: {
                            phone: {
                                identifier: "phone",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入手机号码"
                                },
                                    {
                                        type: "regExp",
                                        value: /^1([0-9]{10})$/,
                                        prompt: "请输入正确的手机号码"
                                    }]
                            },
                            name: {
                                identifier: "name",
                                rules: [{
                                    type: "minLength[2]",
                                    prompt: "昵称长度至少 {ruleValue} 位"
                                },
                                    {
                                        type: "maxLength[20]",
                                        prompt: "昵称长度不能超过 {ruleValue} 位"
                                    }]
                            },
                            pwd: {
                                identifier: "pwd",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入密码"
                                },
                                    {
                                        type: "minLength[8]",
                                        prompt: "密码长度至少 {ruleValue} 位"
                                    },
                                    {
                                        type: "maxLength[20]",
                                        prompt: "密码长度不能超过 {ruleValue} 位"
                                    },
                                    {
                                        type: "password",
                                        prompt: "密码必须由字母或特殊字符和数字组成"
                                    }]
                            },
                            cpwd: {
                                identifier: "cpwd",
                                rules: [{
                                    type: "empty",
                                    prompt: "请再次输入密码"
                                },
                                    {
                                        type: "match[pwd]",
                                        prompt: "两次密码输入不一致"
                                    }]
                            },
                            verifyCode: {
                                identifier: "verifyCode",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入图片验证码"
                                }]
                            },
                            phone_v_code: {
                                identifier: "phone_v_code",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入短信验证码"
                                }]
                            },
                            gender: {
                                identifier: "gender",
                                rules: [{
                                    type: "empty",
                                    prompt: "请选择性别"
                                }]
                            },
                            agree_terms: {
                                identifier: "agree_terms",
                                rules: [{
                                    type: "checked",
                                    prompt: "请阅读并同意服务条款"
                                }]
                            }
                        }
                    }).api({
                        url: "/action/user/quick_create",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(e) {
                            $(this).message("hideAll");
                            var t = e.data;
                            return e.data.pwd = CryptoJS.SHA1(t.pwd).toString(),
                                e
                        },
                        onSuccess: function(e, t, o) {
                            var r = e;
                            if (r.success) return n._redirectRegisterSuccessPage(),
                                !1;
                            switch (n._mobileRegisterCaptcha.refresh(), r.msg) {
                                case "phone_exist":
                                    $(this).form("add prompt", "phone", "该号码已存在");
                                    break;
                                case "phone_number_error":
                                    $(this).form("add prompt", "phone", "请输入正确的手机号码");
                                    break;
                                case "phone_v_code_empty":
                                    $(this).form("add prompt", "phone_v_code", "请输入短信验证码");
                                    break;
                                case "phone_v_code_error":
                                    $(this).form("add prompt", "phone_v_code", "请输入正确的短信验证码"),
                                        $(this).form("set value", "phone_v_code", "");
                                    break;
                                case "验证码错误":
                                    $(this).form("add prompt", "verifyCode", "请输入正确的图片验证码"),
                                        $(this).find("input[name=verifyCode]").focus();
                                    break;
                                default:
                                    $(this).message({
                                        type:
                                            "negative",
                                        content: r.msg
                                    })
                            }
                        },
                        onFailure: function(e, t) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    })
            },
            initSendPhoneCodeBtn: function() {
                var e = this;
                e._sendPhoneCodeBtn.on("click",
                    function() {
                        e._mobileRegisterForm.form("validate field", "phone") && e._mobileRegisterForm.form("validate field", "verifyCode") && (e._sendPhoneCodeBtn.addClass("loading"), setTimeout(function() {
                                e._phoneCodeCountDown(),
                                    e._sendPhoneCodeBtn.removeClass("loading")
                            },
                            1e3))
                    })
            },
            initPhoneCodeLocalStorage: function() {
                var o = this;
                $(function() {
                    var e, t = 0;
                    window.localStorage && (t = localStorage.getItem("register_phone_code")) && (0 < (e = t - parseInt((new Date).getTime() / 1e3)) ? o._phoneCodeCountDown(e) : localStorage.removeItem("register_phone_code"))
                })
            },
            register: function() {
                this.initRegisterForm(),
                    this.initSendPhoneCodeBtn(),
                    this.initPhoneCodeLocalStorage()
            }
        },
            e
    });
OSCDefine("web-home-reset-pwd",
    function() {
        var e = function() {
            var e = this;
            e._resetPwdPanelWrapper = $("#resetPwdPanelWrapper"),
                e._mobileResetPwdForm = $("#mobileResetPwdForm"),
                e._emailResetPwdForm = $("#emailResetPwdForm"),
                e._sendPhoneCodeBtn = e._resetPwdPanelWrapper.find(".send-phone-code"),
                e._mobileResetPwdCaptcha = new OSCCaptcha({
                    imgSelector: "#mobileResetPwdForm .captcha img",
                    refreshSelector: "#mobileResetPwdForm .captcha",
                    inputSelector: "#mobileResetPwdForm input[name=verifyCode]",
                    captchaUrl: "https://www.oschina.net/action/user/captcha"
                }),
                e._emailResetPwdCaptcha = new OSCCaptcha({
                    imgSelector: "#emailResetPwdForm .captcha img",
                    refreshSelector: "#emailResetPwdForm .captcha",
                    inputSelector: "#emailResetPwdForm input[name=verifyCode]",
                    captchaUrl: "https://www.oschina.net/action/user/captcha"
                })
        };
        return e.prototype = {
            constructor: e,
            _phoneCodeCountDown: function(e) {
                var t, o = this,
                    i = e || 60;
                o._sendPhoneCodeBtn.addClass("disabled"),
                    o._sendPhoneCodeBtn.text(i + "s 后重新发送"),
                window.localStorage && localStorage.setItem("reset_pwd_phone_code", parseInt((new Date).getTime() / 1e3) + i),
                    t = o.setInterval(function() {--i < 1 ? (clearInterval(t), o._sendPhoneCodeBtn.removeClass("disabled"), o._sendPhoneCodeBtn.text("获取验证码")) : (o._sendPhoneCodeBtn.text(i + "s 后重新发送"), window.localStorage && localStorage.setItem("reset_pwd_phone_code", parseInt((new Date).getTime() / 1e3) + i))
                        },
                        1e3)
            },
            initResetPwdPanelTab: function() {
                var t = this;
                t._resetPwdPanelWrapper.find(".reset-pwd-tab .item").tab({
                    onLoad: function(e) {
                        switch (e) {
                            case "mobile":
                                t._mobileResetPwdForm.form("reset"),
                                    t._mobileResetPwdCaptcha.refresh();
                                break;
                            case "email":
                                t._emailResetPwdForm.form("reset"),
                                    t._emailResetPwdCaptcha.refresh()
                        }
                    }
                })
            },
            initMobileResetPwdForm: function() {
                var n = this;
                n._mobileResetPwdForm.form({
                    inline: !0,
                    fields: {
                        phone: {
                            identifier: "phone",
                            rules: [{
                                type: "empty",
                                prompt: "请输入手机号码"
                            },
                                {
                                    type: "regExp",
                                    value: /^1([0-9]{10})$/,
                                    prompt: "请输入正确的手机号码"
                                }]
                        },
                        verifyCode: {
                            identifier: "verifyCode",
                            rules: [{
                                type: "empty",
                                prompt: "请输入图片验证码"
                            }]
                        },
                        code: {
                            identifier: "code",
                            rules: [{
                                type: "empty",
                                prompt: "请输入短信验证码"
                            }]
                        }
                    }
                }).api({
                    url: "/action/user/resetPwdByPhoneStepOne",
                    method: "post",
                    serializeForm: !0,
                    beforeSend: function(e) {
                        return $(this).message("hideAll"),
                            e
                    },
                    onSuccess: function(e, t, o) {
                        var i = e;
                        if (i.result) location.href = "reset-pwd-by-phone2";
                        else if (i.msg) switch (n._mobileResetPwdCaptcha.refresh(), i.msg) {
                            case "手机验证码错误":
                                $(this).form("add prompt", "code", "请输入正确的短信验证码"),
                                    $(this).form("set value", "code", "");
                                break;
                            case "验证码错误":
                                $(this).form("add prompt", "verifyCode", "请输入正确的图片验证码"),
                                    $(this).find("input[name=verifyCode]").focus();
                                break;
                            default:
                                $(this).message({
                                    type:
                                        "negative",
                                    content: i.msg
                                })
                        }
                    },
                    onFailure: function(e, t) {
                        n._mobileResetPwdForm.message({
                            type: "negative",
                            content: "网络错误，请稍后再试"
                        })
                    }
                })
            },
            initEmailResetPwdForm: function() {
                var n = this;
                n._emailResetPwdForm.form({
                    inline: !0,
                    fields: {
                        email: {
                            identifier: "email",
                            rules: [{
                                type: "empty",
                                prompt: "请输入邮箱地址"
                            },
                                {
                                    type: "email",
                                    prompt: "请输入正确的邮箱地址"
                                }]
                        },
                        verifyCode: {
                            identifier: "verifyCode",
                            rules: [{
                                type: "empty",
                                prompt: "请输入图片验证码"
                            }]
                        }
                    }
                }).api({
                    url: "/action/user/pwd_reset_request",
                    method: "post",
                    serializeForm: !0,
                    beforeSend: function(e) {
                        return $(this).message("hideAll"),
                            e
                    },
                    onSuccess: function(e, t, o) {
                        var i = e;
                        if (i.success) return $(this).message({
                            type: "positive",
                            content: i.msg
                        }),
                            !1;
                        switch (n._emailResetPwdCaptcha.refresh(), i.msg) {
                            case "验证码错误":
                                $(this).form("add prompt", "verifyCode", "请输入正确的图片验证码"),
                                    $(this).find("input[name=verifyCode]").focus();
                                break;
                            default:
                                $(this).message({
                                    type:
                                        "negative",
                                    content: i.msg
                                })
                        }
                    },
                    onFailure: function(e, t) {
                        $(this).message({
                            type: "negative",
                            content: "网络错误，请稍后再试"
                        })
                    }
                })
            },
            initSendPhoneCodeBtn: function() {
                var e = this;
                e._sendPhoneCodeBtn.on("click",
                    function() {
                        e._mobileResetPwdForm.form("validate field", "phone") && e._mobileResetPwdForm.form("validate field", "verifyCode") && (e._sendPhoneCodeBtn.addClass("loading"), setTimeout(function() {
                                e._phoneCodeCountDown(),
                                    e._sendPhoneCodeBtn.removeClass("loading")
                            },
                            1e3))
                    })
            },
            initPhoneCodeLocalStorage: function() {
                var o = this;
                $(function() {
                    var e, t = 0;
                    window.localStorage && (t = localStorage.getItem("reset_pwd_phone_code")) && (0 < (e = t - parseInt((new Date).getTime() / 1e3)) ? o._phoneCodeCountDown(e) : localStorage.removeItem("reset_pwd_phone_code"))
                })
            },
            register: function() {
                this.initResetPwdPanelTab(),
                    this.initMobileResetPwdForm(),
                    this.initEmailResetPwdForm(),
                    this.initSendPhoneCodeBtn(),
                    this.initPhoneCodeLocalStorage()
            }
        },
            e
    });
OSCDefine("web-home-reset-pwd2",
    function() {
        var e = function() {
            this._resetPwdForm = $("#resetPwdForm"),
                this._resetPWdCaptcha = new OSCCaptcha({
                    imgSelector: "#resetPwdForm .captcha img",
                    refreshSelector: "#resetPwdForm .captcha",
                    inputSelector: "#resetPwdForm input[name=verifyCode]",
                    captchaUrl: "https://www.oschina.net/action/user/captcha"
                })
        };
        return e.prototype = {
            constructor: e,
            initResetPwdForm: function() {
                $.fn.form.settings.rules.password = function(e) {
                    return ! (!e.match(/[0-9]/) || !e.match(/[a-zA-Z]/) && !/\W/.test(e))
                },
                    self._resetPwdForm.form({
                        inline: !0,
                        fields: {
                            pwd: {
                                identifier: "pwd",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入新的登录密码"
                                },
                                    {
                                        type: "minLength[8]",
                                        prompt: "密码长度至少 {ruleValue} 位"
                                    },
                                    {
                                        type: "maxLength[20]",
                                        prompt: "密码长度不能超过 {ruleValue} 位"
                                    },
                                    {
                                        type: "password",
                                        prompt: "密码必须由字母或特殊字符和数字组成"
                                    }]
                            },
                            pwd2: {
                                identifier: "pwd2",
                                rules: [{
                                    type: "empty",
                                    prompt: "请再次输入新的登录密码"
                                },
                                    {
                                        type: "match[pwd]",
                                        prompt: "两次密码输入不一致"
                                    }]
                            },
                            verifyCode: {
                                identifier: "verifyCode",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入验证码"
                                }]
                            }
                        }
                    }).api({
                        url: "/user/reset_pwd",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(e) {
                            return $(this).message("hideAll"),
                                e
                        },
                        onSuccess: function(e, t, r) {
                            var i = e;
                            if (0 === i.length) return $(this).message({
                                type: "positive",
                                content: "重置成功"
                            }),
                                setTimeout(function() {
                                        location.href = "login"
                                    },
                                    2e3),
                                !1;
                            switch (_resetPWdCaptcha.refresh(), i) {
                                case "验证码错误":
                                    $(this).form("add prompt", "verifyCode", "请输入正确的图片验证码"),
                                        $(this).find("input[name=verifyCode]").focus();
                                    break;
                                default:
                                    $(this).message({
                                        type:
                                            "negative",
                                        content: i
                                    })
                            }
                        },
                        onFailure: function(e, t) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    })
            },
            register: function() {
                this.initResetPwdForm()
            }
        },
            e
    });
OSCDefine("web-home-reset-pwd-by-phone2",
    function() {
        var e = function() {
            this._resetPwdForm = $("#resetPwdForm"),
                this._resetPWdCaptcha = new OSCCaptcha({
                    imgSelector: "#resetPwdForm .captcha img",
                    refreshSelector: "#resetPwdForm .captcha",
                    inputSelector: "#resetPwdForm input[name=verifyCode]",
                    captchaUrl: "https://www.oschina.net/action/user/captcha"
                })
        };
        return e.prototype = {
            constructor: e,
            initResetPwdForm: function() {
                $.fn.form.settings.rules.password = function(e) {
                    return ! (!e.match(/[0-9]/) || !e.match(/[a-zA-Z]/) && !/\W/.test(e))
                },
                    this._resetPwdForm.form({
                        inline: !0,
                        fields: {
                            pwd: {
                                identifier: "pwd",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入新的登录密码"
                                },
                                    {
                                        type: "minLength[8]",
                                        prompt: "密码长度至少 {ruleValue} 位"
                                    },
                                    {
                                        type: "maxLength[20]",
                                        prompt: "密码长度不能超过 {ruleValue} 位"
                                    },
                                    {
                                        type: "password",
                                        prompt: "密码必须由字母或特殊字符和数字组成"
                                    }]
                            },
                            repeatPwd: {
                                identifier: "repeatPwd",
                                rules: [{
                                    type: "empty",
                                    prompt: "请再次输入新的登录密码"
                                },
                                    {
                                        type: "match[pwd]",
                                        prompt: "两次密码输入不一致"
                                    }]
                            },
                            verifyCode: {
                                identifier: "verifyCode",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入验证码"
                                }]
                            }
                        }
                    }).api({
                        url: "/user/resetPwdByPhoneStepTwo",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(e) {
                            return $(this).message("hideAll"),
                                e
                        },
                        onSuccess: function(e, t, r) {
                            var i = e;
                            if (i.result) return $(this).message({
                                type: "positive",
                                content: "重置成功"
                            }),
                                setTimeout(function() {
                                        location.href = "login"
                                    },
                                    2e3),
                                !1;
                            switch (_resetPWdCaptcha.refresh(), i.msg) {
                                case "验证码错误":
                                    $(this).form("add prompt", "verifyCode", "请输入正确的图片验证码"),
                                        $(this).find("input[name=verifyCode]").focus();
                                    break;
                                default:
                                    $(this).message({
                                        type:
                                            "negative",
                                        content: i.msg
                                    })
                            }
                        },
                        onFailure: function(e, t) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    })
            },
            register: function() {
                this.initResetPwdForm()
            }
        },
            e
    });
OSCPlugin("project-common",
    function() {
        var t = function() {
            var t = this;
            this._projectSidebar = $(".project-sidebar"),
                this._projectListContainer = $(".project-list-container"),
                this._projectListHeader = this._projectListContainer.children(".header-wrap.ui.sticky"),
                this._projectListHeaderSticky = {
                    init: function() {
                        if (t._projectListHeader.length <= 0) return ! 1;
                        768 <= window.innerWidth ? t._projectListHeader.sticky({
                            context: ".project-list-container",
                            offset: 45
                        }) : t._projectListHeader.sticky("destroy")
                    },
                    refresh: function() {
                        if (t._projectListHeader.length <= 0) return ! 1;
                        768 <= window.innerWidth && t._projectListHeader.sticky("refresh")
                    }
                },
                this.register()
        };
        return t.prototype = {
            constructor: t,
            initSidebarSectionTabs: function() {
                this._projectSidebar.on("click", ".section .tabs .tab[data-tab]",
                    function(t) {
                        var i = $(this),
                            e = i.data("tab"),
                            r = i.parents(".section:eq(0)"),
                            n = r.find('.tab-body[data-tab="' + e + '"]');
                        n && 0 < n.length && (r.find(".tabs .tab").removeClass("active"), i.addClass("active"), r.find(".tab-body").removeClass("active"), n.addClass("active"))
                    })
            },
            initSidebarNumPopup: function() {
                768 <= window.innerWidth && this._projectSidebar.find(".popup-num").popup({
                    hoverable: !0
                })
            },
            initProjectListHeaderSticky: function() {
                var t = this;
                t._projectListHeader = this._projectListContainer.children(".header-wrap.ui.sticky"),
                    t._projectListHeaderSticky.init(),
                    $(window).resize(t._projectListHeaderSticky.init)
            },
            refreshProjectListHeaderSticky: function() {
                this._projectListHeaderSticky.refresh()
            },
            register: function() {
                this.initSidebarSectionTabs(),
                    this.initSidebarNumPopup()
            }
        },
            t
    });
OSCDefine("web-project-index", ["project-common"],
    function(o) {
        var t = function() {
            this._projectEl = $(".web-project"),
                this._projectListContainerWrap = this._projectEl.find(".project-list-container-wrap");
            var t = this;
            this._articleInfiniteScroll = {
                projectList: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#projectList",
                    itemListSelector: ".projects-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.project-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow(),
                            o.refreshProjectListHeaderSticky()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initCategoryMenu: function() {
                $("#projectCategoryMenu .dropdown").dropdown({
                    on: "hover"
                })
            },
            initArticleInfiniteScroll: function() {
                var t = this;
                t._articleInfiniteScroll.projectList && (t._articleInfiniteScroll.projectList.destroy(), t._articleInfiniteScroll.projectList.init())
            },
            initPJAX: function() {
                var e = this,
                    i = $(".project-list-container-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".project-list-container-wrap .header-wrap .filter-bar .dropdown .item, .project-list-container-wrap .header-wrap .sort-bar .sort-list .sort-item", ".project-list-container", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            i.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(t) {
                            $(t.relatedTarget);
                            i.removeClass("active"),
                                e.initArticleInfiniteScroll(),
                                e.optimizeImgShow(),
                                e.initFilterToolBar(),
                                o.initProjectListHeaderSticky(),
                            e._projectListContainerWrap.offset().top - $(window).scrollTop() < 62 && e.scrollToListHeader()
                        })
            },
            initFilterToolBar: function() {
                this._projectListContainerWrap.find(".filter-bar .dropdown").dropdown();
                var e = this._projectListContainerWrap.find(".filter-bar .only-recommend.checkbox");
                e.checkbox({
                    onChange: function() {
                        var t = e.data("url");
                        $.pjax({
                            url: t,
                            container: ".project-list-container",
                            scrollTo: !1
                        })
                    }
                })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(90, 90)
                })
            },
            scrollToListHeader: function() {
                var t = this,
                    e = t._projectListContainerWrap.offset().top;
                0 < e - 97 && (e -= 97),
                    $("html, body").stop(!0).animate({
                            scrollTop: e
                        },
                        500, "swing")
            },
            register: function() {
                this.initCategoryMenu(),
                    this.initArticleInfiniteScroll(),
                    this.initPJAX(),
                    this.initFilterToolBar(),
                    o.initProjectListHeaderSticky()
            }
        },
            t
    });
OSCDefine("web-project-list", ["project-common"],
    function(o) {
        var t = function() {
            this._projectEl = $(".web-project-list"),
                this._projectListContainerWrap = this._projectEl.find(".project-list-container-wrap");
            var t = this;
            this._articleInfiniteScroll = {
                projectList: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#projectList",
                    itemListSelector: ".projects-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.project-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow(),
                            o.refreshProjectListHeaderSticky()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t = this;
                t._articleInfiniteScroll.projectList && (t._articleInfiniteScroll.projectList.destroy(), t._articleInfiniteScroll.projectList.init())
            },
            initPJAX: function() {
                var i = this,
                    e = $(".project-list-container-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".project-list-container-wrap .header-wrap .filter-bar .dropdown .item, .project-list-container-wrap .header-wrap .sort-bar .sort-list .sort-item", ".project-list-container", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            e.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(t) {
                            $(t.relatedTarget);
                            e.removeClass("active"),
                                i.initArticleInfiniteScroll(),
                                i.optimizeImgShow(),
                                i.initFilterToolBar(),
                                o.initProjectListHeaderSticky(),
                            i._projectListContainerWrap.offset().top - $(window).scrollTop() < 62 && i.scrollToListHeader()
                        })
            },
            initFilterToolBar: function() {
                this._projectListContainerWrap.find(".filter-bar .dropdown").dropdown();
                var i = this._projectListContainerWrap.find(".filter-bar .only-recommend.checkbox");
                i.checkbox({
                    onChange: function() {
                        var t = i.data("url");
                        $.pjax({
                            url: t,
                            container: ".project-list-container",
                            scrollTo: !1
                        })
                    }
                })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(90, 90)
                })
            },
            scrollToListHeader: function() {
                var t = this,
                    i = t._projectListContainerWrap.offset().top;
                0 < i - 97 && (i -= 97),
                    $("html, body").stop(!0).animate({
                            scrollTop: i
                        },
                        500, "swing")
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.initPJAX(),
                    this.initFilterToolBar(),
                    o.initProjectListHeaderSticky()
            }
        },
            t
    });
OSCDefine("web-project-zh", ["project-common"],
    function(o) {
        var t = function() {
            this._projectEl = $(".web-project-zh"),
                this._projectListContainerWrap = this._projectEl.find(".project-list-container-wrap");
            var t = this;
            this._articleInfiniteScroll = {
                projectList: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#projectList",
                    itemListSelector: ".projects-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.project-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow(),
                            o.refreshProjectListHeaderSticky()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t = this;
                t._articleInfiniteScroll.projectList && (t._articleInfiniteScroll.projectList.destroy(), t._articleInfiniteScroll.projectList.init())
            },
            initPJAX: function() {
                var i = this,
                    e = $(".project-list-container-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".project-list-container-wrap .header-wrap .filter-bar .dropdown .item, .project-list-container-wrap .header-wrap .sort-bar .sort-list .sort-item", ".project-list-container", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            e.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(t) {
                            $(t.relatedTarget);
                            e.removeClass("active"),
                                i.initArticleInfiniteScroll(),
                                i.optimizeImgShow(),
                                i.initFilterToolBar(),
                                o.initProjectListHeaderSticky(),
                            i._projectListContainerWrap.offset().top - $(window).scrollTop() < 62 && i.scrollToListHeader()
                        })
            },
            initFilterToolBar: function() {
                this._projectListContainerWrap.find(".filter-bar .dropdown").dropdown();
                var i = this._projectListContainerWrap.find(".filter-bar .only-recommend.checkbox");
                i.checkbox({
                    onChange: function() {
                        var t = i.data("url");
                        $.pjax({
                            url: t,
                            container: ".project-list-container",
                            scrollTo: !1
                        })
                    }
                })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(90, 90)
                })
            },
            scrollToListHeader: function() {
                var t = this,
                    i = t._projectListContainerWrap.offset().top;
                0 < i - 97 && (i -= 97),
                    $("html, body").stop(!0).animate({
                            scrollTop: i
                        },
                        500, "swing")
            },
            initHotProjectsTab: function() {
                var r = this._projectEl.find(".nation-hot-projects-wrap");
                r.on("click", ".panel-header .tabs .tab[data-tab]",
                    function(t) {
                        var i = $(this),
                            e = i.data("tab"),
                            o = r.find('.tab-body[data-tab="' + e + '"]');
                        o && 0 < o.length && (r.find(".tabs .tab").removeClass("active"), i.addClass("active"), r.find(".tab-body").removeClass("active"), o.addClass("active"))
                    })
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.initPJAX(),
                    this.initFilterToolBar(),
                    this.initHotProjectsTab(),
                    o.initProjectListHeaderSticky()
            }
        },
            t
    });
$(function() {
    var t = 0;
    $(".github-widget").each(function() {
        var r, s, b;
        0 == t && $("head").append('<style type="text/css">.github-box{font-family:helvetica,arial,sans-serif;font-size:13px;line-height:18px;background:#fafafa;border:1px solid #ddd;color:#666;border-radius:3px}.github-box a{color:#4183c4;border:0;text-decoration:none}.github-box .github-box-title{position:relative;border-bottom:1px solid #ddd;border-radius:3px 3px 0 0;background:#fcfcfc;background:-moz-linear-gradient(#fcfcfc,#ebebeb);background:-webkit-linear-gradient(#fcfcfc,#ebebeb);}.github-box .github-box-title h3{font-family:helvetica,arial,sans-serif;font-weight:normal;font-size:16px;color:gray;margin:0;padding:10px 10px 10px 80px;background:url(http://www.oschina.net/img/github_logo.gif) bottom left no-repeat}.github-box .github-box-title h3 .repo{font-weight:bold}.github-box .github-box-title .github-stats{position:absolute;top:9px;right:10px;background:white;border:1px solid #ddd;border-radius:3px;font-size:12px;font-weight:bold;line-height:22px;height:22px;padding-left:2px;}.github-box .github-box-title .github-stats a{display:inline-block;height:20px;color:#666;padding:0 6px 0 0;}.github-box .github-box-title .github-stats span{display:inline-block;height:20px;padding:0 4px 0 6px;}.github-box .github-box-title .github-stats a + span{border-left:1px solid #ddd;}.github-box .github-box-content{padding:10px;font-weight:400}.github-box .github-box-content p{margin:0}.github-box .github-box-content .link{font-weight:bold}.github-box .github-box-download{position:relative;border-top:1px solid #ddd;background:white;border-radius:0 0 3px 3px;padding:6px 10px}.github-box .github-box-download .updated{margin:0;font-size:12px;color:#666;line-height:24px;font-weight:400}.github-box .github-box-download .updated strong{font-weight:bold;color:#000}.github-box .github-box-download .download{position:absolute;display:block;top:6px;right:10px;height:24px;line-height:24px;font-size:12px;color:#666;font-weight:bold;text-shadow:0 1px 0 rgba(255,255,255,0.9);padding:0 10px;border:1px solid #ddd;border-bottom-color:#bbb;border-radius:3px;background:#f5f5f5;background:-moz-linear-gradient(#f5f5f5,#e5e5e5);background:-webkit-linear-gradient(#f5f5f5,#e5e5e5);}.github-box .github-box-download .download:hover{color:#527894;border-color:#cfe3ed;border-bottom-color:#9fc7db;background:#f1f7fa;background:-moz-linear-gradient(#f1f7fa,#dbeaf1);background:-webkit-linear-gradient(#f1f7fa,#dbeaf1);</style>'),
            t++,
            r = $(this),
            s = r.data("repo"),
            b = function(t) {
                return t && 0 != t.length ? t.replace(/</g, "&lt;").replace(/>/g, "&gt;") : ""
            },
            $.ajax({
                url: "https://api.github.com/repos/" + s,
                dataType: "jsonp",
                success: function(t) {
                    var i, e, a, o;
                    if (!t || !t.meta || 200 !== t.meta.status) return ! 1;
                    e = (i = t.data).pushed_at.substr(0, 10),
                        a = /((http|https):\/\/)*[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,
                        o = i.homepage.match(a),
                        i.homepage && o ? o[0] && !o[1] && (i.homepage = "http://" + o[0]) : i.homepage = "",
                        $(' \t\t\t\t\t<div class="github-box repo">  \t\t\t\t\t    <div class="github-box-title"> \t\t\t\t\t        <h3> \t\t\t\t\t            <a class="owner" href="' + i.owner.url.replace("api.", "").replace("users/", "") + '" target="_blank">' + i.owner.login + '</a> \t\t\t\t\t            /  \t\t\t\t\t            <a class="repo" href="' + i.url.replace("api.", "").replace("repos/", "") + '" target="_blank">' + i.name + '</a> \t\t\t\t\t        </h3> \t\t\t\t\t        <div class="github-stats"><span>Watch</span> <a class="watchers" title="Watchers" href="' + i.url.replace("api.", "").replace("repos/", "") + '/watchers" target="_blank">' + i.subscribers_count + '</a><span>Star</span> <a class="stars" title="Stars" href="' + i.url.replace("api.", "").replace("repos/", "") + '/stargazers" target="_blank">' + i.stargazers_count + '</a><span>Fork</span> <a class="forks" title="Forks" href="' + i.url.replace("api.", "").replace("repos/", "") + '/network" target="_blank">' + i.forks + '</a></div> \t\t\t\t\t    </div> \t\t\t\t\t    <div class="github-box-content"> \t\t\t\t\t        <p class="description">' + b(i.description) + ' &mdash; <a href="' + i.url.replace("api.", "").replace("repos/", "") + '#readme"  target="_blank">More...</a></p> \t\t\t\t\t        <p class="link"><a href="' + i.homepage + '">' + b(i.homepage) + '</a></p> \t\t\t\t\t        <table class="issues" width="100%"></table> \t\t\t\t\t    </div> \t\t\t\t\t    <div class="github-box-download"> \t\t\t\t\t        <p class="updated"><a href="' + i.url.replace("api.", "").replace("repos/", "") + "/tree/" + i.default_branch + '" target="_blank"><strong>' + i.default_branch + "</strong> 分支</a> ：" + e + '</p> \t\t\t\t\t        <a class="download" href="' + i.url.replace("api.", "").replace("repos/", "") + '/zipball/master">下载zip</a> \t\t\t\t\t    </div> \t\t\t\t\t</div> \t\t\t\t').appendTo(r),
                    i.has_issues && 0 < i.open_issues && $.ajax({
                        url: "https://api.github.com/repos/" + s + "/issues?state=open&per_page=5&page=1&sort=updated",
                        dataType: "jsonp",
                        success: function(t) {
                            var e, a, o = t.data,
                                r = $(".github-box-content table");
                            for (r.append('<tr><td colspan="2"><a href="' + i.html_url + '/issues" target="_blank"><strong>Issues</strong></a></td></tr>'), e = 0; e < o.length; e++) a = o[e].updated_at.substr(0, 10),
                                r.append('<tr> \t\t\t\t\t\t\t\t\t\t<td class="number" width="30">#' + o[e].number + '</td> \t\t\t\t\t\t\t\t\t\t<td class="info"><a href="' + o[e].html_url + '" target="_blank">' + b(o[e].title) + '</a></td> \t\t\t\t\t\t\t\t\t\t<td class="author" width="200" align="right">by <a href="' + o[e].user.url.replace("api.", "").replace("users/", "") + '" target="_blank">' + o[e].user.login + '</a>&nbsp;&nbsp;<em style="font-size: 8pt;font-family: Candara,arial;color: #666;-webkit-text-size-adjust: none;">' + a + "</em></td></tr> \t\t\t\t\t\t\t\t")
                        }
                    })
                }
            })
    })
});
OSCPlugin("project-detail-comments",
    function() {
        return function() {
            var t = {
                    config: {
                        objId: 0,
                        fetchCommentsUrl: "",
                        publishCommentUrl: "",
                        replyCommentUrl: "",
                        deleteCommentUrl: ""
                    },
                    init: function(e) {
                        this._commentsContainer = $("#commentsContainer"),
                            this._commentsWrap = this._commentsContainer.find(".comments-wrap"),
                            this.config = $.isPlainObject(e) ? $.extend(!0, {},
                                this.config, e) : $.extend({},
                                this.config)
                    },
                    loadComments: function() {
                        var t = this;
                        $.get(t.config.fetchCommentsUrl,
                            function(e) {
                                t._commentsWrap.html(e),
                                    t.parseEmoticon()
                            })
                    },
                    initCommentForm: function() {
                        var a = this;
                        a.commentFormVue = new Vue({
                            el: "#commentForm",
                            data: function() {
                                return {
                                    commentMaxLength: 1e3,
                                    commentContent: "",
                                    commentPublishLoading: !1,
                                    tipMessage: {
                                        show: !1,
                                        content: "",
                                        className: ""
                                    },
                                    curEmojiType: "People",
                                    emojiList: [{
                                        type: "People",
                                        items: ["bowtie", "smile", "laughing", "blush", "smiley", "relaxed", "smirk", "heart_eyes", "kissing_heart", "kissing_closed_eyes", "flushed", "relieved", "satisfied", "grin", "wink", "stuck_out_tongue_winking_eye", "stuck_out_tongue_closed_eyes", "grinning", "kissing", "kissing_smiling_eyes", "stuck_out_tongue", "sleeping", "worried", "frowning", "anguished", "open_mouth", "grimacing", "confused", "hushed", "expressionless", "unamused", "sweat_smile", "sweat", "disappointed_relieved", "weary", "pensive", "disappointed", "confounded", "fearful", "cold_sweat", "persevere", "cry", "sob", "joy", "astonished", "scream", "neckbeard", "tired_face", "angry", "rage", "triumph", "sleepy", "yum", "mask", "sunglasses", "dizzy_face", "imp", "smiling_imp", "neutral_face", "no_mouth", "innocent", "alien", "yellow_heart", "blue_heart", "purple_heart", "heart", "green_heart", "broken_heart", "heartbeat", "heartpulse", "two_hearts", "revolving_hearts", "cupid", "sparkling_heart", "sparkles", "star", "star2", "dizzy", "boom", "collision", "anger", "exclamation", "question", "grey_exclamation", "grey_question", "zzz", "dash", "sweat_drops", "notes", "musical_note", "fire", "hankey", "poop", "shit", "+1", "thumbsup", "-1", "thumbsdown", "ok_hand", "punch", "facepunch", "fist", "v", "wave", "hand", "raised_hand", "open_hands", "point_up", "point_down", "point_left", "point_right", "raised_hands", "pray", "point_up_2", "clap", "muscle", "metal", "fu", "walking", "runner", "running", "couple", "family", "two_men_holding_hands", "two_women_holding_hands", "dancer", "dancers", "ok_woman", "no_good", "information_desk_person", "raising_hand", "bride_with_veil", "person_with_pouting_face", "person_frowning", "bow", "couplekiss", "couple_with_heart", "massage", "haircut", "nail_care", "boy", "girl", "woman", "man", "baby", "older_woman", "older_man", "person_with_blond_hair", "man_with_gua_pi_mao", "man_with_turban", "construction_worker", "cop", "angel", "princess", "smiley_cat", "smile_cat", "heart_eyes_cat", "kissing_cat", "smirk_cat", "scream_cat", "crying_cat_face", "joy_cat", "pouting_cat", "japanese_ogre", "japanese_goblin", "see_no_evil", "hear_no_evil", "speak_no_evil", "guardsman", "skull", "feet", "lips", "kiss", "droplet", "ear", "eyes", "nose", "tongue", "love_letter", "bust_in_silhouette", "busts_in_silhouette", "speech_balloon", "thought_balloon", "feelsgood", "finnadie", "goberserk", "godmode", "hurtrealbad", "rage1", "rage2", "rage3", "rage4", "suspect", "trollface"]
                                    },
                                        {
                                            type: "Nature",
                                            items: ["sunny", "umbrella", "cloud", "snowflake", "snowman", "zap", "cyclone", "foggy", "ocean", "cat", "dog", "mouse", "hamster", "rabbit", "wolf", "frog", "tiger", "koala", "bear", "pig", "pig_nose", "cow", "boar", "monkey_face", "monkey", "horse", "racehorse", "camel", "sheep", "elephant", "panda_face", "snake", "bird", "baby_chick", "hatched_chick", "hatching_chick", "chicken", "penguin", "turtle", "bug", "honeybee", "ant", "beetle", "snail", "octopus", "tropical_fish", "fish", "whale", "whale2", "dolphin", "cow2", "ram", "rat", "water_buffalo", "tiger2", "rabbit2", "dragon", "goat", "rooster", "dog2", "pig2", "mouse2", "ox", "dragon_face", "blowfish", "crocodile", "dromedary_camel", "leopard", "cat2", "poodle", "paw_prints", "bouquet", "cherry_blossom", "tulip", "four_leaf_clover", "rose", "sunflower", "hibiscus", "maple_leaf", "leaves", "fallen_leaf", "herb", "mushroom", "cactus", "palm_tree", "evergreen_tree", "deciduous_tree", "chestnut", "seedling", "blossom", "ear_of_rice", "shell", "globe_with_meridians", "sun_with_face", "full_moon_with_face", "new_moon_with_face", "new_moon", "waxing_crescent_moon", "first_quarter_moon", "waxing_gibbous_moon", "full_moon", "waning_gibbous_moon", "last_quarter_moon", "waning_crescent_moon", "last_quarter_moon_with_face", "first_quarter_moon_with_face", "moon", "earth_africa", "earth_americas", "earth_asia", "volcano", "milky_way", "partly_sunny", "octocat", "squirrel"]
                                        },
                                        {
                                            type: "Objects",
                                            items: ["bamboo", "gift_heart", "dolls", "school_satchel", "mortar_board", "flags", "fireworks", "sparkler", "wind_chime", "rice_scene", "jack_o_lantern", "ghost", "santa", "christmas_tree", "gift", "bell", "no_bell", "tanabata_tree", "tada", "confetti_ball", "balloon", "crystal_ball", "cd", "dvd", "floppy_disk", "camera", "video_camera", "movie_camera", "computer", "tv", "iphone", "phone", "telephone", "telephone_receiver", "pager", "fax", "minidisc", "vhs", "sound", "speaker", "mute", "loudspeaker", "mega", "hourglass", "hourglass_flowing_sand", "alarm_clock", "watch", "radio", "satellite", "loop", "mag", "mag_right", "unlock", "lock", "lock_with_ink_pen", "closed_lock_with_key", "key", "bulb", "flashlight", "high_brightness", "low_brightness", "electric_plug", "battery", "calling", "email", "mailbox", "postbox", "bath", "bathtub", "shower", "toilet", "wrench", "nut_and_bolt", "hammer", "seat", "moneybag", "yen", "dollar", "pound", "euro", "credit_card", "money_with_wings", "e-mail", "inbox_tray", "outbox_tray", "envelope", "incoming_envelope", "postal_horn", "mailbox_closed", "mailbox_with_mail", "mailbox_with_no_mail", "package", "door", "smoking", "bomb", "gun", "hocho", "pill", "syringe", "page_facing_up", "page_with_curl", "bookmark_tabs", "bar_chart", "chart_with_upwards_trend", "chart_with_downwards_trend", "scroll", "clipboard", "calendar", "date", "card_index", "file_folder", "open_file_folder", "scissors", "pushpin", "paperclip", "black_nib", "pencil2", "straight_ruler", "triangular_ruler", "closed_book", "green_book", "blue_book", "orange_book", "notebook", "notebook_with_decorative_cover", "ledger", "books", "bookmark", "name_badge", "microscope", "telescope", "newspaper", "football", "basketball", "soccer", "baseball", "tennis", "8ball", "rugby_football", "bowling", "golf", "mountain_bicyclist", "bicyclist", "horse_racing", "snowboarder", "swimmer", "surfer", "ski", "spades", "hearts", "clubs", "diamonds", "gem", "ring", "trophy", "musical_score", "musical_keyboard", "violin", "space_invader", "video_game", "black_joker", "flower_playing_cards", "game_die", "dart", "mahjong", "clapper", "memo", "pencil", "book", "art", "microphone", "headphones", "trumpet", "saxophone", "guitar", "shoe", "sandal", "high_heel", "lipstick", "boot", "shirt", "tshirt", "necktie", "womans_clothes", "dress", "running_shirt_with_sash", "jeans", "kimono", "bikini", "ribbon", "tophat", "crown", "womans_hat", "mans_shoe", "closed_umbrella", "briefcase", "handbag", "pouch", "purse", "eyeglasses", "fishing_pole_and_fish", "coffee", "tea", "sake", "baby_bottle", "beer", "beers", "cocktail", "tropical_drink", "wine_glass", "fork_and_knife", "pizza", "hamburger", "fries", "poultry_leg", "meat_on_bone", "spaghetti", "curry", "fried_shrimp", "bento", "sushi", "fish_cake", "rice_ball", "rice_cracker", "rice", "ramen", "stew", "oden", "dango", "egg", "bread", "doughnut", "custard", "icecream", "ice_cream", "shaved_ice", "birthday", "cake", "cookie", "chocolate_bar", "candy", "lollipop", "honey_pot", "apple", "green_apple", "tangerine", "lemon", "cherries", "grapes", "watermelon", "strawberry", "peach", "melon", "banana", "pear", "pineapple", "sweet_potato", "eggplant", "tomato", "corn"]
                                        },
                                        {
                                            type: "Places",
                                            items: ["house", "house_with_garden", "school", "office", "post_office", "hospital", "bank", "convenience_store", "love_hotel", "hotel", "wedding", "church", "department_store", "european_post_office", "city_sunrise", "city_sunset", "japanese_castle", "european_castle", "tent", "factory", "tokyo_tower", "japan", "mount_fuji", "sunrise_over_mountains", "sunrise", "stars", "statue_of_liberty", "bridge_at_night", "carousel_horse", "rainbow", "ferris_wheel", "fountain", "roller_coaster", "ship", "speedboat", "boat", "sailboat", "rowboat", "anchor", "rocket", "airplane", "helicopter", "steam_locomotive", "tram", "mountain_railway", "bike", "aerial_tramway", "suspension_railway", "mountain_cableway", "tractor", "blue_car", "oncoming_automobile", "car", "red_car", "taxi", "oncoming_taxi", "articulated_lorry", "bus", "oncoming_bus", "rotating_light", "police_car", "oncoming_police_car", "fire_engine", "ambulance", "minibus", "truck", "train", "station", "train2", "bullettrain_front", "bullettrain_side", "light_rail", "monorail", "railway_car", "trolleybus", "ticket", "fuelpump", "vertical_traffic_light", "traffic_light", "warning", "construction", "beginner", "atm", "slot_machine", "busstop", "barber", "hotsprings", "checkered_flag", "crossed_flags", "izakaya_lantern", "moyai", "circus_tent", "performing_arts", "round_pushpin", "triangular_flag_on_post", "jp", "kr", "cn", "us", "fr", "es", "it", "ru", "gb", "uk", "de"]
                                        },
                                        {
                                            type: "Symbols",
                                            items: ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "keycap_ten", "1234", "zero", "hash", "symbols", "arrow_backward", "arrow_down", "arrow_forward", "arrow_left", "capital_abcd", "abcd", "abc", "arrow_lower_left", "arrow_lower_right", "arrow_right", "arrow_up", "arrow_upper_left", "arrow_upper_right", "arrow_double_down", "arrow_double_up", "arrow_down_small", "arrow_heading_down", "arrow_heading_up", "leftwards_arrow_with_hook", "arrow_right_hook", "left_right_arrow", "arrow_up_down", "arrow_up_small", "arrows_clockwise", "arrows_counterclockwise", "rewind", "fast_forward", "information_source", "ok", "twisted_rightwards_arrows", "repeat", "repeat_one", "new", "top", "up", "cool", "free", "ng", "cinema", "koko", "signal_strength", "u5272", "u5408", "u55b6", "u6307", "u6708", "u6709", "u6e80", "u7121", "u7533", "u7a7a", "u7981", "sa", "restroom", "mens", "womens", "baby_symbol", "no_smoking", "parking", "wheelchair", "metro", "baggage_claim", "accept", "wc", "potable_water", "put_litter_in_its_place", "secret", "congratulations", "m", "passport_control", "left_luggage", "customs", "ideograph_advantage", "cl", "sos", "id", "no_entry_sign", "underage", "no_mobile_phones", "do_not_litter", "non-potable_water", "no_bicycles", "no_pedestrians", "children_crossing", "no_entry", "eight_spoked_asterisk", "sparkle", "eight_pointed_black_star", "heart_decoration", "vs", "vibration_mode", "mobile_phone_off", "chart", "currency_exchange", "aries", "taurus", "gemini", "cancer", "leo", "virgo", "libra", "scorpius", "sagittarius", "capricorn", "aquarius", "pisces", "ophiuchus", "six_pointed_star", "negative_squared_cross_mark", "a", "b", "ab", "o2", "diamond_shape_with_a_dot_inside", "recycle", "end", "back", "on", "soon", "clock1", "clock130", "clock10", "clock1030", "clock11", "clock1130", "clock12", "clock1230", "clock2", "clock230", "clock3", "clock330", "clock4", "clock430", "clock5", "clock530", "clock6", "clock630", "clock7", "clock730", "clock8", "clock830", "clock9", "clock930", "heavy_dollar_sign", "copyright", "registered", "tm", "x", "heavy_exclamation_mark", "bangbang", "interrobang", "o", "heavy_multiplication_x", "heavy_plus_sign", "heavy_minus_sign", "heavy_division_sign", "white_flower", "100", "heavy_check_mark", "ballot_box_with_check", "radio_button", "link", "curly_loop", "wavy_dash", "part_alternation_mark", "trident", "black_small_square", "white_small_square", "black_medium_small_square", "white_medium_small_square", "black_medium_square", "white_medium_square", "black_large_square", "white_large_square", "white_check_mark", "black_square_button", "white_square_button", "black_circle", "white_circle", "red_circle", "large_blue_circle", "large_blue_diamond", "large_orange_diamond", "small_blue_diamond", "small_orange_diamond", "small_red_triangle", "small_red_triangle_down", "shipit"]
                                        }]
                                }
                            },
                            computed: {
                                curEmojiItems: function() {
                                    for (var e = 0,
                                             t = this.emojiList.length; e < t; e++) if (this.emojiList[e].type === this.curEmojiType) return this.emojiList[e].items;
                                    return this.emojiList[0].items
                                },
                                commentContentIsEmpty: function() {
                                    return 0 === this.commentContent.length
                                },
                                commentCountText: function() {
                                    return this.commentContent.length + "/" + this.commentMaxLength
                                }
                            },
                            methods: {
                                insertEmoji: function(e) {
                                    this.clearMessage();
                                    var t = ":" + e + ":";
                                    this.insertContent(t),
                                        $(this.$refs.showEmojiBox).popup("hide")
                                },
                                insertProject: function() {
                                    var e, t, o;
                                    this.clearMessage(),
                                        e = "#此处输入软件#",
                                    this.insertContent(e) && (o = (t = selectRange.of(this.$refs.commentTextarea)).getCurPos(), t.setSelectText(o - (e.length - 1), o - 1))
                                },
                                publishComment: function() {
                                    var n, e; (n = this).tweetPublishLoading || (n.clearMessage(), n.commentContentIsEmpty ? n.showMessage("error", "内容不能为空", 2e3) : n.commentContent.length > n.commentMaxLength ? n.showMessage("error", "最多只能输入" + n.commentMaxLength + "个字符！", 2e3) : (n.commentPublishLoading = !0, e = {
                                        projectId: a.config.objId,
                                        comment: n.commentContent,
                                        user_code: page.g_user_code || ""
                                    },
                                        $.post(a.config.publishCommentUrl, e,
                                            function(e) {
                                                var t, o;
                                                1 === e.code ? (n.commentContent = "", a.loadComments(), t = $(".float-menu .comment-btn"), e.result && void 0 !== e.result.replyCount && (o = e.result.replyCount, $("[data-article-reply-count]").html(o), t.attr("title", "共有 " + o + " 条评论")), t.find(".icon").removeClass("outline"), $("html, body").stop().animate({
                                                        scrollTop: a._commentsWrap.offset().top - 80
                                                    },
                                                    500, "swing")) : n.showMessage("error", e.message || "发布失败", 2e3)
                                            }).fail(function() {
                                            n.showMessage("error", "网络错误，请稍后再试！", 2e3)
                                        }).always(function() {
                                            n.commentPublishLoading = !1
                                        })))
                                },
                                commentContentOnKeyDown: function(e) { (e.metaKey || e.ctrlKey) && 13 == e.keyCode && this.publishComment()
                                },
                                insertContent: function(e) {
                                    return ! this.commentPublishLoading && (this.commentContent.length >= this.commentMaxLength || this.commentContent.length + e.length > this.commentMaxLength ? void this.showMessage("error", "最多只能输入" + this.commentMaxLength + "个字符！", 2e3) : (selectRange.of(this.$refs.commentTextarea).insertAfterText(e), this.commentContent = this.$refs.commentTextarea.value, !0))
                                },
                                showMessage: function(e, t, o) {
                                    var n, a = this;
                                    a.tipMessage.className = "success" === e ? "positive": "negative",
                                        a.tipMessage.content = t,
                                        n = parseInt(o) || 0,
                                        a.tipMessage.show = !0,
                                    0 < n && setTimeout(function() {
                                            a.clearMessage()
                                        },
                                        n)
                                },
                                clearMessage: function() {
                                    var e = this;
                                    e.tipMessage.className = "",
                                        e.tipMessage.content = "",
                                        e.tipMessage.show = !1
                                }
                            }
                        }),
                            $("#commentForm").find(".comment-form .toolbox > .item[data-popup]").each(function(e, t) {
                                var o = $(t),
                                    n = $(o).parent(),
                                    a = n.find(".toolbox-popup." + o.attr("data-popup"));
                                o.popup({
                                    position: "bottom left",
                                    popup: a,
                                    on: "toolbox-picture" === o.attr("data-popup") ? "manual": "click",
                                    exclusive: !0
                                })
                            })
                    },
                    initCommentDeleteModal: function() {
                        var s = this,
                            o = $(".delete-comment.modal");
                        o.modal({
                            onDeny: function() {
                                var e = $(this).attr("data-comment-id"),
                                    i = s._commentsWrap.find("div.comment[data-comment-id=" + e + "]");
                                i.attr("data-comment-user-id"),
                                    $.post(s.config.deleteCommentUrl, {
                                            commentId: e,
                                            user_code: page.g_user_code || ""
                                        },
                                        function(e) {
                                            var t, o, n, a, r;
                                            1 === e.code ? ($("body").toast({
                                                type: "success",
                                                content: "删除成功"
                                            }), i.fadeOut(function() {
                                                i.remove()
                                            }), o = (t = s._commentsWrap.find("> .header span")).text(), n = $("[data-article-reply-count]"), a = $(".float-menu .comment-btn"), o ? (r = parseInt(o) - (1 + i.find("div.comment").length), t.text(r), n.html(r), a.attr("title", "共有 " + r + " 条评论")) : (t.text(0), n.html(0), a.attr("title", "共有 0 条评论")), e.result && void 0 !== e.result.selfCommentCount && e.result.selfCommentCount <= 0 && a.find(".icon").addClass("outline")) : $("body").toast({
                                                type: "error",
                                                content: e.message || "删除失败"
                                            })
                                        })
                            }
                        }),
                            s._commentsWrap.on("click", ".actions a.remove",
                                function(e) {
                                    var t;
                                    e.stopPropagation(),
                                        t = $(e.target).parents(".comment:eq(0)").attr("data-comment-id"),
                                        o.attr("data-comment-id", t),
                                        o.modal("show")
                                })
                    },
                    initReplyCommentModal: function() {
                        var r = this,
                            i = $(".reply-comment.modal"),
                            s = $("#replyCommentForm");
                        i.modal({
                            onShow: function() {
                                var e, t;
                                s.form("reset"),
                                    s.message("hideAll"),
                                    e = $(this).attr("data-comment-user-id") || -1,
                                    t = $(this).attr("data-comment-id") || -1,
                                    s.find("input[name=reply_id]").val(e + "_" + t)
                            },
                            onApprove: function() {
                                return s.message("hideAll"),
                                    s.form("submit"),
                                    !1
                            }
                        }),
                            s.form({
                                inline: !0,
                                fields: {
                                    content: {
                                        rules: [{
                                            type: "empty",
                                            prompt: "请输入评论内容"
                                        },
                                            {
                                                type: "maxLength[1000]",
                                                prompt: "内容长度不能超过 {ruleValue} 个字"
                                            }]
                                    }
                                }
                            }).api({
                                url: r.config.replyCommentUrl,
                                method: "post",
                                serializeForm: !0,
                                beforeSend: function(e) {
                                    $(this).message("hideAll");
                                    var t = e.data;
                                    return e.data = {
                                        article: r.config.objId,
                                        reply_id: t.reply_id,
                                        content: t.content
                                    },
                                        e
                                },
                                onSuccess: function(e, t, o) {
                                    var n, a;
                                    1 === e.code ? ($(this).message({
                                        type: "positive",
                                        content: "评论回复成功"
                                    }), s.form("reset"), r.loadComments(), n = $(".float-menu .comment-btn"), e.result && void 0 !== e.result.replyCount && (a = e.result.replyCount, $("[data-article-reply-count]").html(a), n.attr("title", "共有 " + a + " 条评论")), n.find(".icon").removeClass("outline"), setTimeout(function() {
                                            i.modal("hide")
                                        },
                                        2e3)) : $(this).message({
                                        type: "negative",
                                        content: e.message || "回复失败"
                                    })
                                },
                                onFailure: function(e, t) {
                                    $(this).message({
                                        type: "negative",
                                        content: "网络错误，请稍后再试"
                                    })
                                }
                            }),
                            i.on("keydown",
                                function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && i.find(".positive.button").click()
                                }),
                            r._commentsWrap.on("click", ".actions a.reply",
                                function(e) {
                                    var t, o, n;
                                    if (e.stopPropagation(), !window.common.checkLogin()) return ! 1;
                                    o = (t = $(e.target).parents(".comment:eq(0)")).attr("data-comment-user-id"),
                                        n = t.attr("data-comment-id"),
                                        i.attr("data-comment-user-id", o),
                                        i.attr("data-comment-id", n),
                                        i.modal("show")
                                })
                    },
                    bindReplyBtn: function() {
                        var r = this;
                        r._commentsWrap.on("click", ".actions a.reply",
                            function(e) {
                                var n, a, t;
                                return e.stopPropagation(),
                                !!window.common.checkLogin() && ((n = $(e.target).parents(".comment:eq(0)")).attr("data-comment-user-id"), a = n.attr("data-comment-id"), 0 < n.find("[data-rely-comment-form]").length ? ((t = n.find("[data-rely-comment-form]").get(0)).vueInstance && t.vueInstance.focus(), !1) : ($("[data-rely-comment-form]").each(function(e, t) {
                                    var o = $(t);
                                    t.vueInstance && t.vueInstance.$destroy(),
                                        o.remove()
                                }), void(0 === $('[data-reply-comment-form][data-comment-id="' + a + '"]').length && !0 !== window.oscReplyCommentFormLoading && (window.oscReplyCommentFormLoading = !0, $.get("/widgets/comments_reply_form",
                                    function(e) {
                                        var t, o = document.createElement("div");
                                        o.innerHTML = e,
                                            $(o).find("[data-reply-comment-form]").attr("data-comment-id", a),
                                            n.children(".content").append(o),
                                            (t = new OSCCommentForm({
                                                commentFormSelector: "#replyCommentForm",
                                                commentsWrapEl: r._commentsWrap,
                                                toggleLoadComments: function() {
                                                    r.loadComments()
                                                },
                                                url: r.config.replyCommentUrl,
                                                params: {
                                                    projectId: r.config.objId,
                                                    user_code: page.g_user_code || "",
                                                    parentId: a
                                                },
                                                contentField: "comment"
                                            })).init(),
                                            t.focus()
                                    }).always(function() {
                                    window.oscReplyCommentFormLoading = !1
                                })))))
                            })
                    },
                    initCommentsListPJAX: function() {
                        var t = this,
                            o = $(".comments-loader");
                        $.pjax.defaults.timeout = 1e4,
                            $.pjax.defaults.maxCacheLength = 20,
                            $(document).pjax("#commentsContainer .comments-wrap .pagination a", "#commentsContainer .comments-wrap", {
                                scrollTo: !1
                            }),
                            $(document).on("pjax:send",
                                function(e) {
                                    $(e.target),
                                    "comments-wrap" === e.target.className && o.addClass("active")
                                }),
                            $(document).on("pjax:complete",
                                function(e) {
                                    $(e.target),
                                    "comments-wrap" === e.target.className && (t.parseEmoticon(), o.removeClass("active"), $("html, body").stop().animate({
                                            scrollTop: t._commentsWrap.offset().top - 60
                                        },
                                        500, "swing"))
                                })
                    },
                    parseEmoticon: function() {
                        $(function() {
                            $("[data-emoji-render]").emoticon()
                        })
                    }
                },
                e = new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js"],
                    function() {
                        var e = window.page;
                        t.init({
                            objId: e.objId,
                            fetchCommentsUrl: e.fetchCommentsUrl,
                            publishCommentUrl: e.publishCommentUrl,
                            replyCommentUrl: e.replyCommentUrl,
                            deleteCommentUrl: e.deleteCommentUrl
                        }),
                            t.initCommentForm(),
                            t.initCommentDeleteModal(),
                            t.bindReplyBtn(),
                            t.initCommentsListPJAX(),
                            t.parseEmoticon()
                    });
            e.loadFiles()
        }
    });
OSCDefine("web-project-detail", ["project-detail-comments"],
    function() {
        var t = function() {
            var t = this;
            this._projectDetailEl = $(".web-project-detail"),
                this._projectDetailContainer = this._projectDetailEl.find(".project-detail-container"),
                this._projectDetailContainerTab = this._projectDetailContainer.find(".project-detail-tab-wrap"),
                this._tabSticky = {
                    init: function() {
                        if ($(".project-detail-container").length <= 0) return ! 1;
                        768 <= window.innerWidth ? t._projectDetailContainerTab.sticky({
                            context: ".project-detail-container",
                            offset: 45
                        }) : t._projectDetailContainerTab.sticky("destroy")
                    },
                    refresh: function() {
                        if ($(".project-detail-container").length <= 0) return ! 1;
                        768 <= window.innerWidth && t._projectDetailContainerTab.sticky("refresh")
                    }
                }
        };
        return t.prototype = {
            constructor: t,
            projectRating: function() {
                var t = this,
                    i = t._projectDetailEl.find(".project-rating .ui.rating");
                i.rating({
                    maxRating: 5,
                    onRate: function(t) {
                        if (!window.common.checkLogin()) return ! 1;
                        var e = 2 * t;
                        $.post(page.api_prefix + "/action/project/comment", {
                                comment: "",
                                projectId: page.objId,
                                user_code: page.g_user_code,
                                score: e
                            },
                            function(t) {
                                t.result && i.rating("disable")
                            })
                    }
                }),
                i.attr("disabled") && i.rating("disable")
            },
            shareMenu: function() {
                this._projectDetailEl.find(".share.dropdown").dropdown()
            },
            hightlight: function() {
                $("pre, pre code").each(function(t, e) {
                    var i, n = $(this),
                        o = n.attr("class") || "",
                        a = o.match(/language-(.*)/);
                    a && 1 < a.length && (i = a[a.length - 1], n.attr("class", "hljs " + i)),
                        hljs.highlightBlock(e)
                })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            initDetailContainer: function() {
                var t, i, n = this,
                    o = {
                        newsList: 1,
                        questionList: 1,
                        blogList: 1,
                        otherList: 1
                    },
                    a = {
                        newsList: new OSCInfiniteScroll({
                            pagePath: ".news-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#newsList",
                            itemListSelector: ".news-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                n.optimizeImgShow(),
                                    n.refreshTabSticky()
                            }
                        }),
                        questionList: new OSCInfiniteScroll({
                            pagePath: ".question-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#questionList",
                            itemListSelector: ".questions-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.question-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                n.optimizeImgShow(),
                                    n.refreshTabSticky()
                            }
                        }),
                        blogList: new OSCInfiniteScroll({
                            pagePath: ".blog-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#blogList",
                            itemListSelector: ".blog-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.blog-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                n.optimizeImgShow(),
                                    n.refreshTabSticky()
                            }
                        }),
                        otherList: new OSCInfiniteScroll({
                            pagePath: ".other-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#otherList",
                            itemListSelector: ".news-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                n.optimizeImgShow(),
                                    n.refreshTabSticky()
                            }
                        })
                    },
                    e = "",
                    r = n._projectDetailContainer.find(".active.tab");
                0 < r.length && (t = r.attr("data-tab") || "") && a[t] && (e = t),
                a[e] && a[e].init(),
                    i = e,
                    n._projectDetailContainer.find(".project-detail-tab.menu .item").tab({
                        onLoad: function(t) {
                            if (i !== t) {
                                if (a[i] && (a[i]._infScroll && (o[i] = a[i]._infScroll.pageIndex), a[i].destroy()), a[t] && (a[t].init(), a[t]._infScroll && (a[t]._infScroll.pageIndex = o[t])), i = t, n._projectDetailContainerTab.hasClass("fixed")) {
                                    var e = n._projectDetailContainer.offset().top;
                                    0 < e - 62 && (e -= 62),
                                        $("html, body").stop(!0).animate({
                                                scrollTop: e
                                            },
                                            500, "swing")
                                }
                                n.refreshTabSticky()
                            }
                        }
                    })
            },
            initTabSticky: function() {
                this._tabSticky.init(),
                    $(window).resize(this._tabSticky.init)
            },
            refreshTabSticky: function() {
                this._tabSticky.refresh()
            },
            bindClickCommentAuthor: function() {
                var t = this,
                    e = t._projectDetailContainer.find(".project-detail-tab.menu .item");
                t._projectDetailEl.on("click", 'a[href="#comments"]',
                    function(t) {
                        t.preventDefault(),
                            e.tab("change tab", "projectIntro")
                    })
            },
            register: function() {
                this.shareMenu(),
                    this.hightlight(),
                    this.optimizeImgShow(),
                    this.initDetailContainer(),
                    this.initTabSticky(),
                    this.bindClickCommentAuthor()
            }
        },
            t
    });
OSCDefine("web-project-edit",
    function() {
        return function() {
            var e, t, i = $(".edit-project.form"),
                r = i.find("textarea[name=detail]");
            i.find(".checkbox").checkbox(),
                e = {
                    height: 350,
                    resize_minHeight: 423,
                    resize_maxHeight: 1e3,
                    uploadUrl: page.api_prefix + "/project/ckeditor_dialog_img_upload",
                    filebrowserUploadUrl: page.api_prefix + "/project/ckeditor_dialog_img_upload"
                },
                t = function() {
                    var i = CKEDITOR.replace(r[0], e);
                    i.on("change",
                        function(e) {
                            r.val(e.editor.getData())
                        }),
                        i.on("fileUploadResponse",
                            function(e) {
                                setTimeout(function() {
                                        r.val(e.editor.getData())
                                    },
                                    0)
                            }),
                        i.on("mode",
                            function(e) {
                                if ("source" === this.mode) {
                                    var t = i.editable();
                                    t.attachListener(t, "input",
                                        function() {
                                            r.val(e.editor.getData())
                                        })
                                }
                            })
                },
                i.form({
                    inline: !0,
                    fields: {
                        name: {
                            identifier: "name",
                            rules: [{
                                type: "empty",
                                prompt: "请输入软件名称"
                            },
                                {
                                    type: "maxLength[50]",
                                    prompt: "软件名称长度不能超过 {ruleValue} 个字符"
                                }]
                        },
                        title: {
                            identifier: "title",
                            rules: [{
                                type: "empty",
                                prompt: "请输入扩展标题"
                            },
                                {
                                    type: "maxLength[50]",
                                    prompt: "扩展标题长度不能超过 {ruleValue} 个字符"
                                }]
                        },
                        license: {
                            identifier: "license",
                            rules: [{
                                type: "empty",
                                prompt: "请输入开源许可证"
                            }]
                        },
                        home_url: {
                            identifier: "home_url",
                            rules: [{
                                type: "empty",
                                prompt: "请输入软件网址"
                            },
                                {
                                    type: "url",
                                    prompt: "请输入正确的软件网址"
                                }]
                        },
                        download_url: {
                            identifier: "download_url",
                            optional: !0,
                            rules: [{
                                type: "url",
                                prompt: "请输入正确的下载地址"
                            }]
                        },
                        doc_url: {
                            identifier: "doc_url",
                            optional: !0,
                            rules: [{
                                type: "url",
                                prompt: "请输入正确的文档地址"
                            }]
                        },
                        detail: {
                            identifier: "detail",
                            rules: [{
                                type: "empty",
                                prompt: "请输入详细介绍"
                            }]
                        },
                        reason: {
                            identifier: "reason",
                            rules: [{
                                type: "empty",
                                prompt: "请输入修改原因"
                            },
                                {
                                    type: "maxLength[200]",
                                    prompt: "修改原因长度不能超过 {ruleValue} 个字符"
                                }]
                        }
                    }
                }).api({
                    url: page.saveUrl,
                    method: "post",
                    serializeForm: !1,
                    beforeSend: function(e) {
                        return $(this).message("hideAll"),
                            e.data = i.serialize(),
                            e
                    },
                    onSuccess: function(e, t, i) {
                        1 === e.code ? ($(this).message({
                            type: "positive",
                            content: e.message || "提交成功"
                        }), page.projectUrl && setTimeout(function() {
                                window.location.href = page.projectUrl
                            },
                            2e3)) : $(this).message({
                            type: "negative",
                            content: e.message || "提交失败"
                        })
                    },
                    onFailure: function(e, t) {
                        $(this).message({
                            type: "negative",
                            content: "网络错误，请稍后再试",
                            disappear: 2e3
                        })
                    }
                }),
                i.on("reset",
                    function(e) {
                        var t, i;
                        if ($(CKEDITOR.instances).length) for (t in CKEDITOR.instances) i = CKEDITOR.instances[t],
                        $(i.element.$).closest("form").attr("name") === $(e.target).attr("name") && i.setData(i.element.$.defaultValue)
                    }),
                $(function() {
                    t()
                })
        }
    }); !
    function(e, t) {
        "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.Swiper = t()
    } (this,
        function() {
            "use strict";
            function $(e, t) {
                var i, s, a, n, r = [],
                    o = 0;
                if (e && !t && e instanceof me) return e;
                if (e) if ("string" == typeof e) if (0 <= (a = e.trim()).indexOf("<") && 0 <= a.indexOf(">")) for (n = "div", 0 === a.indexOf("<li") && (n = "ul"), 0 === a.indexOf("<tr") && (n = "tbody"), 0 !== a.indexOf("<td") && 0 !== a.indexOf("<th") || (n = "tr"), 0 === a.indexOf("<tbody") && (n = "table"), 0 === a.indexOf("<option") && (n = "select"), (s = document.createElement(n)).innerHTML = a, o = 0; o < s.childNodes.length; o += 1) r.push(s.childNodes[o]);
                else for (i = t || "#" !== e[0] || e.match(/[ .<>:~]/) ? (t || document).querySelectorAll(e.trim()) : [document.getElementById(e.trim().split("#")[1])], o = 0; o < i.length; o += 1) i[o] && r.push(i[o]);
                else if (e.nodeType || e === window || e === document) r.push(e);
                else if (0 < e.length && e[0].nodeType) for (o = 0; o < e.length; o += 1) r.push(e[o]);
                return new me(r)
            }
            function n(e) {
                for (var t = [], i = 0; i < e.length; i += 1) - 1 === t.indexOf(e[i]) && t.push(e[i]);
                return t
            }
            var t, e, i, s, c, I, f, D, a, r, o, l, d, h, p, u, m, v, g, b, w, y, x, T, E, S, C, M, z, L, P, k, O, A, H, N, X, Y, G, B, V, R, F, W, j, q, K, U, _, Z, Q, J, ee, te, ie, se, ae, ne, re, oe, le, de, he, pe, ce, ue, fe, me = function(e) {
                for (var t = 0; t < e.length; t += 1) this[t] = e[t];
                return this.length = e.length,
                    this
            };
            return $.fn = me.prototype,
                $.Class = me,
                $.Dom7 = me,
                "resize scroll".split(" "),
                t = {
                    addClass: function(e) {
                        var t, i, s;
                        if (void 0 === e) return this;
                        for (t = e.split(" "), i = 0; i < t.length; i += 1) for (s = 0; s < this.length; s += 1) void 0 !== this[s].classList && this[s].classList.add(t[i]);
                        return this
                    },
                    removeClass: function(e) {
                        var t, i, s;
                        for (t = e.split(" "), i = 0; i < t.length; i += 1) for (s = 0; s < this.length; s += 1) void 0 !== this[s].classList && this[s].classList.remove(t[i]);
                        return this
                    },
                    hasClass: function(e) {
                        return !! this[0] && this[0].classList.contains(e)
                    },
                    toggleClass: function(e) {
                        var t, i, s;
                        for (t = e.split(" "), i = 0; i < t.length; i += 1) for (s = 0; s < this.length; s += 1) void 0 !== this[s].classList && this[s].classList.toggle(t[i]);
                        return this
                    },
                    attr: function(e, t) {
                        var i, s, a = arguments;
                        if (1 === arguments.length && "string" == typeof e) return this[0] ? this[0].getAttribute(e) : void 0;
                        for (i = 0; i < this.length; i += 1) if (2 === a.length) this[i].setAttribute(e, t);
                        else for (s in e) this[i][s] = e[s],
                                this[i].setAttribute(s, e[s]);
                        return this
                    },
                    removeAttr: function(e) {
                        for (var t = 0; t < this.length; t += 1) this[t].removeAttribute(e);
                        return this
                    },
                    data: function(e, t) {
                        var i, s;
                        if (void 0 !== t) {
                            for (s = 0; s < this.length; s += 1)(i = this[s]).dom7ElementDataStorage || (i.dom7ElementDataStorage = {}),
                                i.dom7ElementDataStorage[e] = t;
                            return this
                        }
                        if (i = this[0]) return i.dom7ElementDataStorage && e in i.dom7ElementDataStorage ? i.dom7ElementDataStorage[e] : i.getAttribute("data-" + e) || void 0
                    },
                    transform: function(e) {
                        var t, i;
                        for (t = 0; t < this.length; t += 1)(i = this[t].style).webkitTransform = e,
                            i.transform = e;
                        return this
                    },
                    transition: function(e) {
                        var t, i;
                        for ("string" != typeof e && (e += "ms"), t = 0; t < this.length; t += 1)(i = this[t].style).webkitTransitionDuration = e,
                            i.transitionDuration = e;
                        return this
                    },
                    on: function() {
                        function e(e) {
                            var t, i, s, a = e.target;
                            if (a) if ((t = e.target.dom7EventData || []).unshift(e), $(a).is(r)) o.apply(a, t);
                            else for (i = $(a).parents(), s = 0; s < i.length; s += 1) $(i[s]).is(r) && o.apply(i[s], t)
                        }
                        function t(e) {
                            var t = e && e.target && e.target.dom7EventData || [];
                            t.unshift(e),
                                o.apply(this, t)
                        }
                        var i, s, a, n, r, o, l, d, h, p, c;
                        for (i = [], s = arguments.length; s--;) i[s] = arguments[s];
                        for (n = i[0], r = i[1], o = i[2], l = i[3], "function" == typeof i[1] && (n = (a = i)[0], o = a[1], l = a[2], r = void 0), l || (l = !1), h = n.split(" "), p = 0; p < this.length; p += 1) if (c = this[p], r) for (d = 0; d < h.length; d += 1) c.dom7LiveListeners || (c.dom7LiveListeners = []),
                            c.dom7LiveListeners.push({
                                type: n,
                                listener: o,
                                proxyListener: e
                            }),
                            c.addEventListener(h[d], e, l);
                        else for (d = 0; d < h.length; d += 1) c.dom7Listeners || (c.dom7Listeners = []),
                                c.dom7Listeners.push({
                                    type: n,
                                    listener: o,
                                    proxyListener: t
                                }),
                                c.addEventListener(h[d], t, l);
                        return this
                    },
                    off: function() {
                        var e, t, i, s, a, n, r, o, l, d, h, p, c;
                        for (e = [], t = arguments.length; t--;) e[t] = arguments[t];
                        for (s = e[0], a = e[1], n = e[2], r = e[3], "function" == typeof e[1] && (s = (i = e)[0], n = i[1], r = i[2], a = void 0), r || (r = !1), o = s.split(" "), l = 0; l < o.length; l += 1) for (d = 0; d < this.length; d += 1) if (h = this[d], a) {
                            if (h.dom7LiveListeners) for (p = 0; p < h.dom7LiveListeners.length; p += 1) n ? h.dom7LiveListeners[p].listener === n && h.removeEventListener(o[l], h.dom7LiveListeners[p].proxyListener, r) : h.dom7LiveListeners[p].type === o[l] && h.removeEventListener(o[l], h.dom7LiveListeners[p].proxyListener, r)
                        } else if (h.dom7Listeners) for (c = 0; c < h.dom7Listeners.length; c += 1) n ? h.dom7Listeners[c].listener === n && h.removeEventListener(o[l], h.dom7Listeners[c].proxyListener, r) : h.dom7Listeners[c].type === o[l] && h.removeEventListener(o[l], h.dom7Listeners[c].proxyListener, r);
                        return this
                    },
                    trigger: function() {
                        var e, t, i, s, a, n, r;
                        for (e = [], t = arguments.length; t--;) e[t] = arguments[t];
                        for (i = e[0].split(" "), s = e[1], a = 0; a < i.length; a += 1) for (n = 0; n < this.length; n += 1) {
                            r = void 0;
                            try {
                                r = new window.CustomEvent(i[a], {
                                    detail: s,
                                    bubbles: !0,
                                    cancelable: !0
                                })
                            } catch(e) { (r = document.createEvent("Event")).initEvent(i[a], !0, !0),
                                r.detail = s
                            }
                            this[n].dom7EventData = e.filter(function(e, t) {
                                return 0 < t
                            }),
                                this[n].dispatchEvent(r),
                                this[n].dom7EventData = [],
                                delete this[n].dom7EventData
                        }
                        return this
                    },
                    transitionEnd: function(t) {
                        function i(e) {
                            if (e.target === this) for (t.call(this, e), s = 0; s < a.length; s += 1) n.off(a[s], i)
                        }
                        var s, a = ["webkitTransitionEnd", "transitionend"],
                            n = this;
                        if (t) for (s = 0; s < a.length; s += 1) n.on(a[s], i);
                        return this
                    },
                    outerWidth: function(e) {
                        if (0 < this.length) {
                            if (e) {
                                var t = this.styles();
                                return this[0].offsetWidth + parseFloat(t.getPropertyValue("margin-right")) + parseFloat(t.getPropertyValue("margin-left"))
                            }
                            return this[0].offsetWidth
                        }
                        return null
                    },
                    outerHeight: function(e) {
                        if (0 < this.length) {
                            if (e) {
                                var t = this.styles();
                                return this[0].offsetHeight + parseFloat(t.getPropertyValue("margin-top")) + parseFloat(t.getPropertyValue("margin-bottom"))
                            }
                            return this[0].offsetHeight
                        }
                        return null
                    },
                    offset: function() {
                        if (0 < this.length) {
                            var e = this[0],
                                t = e.getBoundingClientRect(),
                                i = document.body,
                                s = e.clientTop || i.clientTop || 0,
                                a = e.clientLeft || i.clientLeft || 0,
                                n = e === window ? window.scrollY: e.scrollTop,
                                r = e === window ? window.scrollX: e.scrollLeft;
                            return {
                                top: t.top + n - s,
                                left: t.left + r - a
                            }
                        }
                        return null
                    },
                    css: function(e, t) {
                        var i, s;
                        if (1 === arguments.length) {
                            if ("string" != typeof e) {
                                for (i = 0; i < this.length; i += 1) for (s in e) this[i].style[s] = e[s];
                                return this
                            }
                            if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(e)
                        }
                        if (2 !== arguments.length || "string" != typeof e) return this;
                        for (i = 0; i < this.length; i += 1) this[i].style[e] = t;
                        return this
                    },
                    each: function(e) {
                        if (!e) return this;
                        for (var t = 0; t < this.length; t += 1) if (!1 === e.call(this[t], t, this[t])) return this;
                        return this
                    },
                    html: function(e) {
                        if (void 0 === e) return this[0] ? this[0].innerHTML: void 0;
                        for (var t = 0; t < this.length; t += 1) this[t].innerHTML = e;
                        return this
                    },
                    text: function(e) {
                        if (void 0 === e) return this[0] ? this[0].textContent.trim() : null;
                        for (var t = 0; t < this.length; t += 1) this[t].textContent = e;
                        return this
                    },
                    is: function(e) {
                        var t, i, s = this[0];
                        if (!s || void 0 === e) return ! 1;
                        if ("string" == typeof e) {
                            if (s.matches) return s.matches(e);
                            if (s.webkitMatchesSelector) return s.webkitMatchesSelector(e);
                            if (s.msMatchesSelector) return s.msMatchesSelector(e);
                            for (t = $(e), i = 0; i < t.length; i += 1) if (t[i] === s) return ! 0;
                            return ! 1
                        }
                        if (e === document) return s === document;
                        if (e === window) return s === window;
                        if (e.nodeType || e instanceof me) {
                            for (t = e.nodeType ? [e] : e, i = 0; i < t.length; i += 1) if (t[i] === s) return ! 0;
                            return ! 1
                        }
                        return ! 1
                    },
                    index: function() {
                        var e, t = this[0];
                        if (t) {
                            for (e = 0; null !== (t = t.previousSibling);) 1 === t.nodeType && (e += 1);
                            return e
                        }
                    },
                    eq: function(e) {
                        if (void 0 === e) return this;
                        var t, i = this.length;
                        return new me(i - 1 < e ? [] : e < 0 ? (t = i + e) < 0 ? [] : [this[t]] : [this[e]])
                    },
                    append: function() {
                        var e, t, i, s, a, n, r;
                        for (t = [], i = arguments.length; i--;) t[i] = arguments[i];
                        for (s = 0; s < t.length; s += 1) for (e = t[s], a = 0; a < this.length; a += 1) if ("string" == typeof e) for ((n = document.createElement("div")).innerHTML = e; n.firstChild;) this[a].appendChild(n.firstChild);
                        else if (e instanceof me) for (r = 0; r < e.length; r += 1) this[a].appendChild(e[r]);
                        else this[a].appendChild(e);
                        return this
                    },
                    prepend: function(e) {
                        var t, i, s;
                        for (t = 0; t < this.length; t += 1) if ("string" == typeof e) for ((s = document.createElement("div")).innerHTML = e, i = s.childNodes.length - 1; 0 <= i; i -= 1) this[t].insertBefore(s.childNodes[i], this[t].childNodes[0]);
                        else if (e instanceof me) for (i = 0; i < e.length; i += 1) this[t].insertBefore(e[i], this[t].childNodes[0]);
                        else this[t].insertBefore(e, this[t].childNodes[0]);
                        return this
                    },
                    next: function(e) {
                        return 0 < this.length ? e ? this[0].nextElementSibling && $(this[0].nextElementSibling).is(e) ? new me([this[0].nextElementSibling]) : new me([]) : this[0].nextElementSibling ? new me([this[0].nextElementSibling]) : new me([]) : new me([])
                    },
                    nextAll: function(e) {
                        var t, i = [],
                            s = this[0];
                        if (!s) return new me([]);
                        for (; s.nextElementSibling;) t = s.nextElementSibling,
                            e ? $(t).is(e) && i.push(t) : i.push(t),
                            s = t;
                        return new me(i)
                    },
                    prev: function(e) {
                        if (0 < this.length) {
                            var t = this[0];
                            return e ? t.previousElementSibling && $(t.previousElementSibling).is(e) ? new me([t.previousElementSibling]) : new me([]) : t.previousElementSibling ? new me([t.previousElementSibling]) : new me([])
                        }
                        return new me([])
                    },
                    prevAll: function(e) {
                        var t, i = [],
                            s = this[0];
                        if (!s) return new me([]);
                        for (; s.previousElementSibling;) t = s.previousElementSibling,
                            e ? $(t).is(e) && i.push(t) : i.push(t),
                            s = t;
                        return new me(i)
                    },
                    parent: function(e) {
                        for (var t = [], i = 0; i < this.length; i += 1) null !== this[i].parentNode && (e ? $(this[i].parentNode).is(e) && t.push(this[i].parentNode) : t.push(this[i].parentNode));
                        return $(n(t))
                    },
                    parents: function(e) {
                        var t, i, s;
                        for (t = [], i = 0; i < this.length; i += 1) for (s = this[i].parentNode; s;) e ? $(s).is(e) && t.push(s) : t.push(s),
                            s = s.parentNode;
                        return $(n(t))
                    },
                    closest: function(e) {
                        var t = this;
                        return void 0 === e ? new me([]) : (t.is(e) || (t = t.parents(e).eq(0)), t)
                    },
                    find: function(e) {
                        var t, i, s, a;
                        for (t = [], i = 0; i < this.length; i += 1) for (s = this[i].querySelectorAll(e), a = 0; a < s.length; a += 1) t.push(s[a]);
                        return new me(t)
                    },
                    children: function(e) {
                        var t, i, s, a;
                        for (t = [], i = 0; i < this.length; i += 1) for (s = this[i].childNodes, a = 0; a < s.length; a += 1) e ? 1 === s[a].nodeType && $(s[a]).is(e) && t.push(s[a]) : 1 === s[a].nodeType && t.push(s[a]);
                        return new me(n(t))
                    },
                    remove: function() {
                        for (var e = 0; e < this.length; e += 1) this[e].parentNode && this[e].parentNode.removeChild(this[e]);
                        return this
                    },
                    add: function() {
                        var e, t, i, s, a;
                        for (e = [], t = arguments.length; t--;) e[t] = arguments[t];
                        for (i = 0; i < e.length; i += 1) for (a = $(e[i]), s = 0; s < a.length; s += 1) this[this.length] = a[s],
                            this.length += 1;
                        return this
                    },
                    styles: function() {
                        return this[0] ? window.getComputedStyle(this[0], null) : {}
                    }
                },
                Object.keys(t).forEach(function(e) {
                    $.fn[e] = t[e]
                }),
                c = "undefined" == typeof window ? {
                    navigator: {
                        userAgent: ""
                    },
                    location: {},
                    history: {},
                    addEventListener: function() {},
                    removeEventListener: function() {},
                    getComputedStyle: function() {
                        return {}
                    },
                    Image: function() {},
                    Date: function() {},
                    screen: {}
                }: window,
                I = {
                    deleteProps: function(e) {
                        var t = e;
                        Object.keys(t).forEach(function(e) {
                            try {
                                t[e] = null
                            } catch(e) {}
                            try {
                                delete t[e]
                            } catch(e) {}
                        })
                    },
                    nextTick: function(e, t) {
                        return void 0 === t && (t = 0),
                            setTimeout(e, t)
                    },
                    now: function() {
                        return Date.now()
                    },
                    getTranslate: function(e, t) {
                        var i, s, a, n;
                        return void 0 === t && (t = "x"),
                            n = c.getComputedStyle(e, null),
                            c.WebKitCSSMatrix ? (6 < (s = n.transform || n.webkitTransform).split(",").length && (s = s.split(", ").map(function(e) {
                                return e.replace(",", ".")
                            }).join(", ")), a = new c.WebKitCSSMatrix("none" === s ? "": s)) : i = (a = n.MozTransform || n.OTransform || n.MsTransform || n.msTransform || n.transform || n.getPropertyValue("transform").replace("translate(", "matrix(1, 0, 0, 1,")).toString().split(","),
                        "x" === t && (s = c.WebKitCSSMatrix ? a.m41: 16 === i.length ? parseFloat(i[12]) : parseFloat(i[4])),
                        "y" === t && (s = c.WebKitCSSMatrix ? a.m42: 16 === i.length ? parseFloat(i[13]) : parseFloat(i[5])),
                        s || 0
                    },
                    parseUrlQuery: function(e) {
                        var t, i, s, a, n = {},
                            r = e || c.location.href;
                        if ("string" == typeof r && r.length) for (a = (i = (r = -1 < r.indexOf("?") ? r.replace(/\S*\?/, "") : "").split("&").filter(function(e) {
                            return "" !== e
                        })).length, t = 0; t < a; t += 1) s = i[t].replace(/#\S+/g, "").split("="),
                            n[decodeURIComponent(s[0])] = void 0 === s[1] ? void 0 : decodeURIComponent(s[1]) || "";
                        return n
                    },
                    isObject: function(e) {
                        return "object" == typeof e && null !== e && e.constructor && e.constructor === Object
                    },
                    extend: function() {
                        var e, t, i, s, a, n, r, o, l, d;
                        for (e = [], t = arguments.length; t--;) e[t] = arguments[t];
                        for (i = Object(e[0]), s = 1; s < e.length; s += 1) if (null != (a = e[s])) for (r = 0, o = (n = Object.keys(Object(a))).length; r < o; r += 1) l = n[r],
                        void 0 !== (d = Object.getOwnPropertyDescriptor(a, l)) && d.enumerable && (I.isObject(i[l]) && I.isObject(a[l]) ? I.extend(i[l], a[l]) : !I.isObject(i[l]) && I.isObject(a[l]) ? (i[l] = {},
                            I.extend(i[l], a[l])) : i[l] = a[l]);
                        return i
                    }
                },
                f = "undefined" == typeof document ? {
                    addEventListener: function() {},
                    removeEventListener: function() {},
                    activeElement: {
                        blur: function() {},
                        nodeName: ""
                    },
                    querySelector: function() {
                        return {}
                    },
                    querySelectorAll: function() {
                        return []
                    },
                    createElement: function() {
                        return {
                            style: {},
                            setAttribute: function() {},
                            getElementsByTagName: function() {
                                return []
                            }
                        }
                    },
                    location: {
                        hash: ""
                    }
                }: document,
                s = f.createElement("div"),
                D = {
                    touch: c.Modernizr && !0 === c.Modernizr.touch || !!("ontouchstart" in c || c.DocumentTouch && f instanceof c.DocumentTouch),
                    pointerEvents: !(!c.navigator.pointerEnabled && !c.PointerEvent),
                    prefixedPointerEvents: !!c.navigator.msPointerEnabled,
                    transition: (i = s.style, "transition" in i || "webkitTransition" in i || "MozTransition" in i),
                    transforms3d: c.Modernizr && !0 === c.Modernizr.csstransforms3d || (e = s.style, "webkitPerspective" in e || "MozPerspective" in e || "OPerspective" in e || "MsPerspective" in e || "perspective" in e),
                    flexbox: function() {
                        for (var e = s.style,
                                 t = "alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "), i = 0; i < t.length; i += 1) if (t[i] in e) return ! 0;
                        return ! 1
                    } (),
                    observer: "MutationObserver" in c || "WebkitMutationObserver" in c,
                    passiveListener: function() {
                        var e, t = !1;
                        try {
                            e = Object.defineProperty({},
                                "passive", {
                                    get: function() {
                                        t = !0
                                    }
                                }),
                                c.addEventListener("testPassiveListener", null, e)
                        } catch(t) {}
                        return t
                    } (),
                    gestures: "ongesturestart" in c
                },
                r = {
                    components: {
                        configurable: !0
                    }
                },
                (a = function(e) {
                    void 0 === e && (e = {});
                    var t = this;
                    t.params = e,
                        t.eventsListeners = {},
                    t.params && t.params.on && Object.keys(t.params.on).forEach(function(e) {
                        t.on(e, t.params.on[e])
                    })
                }).prototype.on = function(e, t) {
                    var i = this;
                    return "function" != typeof t || e.split(" ").forEach(function(e) {
                        i.eventsListeners[e] || (i.eventsListeners[e] = []),
                            i.eventsListeners[e].push(t)
                    }),
                        i
                },
                a.prototype.once = function(s, a) {
                    var n = this;
                    return "function" != typeof a ? n: n.on(s,
                        function e() {
                            for (var t = [], i = arguments.length; i--;) t[i] = arguments[i];
                            a.apply(n, t),
                                n.off(s, e)
                        })
                },
                a.prototype.off = function(e, s) {
                    var a = this;
                    return e.split(" ").forEach(function(i) {
                        void 0 === s ? a.eventsListeners[i] = [] : a.eventsListeners[i].forEach(function(e, t) {
                            e === s && a.eventsListeners[i].splice(t, 1)
                        })
                    }),
                        a
                },
                a.prototype.emit = function() {
                    var e, t, i, s, a, n;
                    for (e = [], t = arguments.length; t--;) e[t] = arguments[t];
                    return (n = this).eventsListeners && (a = "string" == typeof e[0] || Array.isArray(e[0]) ? (i = e[0], s = e.slice(1, e.length), n) : (i = e[0].events, s = e[0].data, e[0].context || n), (Array.isArray(i) ? i: i.split(" ")).forEach(function(e) {
                        if (n.eventsListeners[e]) {
                            var t = [];
                            n.eventsListeners[e].forEach(function(e) {
                                t.push(e)
                            }),
                                t.forEach(function(e) {
                                    e.apply(a, s)
                                })
                        }
                    })),
                        n
                },
                a.prototype.useModulesParams = function(i) {
                    var s = this;
                    s.modules && Object.keys(s.modules).forEach(function(e) {
                        var t = s.modules[e];
                        t.params && I.extend(i, t.params)
                    })
                },
                a.prototype.useModules = function(s) {
                    void 0 === s && (s = {});
                    var a = this;
                    a.modules && Object.keys(a.modules).forEach(function(e) {
                        var i = a.modules[e],
                            t = s[e] || {};
                        i.instance && Object.keys(i.instance).forEach(function(e) {
                            var t = i.instance[e];
                            a[e] = "function" == typeof t ? t.bind(a) : t
                        }),
                        i.on && a.on && Object.keys(i.on).forEach(function(e) {
                            a.on(e, i.on[e])
                        }),
                        i.create && i.create.bind(a)(t)
                    })
                },
                r.components.set = function(e) {
                    this.use && this.use(e)
                },
                a.installModule = function(t) {
                    var e, i, s, a;
                    for (e = [], i = arguments.length - 1; 0 < i--;) e[i] = arguments[i + 1];
                    return (s = this).prototype.modules || (s.prototype.modules = {}),
                        a = t.name || Object.keys(s.prototype.modules).length + "_" + I.now(),
                    (s.prototype.modules[a] = t).proto && Object.keys(t.proto).forEach(function(e) {
                        s.prototype[e] = t.proto[e]
                    }),
                    t.static && Object.keys(t.static).forEach(function(e) {
                        s[e] = t.static[e]
                    }),
                    t.install && t.install.apply(s, e),
                        s
                },
                a.use = function(e) {
                    var t, i, s;
                    for (t = [], i = arguments.length - 1; 0 < i--;) t[i] = arguments[i + 1];
                    return s = this,
                        Array.isArray(e) ? (e.forEach(function(e) {
                            return s.installModule(e)
                        }), s) : s.installModule.apply(s, [e].concat(t))
                },
                Object.defineProperties(a, r),
                o = {
                    updateSize: function() {
                        var e, t, i = this.$el;
                        e = void 0 !== this.params.width ? this.params.width: i[0].clientWidth,
                            t = void 0 !== this.params.height ? this.params.height: i[0].clientHeight,
                        0 === e && this.isHorizontal() || 0 === t && this.isVertical() || (e = e - parseInt(i.css("padding-left"), 10) - parseInt(i.css("padding-right"), 10), t = t - parseInt(i.css("padding-top"), 10) - parseInt(i.css("padding-bottom"), 10), I.extend(this, {
                            width: e,
                            height: t,
                            size: this.isHorizontal() ? e: t
                        }))
                    },
                    updateSlides: function() {
                        var e, t, i, s, a, n, r, o, l, d, h, p, c, u, f, m, v, g, b, w, y, x = this.params,
                            T = this.$wrapperEl,
                            E = this.size,
                            S = this.rtl,
                            C = this.wrongRTL,
                            M = T.children("." + this.params.slideClass),
                            z = this.virtual && x.virtual.enabled ? this.virtual.slides.length: M.length,
                            P = [],
                            k = [],
                            $ = [],
                            L = x.slidesOffsetBefore;
                        if ("function" == typeof L && (L = x.slidesOffsetBefore.call(this)), "function" == typeof(e = x.slidesOffsetAfter) && (e = x.slidesOffsetAfter.call(this)), t = z, i = this.snapGrid.length, s = this.snapGrid.length, a = x.spaceBetween, n = -L, void(o = r = 0) !== E) {
                            for ("string" == typeof a && 0 <= a.indexOf("%") && (a = parseFloat(a.replace("%", "")) / 100 * E), this.virtualSize = -a, S ? M.css({
                                marginLeft: "",
                                marginTop: ""
                            }) : M.css({
                                marginRight: "",
                                marginBottom: ""
                            }), 1 < x.slidesPerColumn && (l = Math.floor(z / x.slidesPerColumn) === z / this.params.slidesPerColumn ? z: Math.ceil(z / x.slidesPerColumn) * x.slidesPerColumn, "auto" !== x.slidesPerView && "row" === x.slidesPerColumnFill && (l = Math.max(l, x.slidesPerView * x.slidesPerColumn))), u = (c = l / (p = x.slidesPerColumn)) - (x.slidesPerColumn * c - z), f = 0; f < z; f += 1) d = 0,
                                m = M.eq(f),
                            1 < x.slidesPerColumn && (b = g = v = void 0, "column" === x.slidesPerColumnFill ? (b = f - (g = Math.floor(f / p)) * p, (u < g || g === u && b === p - 1) && (b += 1) >= p && (b = 0, g += 1), v = g + b * l / p, m.css({
                                "-webkit-box-ordinal-group": v,
                                "-moz-box-ordinal-group": v,
                                "-ms-flex-order": v,
                                "-webkit-order": v,
                                order: v
                            })) : g = f - (b = Math.floor(f / c)) * c, m.css("margin-" + (this.isHorizontal() ? "top": "left"), 0 !== b && x.spaceBetween && x.spaceBetween + "px").attr("data-swiper-column", g).attr("data-swiper-row", b)),
                            "none" !== m.css("display") && ("auto" === x.slidesPerView ? (d = this.isHorizontal() ? m.outerWidth(!0) : m.outerHeight(!0), x.roundLengths && (d = Math.floor(d))) : (d = (E - (x.slidesPerView - 1) * a) / x.slidesPerView, x.roundLengths && (d = Math.floor(d)), M[f] && (this.isHorizontal() ? M[f].style.width = d + "px": M[f].style.height = d + "px")), M[f] && (M[f].swiperSlideSize = d), $.push(d), x.centeredSlides ? (n = n + d / 2 + r / 2 + a, 0 === r && 0 !== f && (n = n - E / 2 - a), 0 === f && (n = n - E / 2 - a), Math.abs(n) < .001 && (n = 0), o % x.slidesPerGroup == 0 && P.push(n), k.push(n)) : (o % x.slidesPerGroup == 0 && P.push(n), k.push(n), n = n + d + a), this.virtualSize += d + a, r = d, o += 1);
                            if (this.virtualSize = Math.max(this.virtualSize, E) + e, S && C && ("slide" === x.effect || "coverflow" === x.effect) && T.css({
                                width: this.virtualSize + x.spaceBetween + "px"
                            }), D.flexbox && !x.setWrapperSize || (this.isHorizontal() ? T.css({
                                width: this.virtualSize + x.spaceBetween + "px"
                            }) : T.css({
                                height: this.virtualSize + x.spaceBetween + "px"
                            })), 1 < x.slidesPerColumn && (this.virtualSize = (d + x.spaceBetween) * l, this.virtualSize = Math.ceil(this.virtualSize / x.slidesPerColumn) - x.spaceBetween, this.isHorizontal() ? T.css({
                                width: this.virtualSize + x.spaceBetween + "px"
                            }) : T.css({
                                height: this.virtualSize + x.spaceBetween + "px"
                            }), x.centeredSlides)) {
                                for (h = [], w = 0; w < P.length; w += 1) P[w] < this.virtualSize + P[0] && h.push(P[w]);
                                P = h
                            }
                            if (!x.centeredSlides) {
                                for (h = [], y = 0; y < P.length; y += 1) P[y] <= this.virtualSize - E && h.push(P[y]);
                                P = h,
                                1 < Math.floor(this.virtualSize - E) - Math.floor(P[P.length - 1]) && P.push(this.virtualSize - E)
                            }
                            0 === P.length && (P = [0]),
                            0 !== x.spaceBetween && (this.isHorizontal() ? S ? M.css({
                                marginLeft: a + "px"
                            }) : M.css({
                                marginRight: a + "px"
                            }) : M.css({
                                marginBottom: a + "px"
                            })),
                                I.extend(this, {
                                    slides: M,
                                    snapGrid: P,
                                    slidesGrid: k,
                                    slidesSizesGrid: $
                                }),
                            z !== t && this.emit("slidesLengthChange"),
                            P.length !== i && (this.params.watchOverflow && this.checkOverflow(), this.emit("snapGridLengthChange")),
                            k.length !== s && this.emit("slidesGridLengthChange"),
                            (x.watchSlidesProgress || x.watchSlidesVisibility) && this.updateSlidesOffset()
                        }
                    },
                    updateAutoHeight: function() {
                        var e, t, i, s = [],
                            a = 0;
                        if ("auto" !== this.params.slidesPerView && 1 < this.params.slidesPerView) for (e = 0; e < Math.ceil(this.params.slidesPerView) && !((t = this.activeIndex + e) > this.slides.length); e += 1) s.push(this.slides.eq(t)[0]);
                        else s.push(this.slides.eq(this.activeIndex)[0]);
                        for (e = 0; e < s.length; e += 1) void 0 !== s[e] && (a = a < (i = s[e].offsetHeight) ? i: a);
                        a && this.$wrapperEl.css("height", a + "px")
                    },
                    updateSlidesOffset: function() {
                        for (var e = this.slides,
                                 t = 0; t < e.length; t += 1) e[t].swiperSlideOffset = this.isHorizontal() ? e[t].offsetLeft: e[t].offsetTop
                    },
                    updateSlidesProgress: function(e) {
                        var t, i, s, a, n, r, o, l, d;
                        if (void 0 === e && (e = this.translate || 0), t = this.params, i = this.slides, s = this.rtl, 0 !== i.length) for (void 0 === i[0].swiperSlideOffset && this.updateSlidesOffset(), a = -e, s && (a = e), i.removeClass(t.slideVisibleClass), n = 0; n < i.length; n += 1) r = i[n],
                            o = (a + (t.centeredSlides ? this.minTranslate() : 0) - r.swiperSlideOffset) / (r.swiperSlideSize + t.spaceBetween),
                        t.watchSlidesVisibility && (d = (l = -(a - r.swiperSlideOffset)) + this.slidesSizesGrid[n], (0 <= l && l < this.size || 0 < d && d <= this.size || l <= 0 && d >= this.size) && i.eq(n).addClass(t.slideVisibleClass)),
                            r.progress = s ? -o: o
                    },
                    updateProgress: function(e) {
                        void 0 === e && (e = this.translate || 0);
                        var t = this.params,
                            i = this.maxTranslate() - this.minTranslate(),
                            s = this.progress,
                            a = this.isBeginning,
                            n = this.isEnd,
                            r = a,
                            o = n;
                        n = 0 === i ? a = !(s = 0) : (a = (s = (e - this.minTranslate()) / i) <= 0, 1 <= s),
                            I.extend(this, {
                                progress: s,
                                isBeginning: a,
                                isEnd: n
                            }),
                        (t.watchSlidesProgress || t.watchSlidesVisibility) && this.updateSlidesProgress(e),
                        a && !r && this.emit("reachBeginning toEdge"),
                        n && !o && this.emit("reachEnd toEdge"),
                        (r && !a || o && !n) && this.emit("fromEdge"),
                            this.emit("progress", s)
                    },
                    updateSlidesClasses: function() {
                        var e, t, i, s = this.slides,
                            a = this.params,
                            n = this.$wrapperEl,
                            r = this.activeIndex,
                            o = this.realIndex,
                            l = this.virtual && a.virtual.enabled;
                        s.removeClass(a.slideActiveClass + " " + a.slideNextClass + " " + a.slidePrevClass + " " + a.slideDuplicateActiveClass + " " + a.slideDuplicateNextClass + " " + a.slideDuplicatePrevClass),
                            (e = l ? this.$wrapperEl.find("." + a.slideClass + '[data-swiper-slide-index="' + r + '"]') : s.eq(r)).addClass(a.slideActiveClass),
                        a.loop && (e.hasClass(a.slideDuplicateClass) ? n.children("." + a.slideClass + ":not(." + a.slideDuplicateClass + ')[data-swiper-slide-index="' + o + '"]').addClass(a.slideDuplicateActiveClass) : n.children("." + a.slideClass + "." + a.slideDuplicateClass + '[data-swiper-slide-index="' + o + '"]').addClass(a.slideDuplicateActiveClass)),
                            t = e.nextAll("." + a.slideClass).eq(0).addClass(a.slideNextClass),
                        a.loop && 0 === t.length && (t = s.eq(0)).addClass(a.slideNextClass),
                            i = e.prevAll("." + a.slideClass).eq(0).addClass(a.slidePrevClass),
                        a.loop && 0 === i.length && (i = s.eq( - 1)).addClass(a.slidePrevClass),
                        a.loop && (t.hasClass(a.slideDuplicateClass) ? n.children("." + a.slideClass + ":not(." + a.slideDuplicateClass + ')[data-swiper-slide-index="' + t.attr("data-swiper-slide-index") + '"]').addClass(a.slideDuplicateNextClass) : n.children("." + a.slideClass + "." + a.slideDuplicateClass + '[data-swiper-slide-index="' + t.attr("data-swiper-slide-index") + '"]').addClass(a.slideDuplicateNextClass), i.hasClass(a.slideDuplicateClass) ? n.children("." + a.slideClass + ":not(." + a.slideDuplicateClass + ')[data-swiper-slide-index="' + i.attr("data-swiper-slide-index") + '"]').addClass(a.slideDuplicatePrevClass) : n.children("." + a.slideClass + "." + a.slideDuplicateClass + '[data-swiper-slide-index="' + i.attr("data-swiper-slide-index") + '"]').addClass(a.slideDuplicatePrevClass))
                    },
                    updateActiveIndex: function(e) {
                        var t, i, s, a = this.rtl ? this.translate: -this.translate,
                            n = this.slidesGrid,
                            r = this.snapGrid,
                            o = this.params,
                            l = this.activeIndex,
                            d = this.realIndex,
                            h = this.snapIndex,
                            p = e;
                        if (void 0 === p) {
                            for (i = 0; i < n.length; i += 1) void 0 !== n[i + 1] ? a >= n[i] && a < n[i + 1] - (n[i + 1] - n[i]) / 2 ? p = i: a >= n[i] && a < n[i + 1] && (p = i + 1) : a >= n[i] && (p = i);
                            o.normalizeSlideIndex && (p < 0 || void 0 === p) && (p = 0)
                        } (t = 0 <= r.indexOf(a) ? r.indexOf(a) : Math.floor(p / o.slidesPerGroup)) >= r.length && (t = r.length - 1),
                            p !== l ? (s = parseInt(this.slides.eq(p).attr("data-swiper-slide-index") || p, 10), I.extend(this, {
                                snapIndex: t,
                                realIndex: s,
                                previousIndex: l,
                                activeIndex: p
                            }), this.emit("activeIndexChange"), this.emit("snapIndexChange"), d !== s && this.emit("realIndexChange"), this.emit("slideChange")) : t !== h && (this.snapIndex = t, this.emit("snapIndexChange"))
                    },
                    updateClickedSlide: function(e) {
                        var t, i = this.params,
                            s = $(e.target).closest("." + i.slideClass)[0],
                            a = !1;
                        if (s) for (t = 0; t < this.slides.length; t += 1) this.slides[t] === s && (a = !0);
                        if (!s || !a) return this.clickedSlide = void 0,
                            void(this.clickedIndex = void 0);
                        this.clickedSlide = s,
                            this.virtual && this.params.virtual.enabled ? this.clickedIndex = parseInt($(s).attr("data-swiper-slide-index"), 10) : this.clickedIndex = $(s).index(),
                        i.slideToClickedSlide && void 0 !== this.clickedIndex && this.clickedIndex !== this.activeIndex && this.slideToClickedSlide()
                    }
                },
                l = {
                    getTranslate: function(e) {
                        var t, i, s, a, n;
                        return void 0 === e && (e = this.isHorizontal() ? "x": "y"),
                            t = this.params,
                            i = this.rtl,
                            s = this.translate,
                            a = this.$wrapperEl,
                            t.virtualTranslate ? i ? -s: s: (n = I.getTranslate(a[0], e), i && (n = -n), n || 0)
                    },
                    setTranslate: function(e, t) {
                        var i, s = this.rtl,
                            a = this.params,
                            n = this.$wrapperEl,
                            r = this.progress,
                            o = 0,
                            l = 0;
                        this.isHorizontal() ? o = s ? -e: e: l = e,
                        a.roundLengths && (o = Math.floor(o), l = Math.floor(l)),
                        a.virtualTranslate || (D.transforms3d ? n.transform("translate3d(" + o + "px, " + l + "px, 0px)") : n.transform("translate(" + o + "px, " + l + "px)")),
                            this.translate = this.isHorizontal() ? o: l,
                        (0 === (i = this.maxTranslate() - this.minTranslate()) ? 0 : (e - this.minTranslate()) / i) !== r && this.updateProgress(e),
                            this.emit("setTranslate", this.translate, t)
                    },
                    minTranslate: function() {
                        return - this.snapGrid[0]
                    },
                    maxTranslate: function() {
                        return - this.snapGrid[this.snapGrid.length - 1]
                    }
                },
                d = {
                    setTransition: function(e, t) {
                        this.$wrapperEl.transition(e),
                            this.emit("setTransition", e, t)
                    },
                    transitionStart: function(e) {
                        void 0 === e && (e = !0);
                        var t = this.activeIndex,
                            i = this.params,
                            s = this.previousIndex;
                        i.autoHeight && this.updateAutoHeight(),
                            this.emit("transitionStart"),
                        e && t !== s && (this.emit("slideChangeTransitionStart"), s < t ? this.emit("slideNextTransitionStart") : this.emit("slidePrevTransitionStart"))
                    },
                    transitionEnd: function(e) {
                        void 0 === e && (e = !0);
                        var t = this.activeIndex,
                            i = this.previousIndex;
                        this.animating = !1,
                            this.setTransition(0),
                            this.emit("transitionEnd"),
                        e && t !== i && (this.emit("slideChangeTransitionEnd"), i < t ? this.emit("slideNextTransitionEnd") : this.emit("slidePrevTransitionEnd"))
                    }
                },
                h = {
                    slideTo: function(e, t, i, s) {
                        var a, n, r, o, l, d, h, p, c, u, f, m;
                        if (void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === i && (i = !0), (n = e) < 0 && (n = 0), r = (a = this).params, o = a.snapGrid, l = a.slidesGrid, d = a.previousIndex, h = a.activeIndex, p = a.rtl, c = a.$wrapperEl, (u = Math.floor(n / r.slidesPerGroup)) >= o.length && (u = o.length - 1), (h || r.initialSlide || 0) === (d || 0) && i && a.emit("beforeSlideChangeStart"), f = -o[u], a.updateProgress(f), r.normalizeSlideIndex) for (m = 0; m < l.length; m += 1) - Math.floor(100 * f) >= Math.floor(100 * l[m]) && (n = m);
                        if (a.initialized) {
                            if (!a.allowSlideNext && f < a.translate && f < a.minTranslate()) return ! 1;
                            if (!a.allowSlidePrev && f > a.translate && f > a.maxTranslate() && (h || 0) !== n) return ! 1
                        }
                        return p && -f === a.translate || !p && f === a.translate ? (a.updateActiveIndex(n), r.autoHeight && a.updateAutoHeight(), a.updateSlidesClasses(), "slide" !== r.effect && a.setTranslate(f), !1) : (0 !== t && D.transition ? (a.setTransition(t), a.setTranslate(f), a.updateActiveIndex(n), a.updateSlidesClasses(), a.emit("beforeTransitionStart", t, s), a.transitionStart(i), a.animating || (a.animating = !0, c.transitionEnd(function() {
                            a && !a.destroyed && a.transitionEnd(i)
                        }))) : (a.setTransition(0), a.setTranslate(f), a.updateActiveIndex(n), a.updateSlidesClasses(), a.emit("beforeTransitionStart", t, s), a.transitionStart(i), a.transitionEnd(i)), !0)
                    },
                    slideNext: function(e, t, i) {
                        void 0 === e && (e = this.params.speed),
                        void 0 === t && (t = !0);
                        var s = this.params,
                            a = this.animating;
                        return s.loop ? !a && (this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft, this.slideTo(this.activeIndex + s.slidesPerGroup, e, t, i)) : this.slideTo(this.activeIndex + s.slidesPerGroup, e, t, i)
                    },
                    slidePrev: function(e, t, i) {
                        void 0 === e && (e = this.params.speed),
                        void 0 === t && (t = !0);
                        var s = this.params,
                            a = this.animating;
                        return s.loop ? !a && (this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft, this.slideTo(this.activeIndex - 1, e, t, i)) : this.slideTo(this.activeIndex - 1, e, t, i)
                    },
                    slideReset: function(e, t, i) {
                        return void 0 === e && (e = this.params.speed),
                        void 0 === t && (t = !0),
                            this.slideTo(this.activeIndex, e, t, i)
                    },
                    slideToClickedSlide: function() {
                        var e, t = this,
                            i = t.params,
                            s = t.$wrapperEl,
                            a = "auto" === i.slidesPerView ? t.slidesPerViewDynamic() : i.slidesPerView,
                            n = t.clickedIndex;
                        if (i.loop) {
                            if (t.animating) return;
                            e = parseInt($(t.clickedSlide).attr("data-swiper-slide-index"), 10),
                                i.centeredSlides ? n < t.loopedSlides - a / 2 || n > t.slides.length - t.loopedSlides + a / 2 ? (t.loopFix(), n = s.children("." + i.slideClass + '[data-swiper-slide-index="' + e + '"]:not(.' + i.slideDuplicateClass + ")").eq(0).index(), I.nextTick(function() {
                                    t.slideTo(n)
                                })) : t.slideTo(n) : n > t.slides.length - a ? (t.loopFix(), n = s.children("." + i.slideClass + '[data-swiper-slide-index="' + e + '"]:not(.' + i.slideDuplicateClass + ")").eq(0).index(), I.nextTick(function() {
                                    t.slideTo(n)
                                })) : t.slideTo(n)
                        } else t.slideTo(n)
                    }
                },
                p = {
                    loopCreate: function() {
                        var s, e, t, i, a, n, r, o, l = this,
                            d = l.params,
                            h = l.$wrapperEl;
                        if (h.children("." + d.slideClass + "." + d.slideDuplicateClass).remove(), s = h.children("." + d.slideClass), d.loopFillGroupWithBlank && (e = d.slidesPerGroup - s.length % d.slidesPerGroup) !== d.slidesPerGroup) {
                            for (t = 0; t < e; t += 1) i = $(f.createElement("div")).addClass(d.slideClass + " " + d.slideBlankClass),
                                h.append(i);
                            s = h.children("." + d.slideClass)
                        }
                        for ("auto" !== d.slidesPerView || d.loopedSlides || (d.loopedSlides = s.length), l.loopedSlides = parseInt(d.loopedSlides || d.slidesPerView, 10), l.loopedSlides += d.loopAdditionalSlides, l.loopedSlides > s.length && (l.loopedSlides = s.length), a = [], n = [], s.each(function(e, t) {
                            var i = $(t);
                            e < l.loopedSlides && n.push(t),
                            e < s.length && e >= s.length - l.loopedSlides && a.push(t),
                                i.attr("data-swiper-slide-index", e)
                        }), r = 0; r < n.length; r += 1) h.append($(n[r].cloneNode(!0)).addClass(d.slideDuplicateClass));
                        for (o = a.length - 1; 0 <= o; o -= 1) h.prepend($(a[o].cloneNode(!0)).addClass(d.slideDuplicateClass))
                    },
                    loopFix: function() {
                        var e, t = this.params,
                            i = this.activeIndex,
                            s = this.slides,
                            a = this.loopedSlides,
                            n = this.allowSlidePrev,
                            r = this.allowSlideNext;
                        this.allowSlidePrev = !0,
                            this.allowSlideNext = !0,
                            i < a ? (e = s.length - 3 * a + i, e += a, this.slideTo(e, 0, !1, !0)) : ("auto" === t.slidesPerView && 2 * a <= i || i > s.length - 2 * t.slidesPerView) && (e = -s.length + i + a, e += a, this.slideTo(e, 0, !1, !0)),
                            this.allowSlidePrev = n,
                            this.allowSlideNext = r
                    },
                    loopDestroy: function() {
                        var e = this.$wrapperEl,
                            t = this.params,
                            i = this.slides;
                        e.children("." + t.slideClass + "." + t.slideDuplicateClass).remove(),
                            i.removeAttr("data-swiper-slide-index")
                    }
                },
                u = {
                    setGrabCursor: function(e) {
                        if (!D.touch && this.params.simulateTouch) {
                            var t = this.el;
                            t.style.cursor = "move",
                                t.style.cursor = e ? "-webkit-grabbing": "-webkit-grab",
                                t.style.cursor = e ? "-moz-grabbin": "-moz-grab",
                                t.style.cursor = e ? "grabbing": "grab"
                        }
                    },
                    unsetGrabCursor: function() {
                        D.touch || (this.el.style.cursor = "")
                    }
                },
                m = {
                    appendSlide: function(e) {
                        var t, i = this.$wrapperEl,
                            s = this.params;
                        if (s.loop && this.loopDestroy(), "object" == typeof e && "length" in e) for (t = 0; t < e.length; t += 1) e[t] && i.append(e[t]);
                        else i.append(e);
                        s.loop && this.loopCreate(),
                        s.observer && D.observer || this.update()
                    },
                    prependSlide: function(e) {
                        var t, i, s = this.params,
                            a = this.$wrapperEl,
                            n = this.activeIndex;
                        if (s.loop && this.loopDestroy(), t = n + 1, "object" == typeof e && "length" in e) {
                            for (i = 0; i < e.length; i += 1) e[i] && a.prepend(e[i]);
                            t = n + e.length
                        } else a.prepend(e);
                        s.loop && this.loopCreate(),
                        s.observer && D.observer || this.update(),
                            this.slideTo(t, 0, !1)
                    },
                    removeSlide: function(e) {
                        var t, i, s, a = this.params,
                            n = this.$wrapperEl,
                            r = this.activeIndex;
                        if (a.loop && (this.loopDestroy(), this.slides = n.children("." + a.slideClass)), i = r, "object" == typeof e && "length" in e) {
                            for (s = 0; s < e.length; s += 1) t = e[s],
                            this.slides[t] && this.slides.eq(t).remove(),
                            t < i && (i -= 1);
                            i = Math.max(i, 0)
                        } else t = e,
                        this.slides[t] && this.slides.eq(t).remove(),
                        t < i && (i -= 1),
                            i = Math.max(i, 0);
                        a.loop && this.loopCreate(),
                        a.observer && D.observer || this.update(),
                            a.loop ? this.slideTo(i + this.loopedSlides, 0, !1) : this.slideTo(i, 0, !1)
                    },
                    removeAllSlides: function() {
                        for (var e = [], t = 0; t < this.slides.length; t += 1) e.push(t);
                        this.removeSlide(e)
                    }
                },
                ne = c.navigator.userAgent,
                re = {
                    ios: !1,
                    android: !1,
                    androidChrome: !1,
                    desktop: !1,
                    windows: !1,
                    iphone: !1,
                    ipod: !1,
                    ipad: !1,
                    cordova: c.cordova || c.phonegap,
                    phonegap: c.cordova || c.phonegap
                },
                oe = ne.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),
                le = ne.match(/(Android);?[\s\/]+([\d.]+)?/),
                de = ne.match(/(iPad).*OS\s([\d_]+)/),
                he = ne.match(/(iPod)(.*OS\s([\d_]+))?/),
                pe = !de && ne.match(/(iPhone\sOS|iOS)\s([\d_]+)/),
            oe && (re.os = "windows", re.osVersion = oe[2], re.windows = !0),
            le && !oe && (re.os = "android", re.osVersion = le[2], re.android = !0, re.androidChrome = 0 <= ne.toLowerCase().indexOf("chrome")),
            (de || pe || he) && (re.os = "ios", re.ios = !0),
            pe && !he && (re.osVersion = pe[2].replace(/_/g, "."), re.iphone = !0),
            de && (re.osVersion = de[2].replace(/_/g, "."), re.ipad = !0),
            he && (re.osVersion = he[3] ? he[3].replace(/_/g, ".") : null, re.iphone = !0),
            re.ios && re.osVersion && 0 <= ne.indexOf("Version/") && "10" === re.osVersion.split(".")[0] && (re.osVersion = ne.toLowerCase().split("version/")[1].split(" ")[0]),
                re.desktop = !(re.os || re.android || re.webView),
                re.webView = (pe || de || he) && ne.match(/.*AppleWebKit(?!.*Safari)/i),
            re.os && "ios" === re.os && (se = re.osVersion.split("."), ae = f.querySelector('meta[name="viewport"]'), re.minimalUi = !re.webView && (he || pe) && (1 * se[0] == 7 ? 1 <= 1 * se[1] : 7 < 1 * se[0]) && ae && 0 <= ae.getAttribute("content").indexOf("minimal-ui")),
                re.pixelRatio = c.devicePixelRatio || 1,
                v = re,
                T = {
                    init: !0,
                    direction: "horizontal",
                    touchEventsTarget: "container",
                    initialSlide: 0,
                    speed: 300,
                    iOSEdgeSwipeDetection: !(x = function(e) {
                        this.allowClick || (this.params.preventClicks && e.preventDefault(), this.params.preventClicksPropagation && this.animating && (e.stopPropagation(), e.stopImmediatePropagation()))
                    }),
                    iOSEdgeSwipeThreshold: 20,
                    freeMode: !(y = function() {
                        var e, t, i, s = this.params,
                            a = this.el;
                        a && 0 === a.offsetWidth || (s.breakpoints && this.setBreakpoint(), e = this.allowSlideNext, t = this.allowSlidePrev, this.allowSlideNext = !0, this.allowSlidePrev = !0, this.updateSize(), this.updateSlides(), s.freeMode ? (i = Math.min(Math.max(this.translate, this.maxTranslate()), this.minTranslate()), this.setTranslate(i), this.updateActiveIndex(), this.updateSlidesClasses(), s.autoHeight && this.updateAutoHeight()) : (this.updateSlidesClasses(), ("auto" === s.slidesPerView || 1 < s.slidesPerView) && this.isEnd && !this.params.centeredSlides ? this.slideTo(this.slides.length - 1, 0, !1, !0) : this.slideTo(this.activeIndex, 0, !1, !0)), this.allowSlidePrev = t, this.allowSlideNext = e)
                    }),
                    freeModeMomentum: !0,
                    freeModeMomentumRatio: 1,
                    freeModeMomentumBounce: !0,
                    freeModeMomentumBounceRatio: 1,
                    freeModeMomentumVelocityRatio: 1,
                    freeModeSticky: !(w = function(e) {
                        var t, i, s, a, n, r, o, l, d, h, p, c, u, f, m, v, g, b, w, y = this,
                            x = y.touchEventsData,
                            T = y.params,
                            E = y.touches,
                            S = y.rtl,
                            C = y.$wrapperEl,
                            M = y.slidesGrid,
                            z = y.snapGrid,
                            P = e;
                        if (P.originalEvent && (P = P.originalEvent), x.allowTouchCallbacks && y.emit("touchEnd", P), x.allowTouchCallbacks = !1, x.isTouched) {
                            if (T.grabCursor && x.isMoved && x.isTouched && (!0 === y.allowSlideNext || !0 === y.allowSlidePrev) && y.setGrabCursor(!1), s = (i = I.now()) - x.touchStartTime, y.allowClick && (y.updateClickedSlide(P), y.emit("tap", P), s < 300 && 300 < i - x.lastClickTime && (x.clickTimeout && clearTimeout(x.clickTimeout), x.clickTimeout = I.nextTick(function() {
                                    y && !y.destroyed && y.emit("click", P)
                                },
                                300)), s < 300 && i - x.lastClickTime < 300 && (x.clickTimeout && clearTimeout(x.clickTimeout), y.emit("doubleTap", P))), x.lastClickTime = I.now(), I.nextTick(function() {
                                y.destroyed || (y.allowClick = !0)
                            }), !x.isTouched || !x.isMoved || !y.swipeDirection || 0 === E.diff || x.currentTranslate === x.startTranslate) return x.isTouched = !1,
                                void(x.isMoved = !1);
                            if (x.isTouched = !1, x.isMoved = !1, t = T.followFinger ? S ? y.translate: -y.translate: -x.currentTranslate, T.freeMode) {
                                if (t < -y.minTranslate()) return void y.slideTo(y.activeIndex);
                                if (t > -y.maxTranslate()) return void(y.slides.length < z.length ? y.slideTo(z.length - 1) : y.slideTo(y.slides.length - 1));
                                if (T.freeModeMomentum) {
                                    if (1 < x.velocities.length ? (a = x.velocities.pop(), n = x.velocities.pop(), r = a.position - n.position, o = a.time - n.time, y.velocity = r / o, y.velocity /= 2, Math.abs(y.velocity) < T.freeModeMinimumVelocity && (y.velocity = 0), (150 < o || 300 < I.now() - a.time) && (y.velocity = 0)) : y.velocity = 0, y.velocity *= T.freeModeMomentumVelocityRatio, x.velocities.length = 0, l = 1e3 * T.freeModeMomentumRatio, d = y.velocity * l, h = y.translate + d, S && (h = -h), c = !1, u = 20 * Math.abs(y.velocity) * T.freeModeMomentumBounceRatio, h < y.maxTranslate()) T.freeModeMomentumBounce ? (h + y.maxTranslate() < -u && (h = y.maxTranslate() - u), p = y.maxTranslate(), c = !0, x.allowMomentumBounce = !0) : h = y.maxTranslate();
                                    else if (h > y.minTranslate()) T.freeModeMomentumBounce ? (h - y.minTranslate() > u && (h = y.minTranslate() + u), p = y.minTranslate(), c = !0, x.allowMomentumBounce = !0) : h = y.minTranslate();
                                    else if (T.freeModeSticky) {
                                        for (m = 0; m < z.length; m += 1) if (z[m] > -h) {
                                            f = m;
                                            break
                                        }
                                        h = -(h = Math.abs(z[f] - h) < Math.abs(z[f - 1] - h) || "next" === y.swipeDirection ? z[f] : z[f - 1])
                                    }
                                    if (0 !== y.velocity) l = S ? Math.abs(( - h - y.translate) / y.velocity) : Math.abs((h - y.translate) / y.velocity);
                                    else if (T.freeModeSticky) return void y.slideReset();
                                    T.freeModeMomentumBounce && c ? (y.updateProgress(p), y.setTransition(l), y.setTranslate(h), y.transitionStart(), y.animating = !0, C.transitionEnd(function() {
                                        y && !y.destroyed && x.allowMomentumBounce && (y.emit("momentumBounce"), y.setTransition(T.speed), y.setTranslate(p), C.transitionEnd(function() {
                                            y && !y.destroyed && y.transitionEnd()
                                        }))
                                    })) : y.velocity ? (y.updateProgress(h), y.setTransition(l), y.setTranslate(h), y.transitionStart(), y.animating || (y.animating = !0, C.transitionEnd(function() {
                                        y && !y.destroyed && y.transitionEnd()
                                    }))) : y.updateProgress(h),
                                        y.updateActiveIndex(),
                                        y.updateSlidesClasses()
                                } (!T.freeModeMomentum || s >= T.longSwipesMs) && (y.updateProgress(), y.updateActiveIndex(), y.updateSlidesClasses())
                            } else {
                                for (v = 0, g = y.slidesSizesGrid[0], b = 0; b < M.length; b += T.slidesPerGroup) void 0 !== M[b + T.slidesPerGroup] ? t >= M[b] && t < M[b + T.slidesPerGroup] && (g = M[(v = b) + T.slidesPerGroup] - M[b]) : t >= M[b] && (v = b, g = M[M.length - 1] - M[M.length - 2]);
                                if (w = (t - M[v]) / g, s > T.longSwipesMs) {
                                    if (!T.longSwipes) return void y.slideTo(y.activeIndex);
                                    "next" === y.swipeDirection && (w >= T.longSwipesRatio ? y.slideTo(v + T.slidesPerGroup) : y.slideTo(v)),
                                    "prev" === y.swipeDirection && (w > 1 - T.longSwipesRatio ? y.slideTo(v + T.slidesPerGroup) : y.slideTo(v))
                                } else {
                                    if (!T.shortSwipes) return void y.slideTo(y.activeIndex);
                                    "next" === y.swipeDirection && y.slideTo(v + T.slidesPerGroup),
                                    "prev" === y.swipeDirection && y.slideTo(v)
                                }
                            }
                        }
                    }),
                    freeModeMinimumVelocity: .02,
                    autoHeight: !(b = function(e) {
                        var t, i, s, a, n, r, o, l, d = this.touchEventsData,
                            h = this.params,
                            p = this.touches,
                            c = this.rtl,
                            u = e;
                        if (u.originalEvent && (u = u.originalEvent), !d.isTouchEvent || "mousemove" !== u.type) {
                            if (t = "touchmove" === u.type ? u.targetTouches[0].pageX: u.pageX, i = "touchmove" === u.type ? u.targetTouches[0].pageY: u.pageY, u.preventedByNestedSwiper) return p.startX = t,
                                void(p.startY = i);
                            if (!this.allowTouchMove) return this.allowClick = !1,
                                void(d.isTouched && (I.extend(p, {
                                    startX: t,
                                    startY: i,
                                    currentX: t,
                                    currentY: i
                                }), d.touchStartTime = I.now()));
                            if (d.isTouchEvent && h.touchReleaseOnEdges && !h.loop) if (this.isVertical()) {
                                if (i < p.startY && this.translate <= this.maxTranslate() || i > p.startY && this.translate >= this.minTranslate()) return d.isTouched = !1,
                                    void(d.isMoved = !1)
                            } else if (t < p.startX && this.translate <= this.maxTranslate() || t > p.startX && this.translate >= this.minTranslate()) return;
                            if (d.isTouchEvent && f.activeElement && u.target === f.activeElement && $(u.target).is(d.formElements)) return d.isMoved = !0,
                                void(this.allowClick = !1);
                            if (d.allowTouchCallbacks && this.emit("touchMove", u), !(u.targetTouches && 1 < u.targetTouches.length) && (p.currentX = t, p.currentY = i, a = p.currentX - p.startX, n = p.currentY - p.startY, void 0 === d.isScrolling && (this.isHorizontal() && p.currentY === p.startY || this.isVertical() && p.currentX === p.startX ? d.isScrolling = !1 : 25 <= a * a + n * n && (s = 180 * Math.atan2(Math.abs(n), Math.abs(a)) / Math.PI, d.isScrolling = this.isHorizontal() ? s > h.touchAngle: 90 - s > h.touchAngle)), d.isScrolling && this.emit("touchMoveOpposite", u), "undefined" == typeof startMoving && (p.currentX === p.startX && p.currentY === p.startY || (d.startMoving = !0)), d.isTouched)) if (d.isScrolling) d.isTouched = !1;
                            else if (d.startMoving) {
                                if (this.allowClick = !1, u.preventDefault(), h.touchMoveStopPropagation && !h.nested && u.stopPropagation(), d.isMoved || (h.loop && this.loopFix(), d.startTranslate = this.getTranslate(), this.setTransition(0), this.animating && this.$wrapperEl.trigger("webkitTransitionEnd transitionend"), d.allowMomentumBounce = !1, !h.grabCursor || !0 !== this.allowSlideNext && !0 !== this.allowSlidePrev || this.setGrabCursor(!0), this.emit("sliderFirstMove", u)), this.emit("sliderMove", u), d.isMoved = !0, r = this.isHorizontal() ? a: n, p.diff = r, r *= h.touchRatio, c && (r = -r), this.swipeDirection = 0 < r ? "prev": "next", d.currentTranslate = r + d.startTranslate, o = !0, l = h.resistanceRatio, h.touchReleaseOnEdges && (l = 0), 0 < r && d.currentTranslate > this.minTranslate() ? (o = !1, h.resistance && (d.currentTranslate = this.minTranslate() - 1 + Math.pow( - this.minTranslate() + d.startTranslate + r, l))) : r < 0 && d.currentTranslate < this.maxTranslate() && (o = !1, h.resistance && (d.currentTranslate = this.maxTranslate() + 1 - Math.pow(this.maxTranslate() - d.startTranslate - r, l))), o && (u.preventedByNestedSwiper = !0), !this.allowSlideNext && "next" === this.swipeDirection && d.currentTranslate < d.startTranslate && (d.currentTranslate = d.startTranslate), !this.allowSlidePrev && "prev" === this.swipeDirection && d.currentTranslate > d.startTranslate && (d.currentTranslate = d.startTranslate), 0 < h.threshold) {
                                    if (! (Math.abs(r) > h.threshold || d.allowThresholdMove)) return void(d.currentTranslate = d.startTranslate);
                                    if (!d.allowThresholdMove) return d.allowThresholdMove = !0,
                                        p.startX = p.currentX,
                                        p.startY = p.currentY,
                                        d.currentTranslate = d.startTranslate,
                                        void(p.diff = this.isHorizontal() ? p.currentX - p.startX: p.currentY - p.startY)
                                }
                                h.followFinger && ((h.freeMode || h.watchSlidesProgress || h.watchSlidesVisibility) && (this.updateActiveIndex(), this.updateSlidesClasses()), h.freeMode && (0 === d.velocities.length && d.velocities.push({
                                    position: p[this.isHorizontal() ? "startX": "startY"],
                                    time: d.touchStartTime
                                }), d.velocities.push({
                                    position: p[this.isHorizontal() ? "currentX": "currentY"],
                                    time: I.now()
                                })), this.updateProgress(d.currentTranslate), this.setTranslate(d.currentTranslate))
                            }
                        }
                    }),
                    setWrapperSize: !(g = function(e) {
                        var t, i, s, a = this.touchEventsData,
                            n = this.params,
                            r = this.touches,
                            o = e;
                        o.originalEvent && (o = o.originalEvent),
                            a.isTouchEvent = "touchstart" === o.type,
                        !a.isTouchEvent && "which" in o && 3 === o.which || a.isTouched && a.isMoved || (n.noSwiping && $(o.target).closest("." + n.noSwipingClass)[0] ? this.allowClick = !0 : n.swipeHandler && !$(o).closest(n.swipeHandler)[0] || (r.currentX = "touchstart" === o.type ? o.targetTouches[0].pageX: o.pageX, r.currentY = "touchstart" === o.type ? o.targetTouches[0].pageY: o.pageY, t = r.currentX, i = r.currentY, v.ios && !v.cordova && n.iOSEdgeSwipeDetection && t <= n.iOSEdgeSwipeThreshold && t >= window.screen.width - n.iOSEdgeSwipeThreshold || (I.extend(a, {
                            isTouched: !0,
                            isMoved: !1,
                            allowTouchCallbacks: !0,
                            isScrolling: void 0,
                            startMoving: void 0
                        }), r.startX = t, r.startY = i, a.touchStartTime = I.now(), this.allowClick = !0, this.updateSize(), this.swipeDirection = void 0, 0 < n.threshold && (a.allowThresholdMove = !1), "touchstart" !== o.type && (s = !0, $(o.target).is(a.formElements) && (s = !1), f.activeElement && $(f.activeElement).is(a.formElements) && f.activeElement.blur(), s && this.allowTouchMove && o.preventDefault()), this.emit("touchStart", o))))
                    }),
                    virtualTranslate: !1,
                    effect: "slide",
                    breakpoints: void 0,
                    spaceBetween: 0,
                    slidesPerView: 1,
                    slidesPerColumn: 1,
                    slidesPerColumnFill: "column",
                    slidesPerGroup: 1,
                    centeredSlides: !1,
                    slidesOffsetBefore: 0,
                    slidesOffsetAfter: 0,
                    normalizeSlideIndex: !0,
                    watchOverflow: !1,
                    roundLengths: !1,
                    touchRatio: 1,
                    touchAngle: 45,
                    simulateTouch: !0,
                    shortSwipes: !0,
                    longSwipes: !0,
                    longSwipesRatio: .5,
                    longSwipesMs: 300,
                    followFinger: !0,
                    allowTouchMove: !0,
                    threshold: 0,
                    touchMoveStopPropagation: !0,
                    touchReleaseOnEdges: !1,
                    uniqueNavElements: !0,
                    resistance: !0,
                    resistanceRatio: .85,
                    watchSlidesProgress: !1,
                    watchSlidesVisibility: !1,
                    grabCursor: !1,
                    preventClicks: !0,
                    preventClicksPropagation: !0,
                    slideToClickedSlide: !1,
                    preloadImages: !0,
                    updateOnImagesReady: !0,
                    loop: !1,
                    loopAdditionalSlides: 0,
                    loopedSlides: null,
                    loopFillGroupWithBlank: !1,
                    allowSlidePrev: !0,
                    allowSlideNext: !0,
                    swipeHandler: null,
                    noSwiping: !0,
                    noSwipingClass: "swiper-no-swiping",
                    passiveListeners: !0,
                    containerModifierClass: "swiper-container-",
                    slideClass: "swiper-slide",
                    slideBlankClass: "swiper-slide-invisible-blank",
                    slideActiveClass: "swiper-slide-active",
                    slideDuplicateActiveClass: "swiper-slide-duplicate-active",
                    slideVisibleClass: "swiper-slide-visible",
                    slideDuplicateClass: "swiper-slide-duplicate",
                    slideNextClass: "swiper-slide-next",
                    slideDuplicateNextClass: "swiper-slide-duplicate-next",
                    slidePrevClass: "swiper-slide-prev",
                    slideDuplicatePrevClass: "swiper-slide-duplicate-prev",
                    wrapperClass: "swiper-wrapper",
                    runCallbacksOnInit: !0
                },
                E = {
                    update: o,
                    translate: l,
                    transition: d,
                    slide: h,
                    loop: p,
                    grabCursor: u,
                    manipulation: m,
                    events: {
                        attachEvents: function() {
                            var e, t, i, s = this.params,
                                a = this.touchEvents,
                                n = this.el,
                                r = this.wrapperEl;
                            this.onTouchStart = g.bind(this),
                                this.onTouchMove = b.bind(this),
                                this.onTouchEnd = w.bind(this),
                                this.onClick = x.bind(this),
                                e = "container" === s.touchEventsTarget ? n: r,
                                t = !!s.nested,
                                D.pointerEvents || D.prefixedPointerEvents ? (e.addEventListener(a.start, this.onTouchStart, !1), (D.touch ? e: f).addEventListener(a.move, this.onTouchMove, t), (D.touch ? e: f).addEventListener(a.end, this.onTouchEnd, !1)) : (D.touch && (i = !("touchstart" !== a.start || !D.passiveListener || !s.passiveListeners) && {
                                    passive: !0,
                                    capture: !1
                                },
                                    e.addEventListener(a.start, this.onTouchStart, i), e.addEventListener(a.move, this.onTouchMove, D.passiveListener ? {
                                    passive: !1,
                                    capture: t
                                }: t), e.addEventListener(a.end, this.onTouchEnd, i)), (s.simulateTouch && !v.ios && !v.android || s.simulateTouch && !D.touch && v.ios) && (e.addEventListener("mousedown", this.onTouchStart, !1), f.addEventListener("mousemove", this.onTouchMove, t), f.addEventListener("mouseup", this.onTouchEnd, !1))),
                            (s.preventClicks || s.preventClicksPropagation) && e.addEventListener("click", this.onClick, !0),
                                this.on("resize observerUpdate", y)
                        },
                        detachEvents: function() {
                            var e, t = this.params,
                                i = this.touchEvents,
                                s = this.el,
                                a = this.wrapperEl,
                                n = "container" === t.touchEventsTarget ? s: a,
                                r = !!t.nested;
                            D.pointerEvents || D.prefixedPointerEvents ? (n.removeEventListener(i.start, this.onTouchStart, !1), (D.touch ? n: f).removeEventListener(i.move, this.onTouchMove, r), (D.touch ? n: f).removeEventListener(i.end, this.onTouchEnd, !1)) : (D.touch && (e = !("onTouchStart" !== i.start || !D.passiveListener || !t.passiveListeners) && {
                                passive: !0,
                                capture: !1
                            },
                                n.removeEventListener(i.start, this.onTouchStart, e), n.removeEventListener(i.move, this.onTouchMove, r), n.removeEventListener(i.end, this.onTouchEnd, e)), (t.simulateTouch && !v.ios && !v.android || t.simulateTouch && !D.touch && v.ios) && (n.removeEventListener("mousedown", this.onTouchStart, !1), f.removeEventListener("mousemove", this.onTouchMove, r), f.removeEventListener("mouseup", this.onTouchEnd, !1))),
                            (t.preventClicks || t.preventClicksPropagation) && n.removeEventListener("click", this.onClick, !0),
                                this.off("resize observerUpdate", y)
                        }
                    },
                    breakpoints: {
                        setBreakpoint: function() {
                            var e, t, i, s, a, n = this.activeIndex,
                                r = this.loopedSlides;
                            void 0 === r && (r = 0),
                            !(t = (e = this.params).breakpoints) || t && 0 === Object.keys(t).length || (i = this.getBreakpoint(t)) && this.currentBreakpoint !== i && (s = i in t ? t[i] : this.originalParams, a = e.loop && s.slidesPerView !== e.slidesPerView, I.extend(this.params, s), I.extend(this, {
                                allowTouchMove: this.params.allowTouchMove,
                                allowSlideNext: this.params.allowSlideNext,
                                allowSlidePrev: this.params.allowSlidePrev
                            }), this.currentBreakpoint = i, a && (this.loopDestroy(), this.loopCreate(), this.updateSlides(), this.slideTo(n - r + this.loopedSlides, 0, !1)), this.emit("breakpoint", s))
                        },
                        getBreakpoint: function(e) {
                            var t, i, s, a;
                            if (e) {
                                for (t = !1, i = [], Object.keys(e).forEach(function(e) {
                                    i.push(e)
                                }), i.sort(function(e, t) {
                                    return parseInt(e, 10) - parseInt(t, 10)
                                }), s = 0; s < i.length; s += 1)(a = i[s]) >= c.innerWidth && !t && (t = a);
                                return t || "max"
                            }
                        }
                    },
                    checkOverflow: {
                        checkOverflow: function() {
                            var e = this.isLocked;
                            this.isLocked = 1 === this.snapGrid.length,
                                this.allowTouchMove = !this.isLocked,
                            e && e !== this.isLocked && (this.isEnd = !1, this.navigation.update())
                        }
                    },
                    classes: {
                        addClasses: function() {
                            var t = this.classNames,
                                i = this.params,
                                e = this.rtl,
                                s = this.$el,
                                a = [];
                            a.push(i.direction),
                            i.freeMode && a.push("free-mode"),
                            D.flexbox || a.push("no-flexbox"),
                            i.autoHeight && a.push("autoheight"),
                            e && a.push("rtl"),
                            1 < i.slidesPerColumn && a.push("multirow"),
                            v.android && a.push("android"),
                            v.ios && a.push("ios"),
                            (D.pointerEvents || D.prefixedPointerEvents) && a.push("wp8-" + i.direction),
                                a.forEach(function(e) {
                                    t.push(i.containerModifierClass + e)
                                }),
                                s.addClass(t.join(" "))
                        },
                        removeClasses: function() {
                            var e = this.$el,
                                t = this.classNames;
                            e.removeClass(t.join(" "))
                        }
                    },
                    images: {
                        loadImage: function(e, t, i, s, a, n) {
                            function r() {
                                n && n()
                            }
                            var o;
                            e.complete && a ? r() : t ? ((o = new c.Image).onload = r, o.onerror = r, s && (o.sizes = s), i && (o.srcset = i), t && (o.src = t)) : r()
                        },
                        preloadImages: function() {
                            function e() {
                                null != s && s && !s.destroyed && (void 0 !== s.imagesLoaded && (s.imagesLoaded += 1), s.imagesLoaded === s.imagesToLoad.length && (s.params.updateOnImagesReady && s.update(), s.emit("imagesReady")))
                            }
                            var t, i, s = this;
                            for (s.imagesToLoad = s.$el.find("img"), t = 0; t < s.imagesToLoad.length; t += 1) i = s.imagesToLoad[t],
                                s.loadImage(i, i.currentSrc || i.getAttribute("src"), i.srcset || i.getAttribute("srcset"), i.sizes || i.getAttribute("sizes"), !0, e)
                        }
                    }
                },
                S = {},
                C = function(c) {
                    function u() {
                        var e, a, t, i, s, n, r, o, l, d, h, p;
                        for (i = [], s = arguments.length; s--;) i[s] = arguments[s];
                        if ((a = 1 === i.length && i[0].constructor && i[0].constructor === Object ? i[0] : (e = (t = i)[0], t[1])) || (a = {}), a = I.extend({},
                            a), e && !a.el && (a.el = e), c.call(this, a), Object.keys(E).forEach(function(t) {
                            Object.keys(E[t]).forEach(function(e) {
                                u.prototype[e] || (u.prototype[e] = E[t][e])
                            })
                        }), void 0 === (n = this).modules && (n.modules = {}), Object.keys(n.modules).forEach(function(e) {
                            var t, i, s = n.modules[e];
                            if (s.params) {
                                if (t = Object.keys(s.params)[0], "object" != typeof(i = s.params[t])) return;
                                if (! (t in a && "enabled" in i)) return; ! 0 === a[t] && (a[t] = {
                                    enabled: !0
                                }),
                                "object" != typeof a[t] || "enabled" in a[t] || (a[t].enabled = !0),
                                a[t] || (a[t] = {
                                    enabled: !1
                                })
                            }
                        }), r = I.extend({},
                            T), n.useModulesParams(r), n.params = I.extend({},
                            r, S, a), n.originalParams = I.extend({},
                            n.params), n.passedParams = I.extend({},
                            a), e = (o = $(n.params.el))[0]) return 1 < o.length ? (l = [], o.each(function(e, t) {
                            var i = I.extend({},
                                a, {
                                    el: t
                                });
                            l.push(new u(i))
                        }), l) : (e.swiper = n, o.data("swiper", n), p = o.children("." + n.params.wrapperClass), I.extend(n, {
                            $el: o,
                            el: e,
                            $wrapperEl: p,
                            wrapperEl: p[0],
                            classNames: [],
                            slides: $(),
                            slidesGrid: [],
                            snapGrid: [],
                            slidesSizesGrid: [],
                            isHorizontal: function() {
                                return "horizontal" === n.params.direction
                            },
                            isVertical: function() {
                                return "vertical" === n.params.direction
                            },
                            rtl: "horizontal" === n.params.direction && ("rtl" === e.dir.toLowerCase() || "rtl" === o.css("direction")),
                            wrongRTL: "-webkit-box" === p.css("display"),
                            activeIndex: 0,
                            realIndex: 0,
                            isBeginning: !0,
                            isEnd: !1,
                            translate: 0,
                            progress: 0,
                            velocity: 0,
                            animating: !1,
                            allowSlideNext: n.params.allowSlideNext,
                            allowSlidePrev: n.params.allowSlidePrev,
                            touchEvents: (d = ["touchstart", "touchmove", "touchend"], h = ["mousedown", "mousemove", "mouseup"], D.pointerEvents ? h = ["pointerdown", "pointermove", "pointerup"] : D.prefixedPointerEvents && (h = ["MSPointerDown", "MSPointerMove", "MSPointerUp"]), {
                                start: D.touch || !n.params.simulateTouch ? d[0] : h[0],
                                move: D.touch || !n.params.simulateTouch ? d[1] : h[1],
                                end: D.touch || !n.params.simulateTouch ? d[2] : h[2]
                            }),
                            touchEventsData: {
                                isTouched: void 0,
                                isMoved: void 0,
                                allowTouchCallbacks: void 0,
                                touchStartTime: void 0,
                                isScrolling: void 0,
                                currentTranslate: void 0,
                                startTranslate: void 0,
                                allowThresholdMove: void 0,
                                formElements: "input, select, option, textarea, button, video",
                                lastClickTime: I.now(),
                                clickTimeout: void 0,
                                velocities: [],
                                allowMomentumBounce: void 0,
                                isTouchEvent: void 0,
                                startMoving: void 0
                            },
                            allowClick: !0,
                            allowTouchMove: n.params.allowTouchMove,
                            touches: {
                                startX: 0,
                                startY: 0,
                                currentX: 0,
                                currentY: 0,
                                diff: 0
                            },
                            imagesToLoad: [],
                            imagesLoaded: 0
                        }), n.useModules(), n.params.init && n.init(), n)
                    }
                    c && (u.__proto__ = c);
                    var e = {
                        extendedDefaults: {
                            configurable: !0
                        },
                        defaults: {
                            configurable: !0
                        },
                        Class: {
                            configurable: !0
                        },
                        $: {
                            configurable: !0
                        }
                    };
                    return ((u.prototype = Object.create(c && c.prototype)).constructor = u).prototype.slidesPerViewDynamic = function() {
                        var e, t, i, s, a, n = this.params,
                            r = this.slides,
                            o = this.slidesGrid,
                            l = this.size,
                            d = this.activeIndex,
                            h = 1;
                        if (n.centeredSlides) {
                            for (t = r[d].swiperSlideSize, i = d + 1; i < r.length; i += 1) r[i] && !e && (h += 1, (t += r[i].swiperSlideSize) > l && (e = !0));
                            for (s = d - 1; 0 <= s; s -= 1) r[s] && !e && (h += 1, (t += r[s].swiperSlideSize) > l && (e = !0))
                        } else for (a = d + 1; a < r.length; a += 1) o[a] - o[d] < l && (h += 1);
                        return h
                    },
                        u.prototype.update = function() {
                            function e() {
                                var e = i.rtl ? -1 * i.translate: i.translate,
                                    t = Math.min(Math.max(e, i.maxTranslate()), i.minTranslate());
                                i.setTranslate(t),
                                    i.updateActiveIndex(),
                                    i.updateSlidesClasses()
                            }
                            var i = this;
                            i && !i.destroyed && (i.updateSize(), i.updateSlides(), i.updateProgress(), i.updateSlidesClasses(), i.params.freeMode ? (e(), i.params.autoHeight && i.updateAutoHeight()) : (("auto" === i.params.slidesPerView || 1 < i.params.slidesPerView) && i.isEnd && !i.params.centeredSlides ? i.slideTo(i.slides.length - 1, 0, !1, !0) : i.slideTo(i.activeIndex, 0, !1, !0)) || e(), i.emit("update"))
                        },
                        u.prototype.init = function() {
                            this.initialized || (this.emit("beforeInit"), this.params.breakpoints && this.setBreakpoint(), this.addClasses(), this.params.loop && this.loopCreate(), this.updateSize(), this.updateSlides(), this.params.watchOverflow && this.checkOverflow(), this.params.grabCursor && this.setGrabCursor(), this.params.preloadImages && this.preloadImages(), this.params.loop ? this.slideTo(this.params.initialSlide + this.loopedSlides, 0, this.params.runCallbacksOnInit) : this.slideTo(this.params.initialSlide, 0, this.params.runCallbacksOnInit), this.attachEvents(), this.initialized = !0, this.emit("init"))
                        },
                        u.prototype.destroy = function(e, t) {
                            void 0 === e && (e = !0),
                            void 0 === t && (t = !0);
                            var i = this,
                                s = i.params,
                                a = i.$el,
                                n = i.$wrapperEl,
                                r = i.slides;
                            i.emit("beforeDestroy"),
                                i.initialized = !1,
                                i.detachEvents(),
                            s.loop && i.loopDestroy(),
                            t && (i.removeClasses(), a.removeAttr("style"), n.removeAttr("style"), r && r.length && r.removeClass([s.slideVisibleClass, s.slideActiveClass, s.slideNextClass, s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),
                                i.emit("destroy"),
                                Object.keys(i.eventsListeners).forEach(function(e) {
                                    i.off(e)
                                }),
                            !1 !== e && (i.$el[0].swiper = null, i.$el.data("swiper", null), I.deleteProps(i)),
                                i.destroyed = !0
                        },
                        u.extendDefaults = function(e) {
                            I.extend(S, e)
                        },
                        e.extendedDefaults.get = function() {
                            return S
                        },
                        e.defaults.get = function() {
                            return T
                        },
                        e.Class.get = function() {
                            return c
                        },
                        e.$.get = function() {
                            return $
                        },
                        Object.defineProperties(u, e),
                        u
                } (a),
                M = {
                    name: "device",
                    proto: {
                        device: v
                    },
                    static: {
                        device: v
                    }
                },
                z = {
                    name: "support",
                    proto: {
                        support: D
                    },
                    static: {
                        support: D
                    }
                },
                P = {
                    name: "browser",
                    proto: {
                        browser: L = {
                            isSafari: (ce = c.navigator.userAgent.toLowerCase(), 0 <= ce.indexOf("safari") && ce.indexOf("chrome") < 0 && ce.indexOf("android") < 0),
                            isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(c.navigator.userAgent)
                        }
                    },
                    static: {
                        browser: L
                    }
                },
                k = {
                    name: "resize",
                    create: function() {
                        var e = this;
                        I.extend(e, {
                            resize: {
                                resizeHandler: function() {
                                    e && !e.destroyed && e.initialized && (e.emit("beforeResize"), e.emit("resize"))
                                },
                                orientationChangeHandler: function() {
                                    e && !e.destroyed && e.initialized && e.emit("orientationchange")
                                }
                            }
                        })
                    },
                    on: {
                        init: function() {
                            c.addEventListener("resize", this.resize.resizeHandler),
                                c.addEventListener("orientationchange", this.resize.orientationChangeHandler)
                        },
                        destroy: function() {
                            c.removeEventListener("resize", this.resize.resizeHandler),
                                c.removeEventListener("orientationchange", this.resize.orientationChangeHandler)
                        }
                    }
                },
                A = {
                    name: "observer",
                    params: {
                        observer: !(O = {
                            func: c.MutationObserver || c.WebkitMutationObserver,
                            attach: function(e, t) {
                                void 0 === t && (t = {});
                                var i = this,
                                    s = new O.func(function(e) {
                                        e.forEach(function(e) {
                                            i.emit("observerUpdate", e)
                                        })
                                    });
                                s.observe(e, {
                                    attributes: void 0 === t.attributes || t.attributes,
                                    childList: void 0 === t.childList || t.childList,
                                    characterData: void 0 === t.characterData || t.characterData
                                }),
                                    i.observer.observers.push(s)
                            },
                            init: function() {
                                if (D.observer && this.params.observer) {
                                    if (this.params.observeParents) for (var e = this.$el.parents(), t = 0; t < e.length; t += 1) this.observer.attach(e[t]);
                                    this.observer.attach(this.$el[0], {
                                        childList: !1
                                    }),
                                        this.observer.attach(this.$wrapperEl[0], {
                                            attributes: !1
                                        })
                                }
                            },
                            destroy: function() {
                                this.observer.observers.forEach(function(e) {
                                    e.disconnect()
                                }),
                                    this.observer.observers = []
                            }
                        }),
                        observeParents: !1
                    },
                    create: function() {
                        I.extend(this, {
                            observer: {
                                init: O.init.bind(this),
                                attach: O.attach.bind(this),
                                destroy: O.destroy.bind(this),
                                observers: []
                            }
                        })
                    },
                    on: {
                        init: function() {
                            this.observer.init()
                        },
                        destroy: function() {
                            this.observer.destroy()
                        }
                    }
                },
                N = {
                    name: "virtual",
                    params: {
                        virtual: {
                            enabled: !(H = {
                                update: function(e) {
                                    function t() {
                                        u.updateSlides(),
                                            u.updateProgress(),
                                            u.updateSlidesClasses(),
                                        u.lazy && u.params.lazy.enabled && u.lazy.load()
                                    }
                                    var i, s, a, n, r, o, l, d, h, p, c, u = this,
                                        f = u.params,
                                        m = f.slidesPerView,
                                        v = f.slidesPerGroup,
                                        g = f.centeredSlides,
                                        b = u.virtual,
                                        w = b.from,
                                        y = b.to,
                                        x = b.slides,
                                        T = b.slidesGrid,
                                        E = b.renderSlide,
                                        S = b.offset;
                                    if (u.updateActiveIndex(), n = u.activeIndex || 0, i = u.rtl && u.isHorizontal() ? "right": u.isHorizontal() ? "left": "top", a = g ? (s = Math.floor(m / 2) + v, Math.floor(m / 2) + v) : (s = m + (v - 1), v), r = Math.max((n || 0) - a, 0), o = Math.min((n || 0) + s, x.length - 1), l = (u.slidesGrid[r] || 0) - (u.slidesGrid[0] || 0), I.extend(u.virtual, {
                                        from: r,
                                        to: o,
                                        offset: l,
                                        slidesGrid: u.slidesGrid
                                    }), w === r && y === o && !e) return u.slidesGrid !== T && l !== S && u.slides.css(i, l + "px"),
                                        void u.updateProgress();
                                    if (u.params.virtual.renderExternal) return u.params.virtual.renderExternal.call(u, {
                                        offset: l,
                                        from: r,
                                        to: o,
                                        slides: function() {
                                            for (var e = [], t = r; t <= o; t += 1) e.push(x[t]);
                                            return e
                                        } ()
                                    }),
                                        void t();
                                    if (d = [], h = [], e) u.$wrapperEl.find("." + u.params.slideClass).remove();
                                    else for (p = w; p <= y; p += 1)(p < r || o < p) && u.$wrapperEl.find("." + u.params.slideClass + '[data-swiper-slide-index="' + p + '"]').remove();
                                    for (c = 0; c < x.length; c += 1) r <= c && c <= o && (void 0 === y || e ? h.push(c) : (y < c && h.push(c), c < w && d.push(c)));
                                    h.forEach(function(e) {
                                        u.$wrapperEl.append(E(x[e], e))
                                    }),
                                        d.sort(function(e, t) {
                                            return e < t
                                        }).forEach(function(e) {
                                            u.$wrapperEl.prepend(E(x[e], e))
                                        }),
                                        u.$wrapperEl.children(".swiper-slide").css(i, l + "px"),
                                        t()
                                },
                                renderSlide: function(e, t) {
                                    var i, s = this.params.virtual;
                                    return s.cache && this.virtual.cache[t] ? this.virtual.cache[t] : ((i = s.renderSlide ? $(s.renderSlide.call(this, e, t)) : $('<div class="' + this.params.slideClass + '" data-swiper-slide-index="' + t + '">' + e + "</div>")).attr("data-swiper-slide-index") || i.attr("data-swiper-slide-index", t), s.cache && (this.virtual.cache[t] = i), i)
                                },
                                appendSlide: function(e) {
                                    this.virtual.slides.push(e),
                                        this.virtual.update(!0)
                                },
                                prependSlide: function(e) {
                                    if (this.virtual.slides.unshift(e), this.params.virtual.cache) {
                                        var t = this.virtual.cache,
                                            i = {};
                                        Object.keys(t).forEach(function(e) {
                                            i[e + 1] = t[e]
                                        }),
                                            this.virtual.cache = i
                                    }
                                    this.virtual.update(!0),
                                        this.slideNext(0)
                                }
                            }),
                            slides: [],
                            cache: !0,
                            renderSlide: null,
                            renderExternal: null
                        }
                    },
                    create: function() {
                        I.extend(this, {
                            virtual: {
                                update: H.update.bind(this),
                                appendSlide: H.appendSlide.bind(this),
                                prependSlide: H.prependSlide.bind(this),
                                renderSlide: H.renderSlide.bind(this),
                                slides: this.params.virtual.slides,
                                cache: {}
                            }
                        })
                    },
                    on: {
                        beforeInit: function() {
                            if (this.params.virtual.enabled) {
                                this.classNames.push(this.params.containerModifierClass + "virtual");
                                var e = {
                                    watchSlidesProgress: !0
                                };
                                I.extend(this.params, e),
                                    I.extend(this.originalParams, e),
                                    this.virtual.update()
                            }
                        },
                        setTranslate: function() {
                            this.params.virtual.enabled && this.virtual.update()
                        }
                    }
                },
                Y = {
                    name: "keyboard",
                    params: {
                        keyboard: {
                            enabled: !(X = {
                                handle: function(e) {
                                    var t, i, s, a, n, r, o, l, d, h, p = e;
                                    if (p.originalEvent && (p = p.originalEvent), t = p.keyCode || p.charCode, !this.allowSlideNext && (this.isHorizontal() && 39 === t || this.isVertical() && 40 === t)) return ! 1;
                                    if (!this.allowSlidePrev && (this.isHorizontal() && 37 === t || this.isVertical() && 38 === t)) return ! 1;
                                    if (! (p.shiftKey || p.altKey || p.ctrlKey || p.metaKey || f.activeElement && f.activeElement.nodeName && ("input" === f.activeElement.nodeName.toLowerCase() || "textarea" === f.activeElement.nodeName.toLowerCase()))) {
                                        if (this.params.keyboard.onlyInViewport && (37 === t || 39 === t || 38 === t || 40 === t)) {
                                            if (i = !1, 0 < this.$el.parents("." + this.params.slideClass).length && 0 === this.$el.parents("." + this.params.slideActiveClass).length) return;
                                            for (s = c.pageXOffset, a = c.pageYOffset, n = c.innerWidth, r = c.innerHeight, o = this.$el.offset(), this.rtl && (o.left -= this.$el[0].scrollLeft), l = [[o.left, o.top], [o.left + this.width, o.top], [o.left, o.top + this.height], [o.left + this.width, o.top + this.height]], d = 0; d < l.length; d += 1)(h = l[d])[0] >= s && h[0] <= s + n && h[1] >= a && h[1] <= a + r && (i = !0);
                                            if (!i) return
                                        }
                                        this.isHorizontal() ? (37 !== t && 39 !== t || (p.preventDefault ? p.preventDefault() : p.returnValue = !1), (39 === t && !this.rtl || 37 === t && this.rtl) && this.slideNext(), (37 === t && !this.rtl || 39 === t && this.rtl) && this.slidePrev()) : (38 !== t && 40 !== t || (p.preventDefault ? p.preventDefault() : p.returnValue = !1), 40 === t && this.slideNext(), 38 === t && this.slidePrev()),
                                            this.emit("keyPress", t)
                                    }
                                },
                                enable: function() {
                                    this.keyboard.enabled || ($(f).on("keydown", this.keyboard.handle), this.keyboard.enabled = !0)
                                },
                                disable: function() {
                                    this.keyboard.enabled && ($(f).off("keydown", this.keyboard.handle), this.keyboard.enabled = !1)
                                }
                            }),
                            onlyInViewport: !0
                        }
                    },
                    create: function() {
                        I.extend(this, {
                            keyboard: {
                                enabled: !1,
                                enable: X.enable.bind(this),
                                disable: X.disable.bind(this),
                                handle: X.handle.bind(this)
                            }
                        })
                    },
                    on: {
                        init: function() {
                            this.params.keyboard.enabled && this.keyboard.enable()
                        },
                        destroy: function() {
                            this.keyboard.enabled && this.keyboard.disable()
                        }
                    }
                },
                G = {
                    lastScrollTime: I.now(),
                    event: -1 < c.navigator.userAgent.indexOf("firefox") ? "DOMMouseScroll": (fe = "onwheel" in f, fe || ((ue = f.createElement("div")).setAttribute("onwheel", "return;"), fe = "function" == typeof ue.onwheel), !fe && f.implementation && f.implementation.hasFeature && !0 !== f.implementation.hasFeature("", "") && (fe = f.implementation.hasFeature("Events.wheel", "3.0")), fe ? "wheel": "mousewheel"),
                    normalize: function(e) {
                        var t = 0,
                            i = 0,
                            s = 0,
                            a = 0;
                        return "detail" in e && (i = e.detail),
                        "wheelDelta" in e && (i = -e.wheelDelta / 120),
                        "wheelDeltaY" in e && (i = -e.wheelDeltaY / 120),
                        "wheelDeltaX" in e && (t = -e.wheelDeltaX / 120),
                        "axis" in e && e.axis === e.HORIZONTAL_AXIS && (t = i, i = 0),
                            s = 10 * t,
                            a = 10 * i,
                        "deltaY" in e && (a = e.deltaY),
                        "deltaX" in e && (s = e.deltaX),
                        (s || a) && e.deltaMode && (1 === e.deltaMode ? (s *= 40, a *= 40) : (s *= 800, a *= 800)),
                        s && !t && (t = s < 1 ? -1 : 1),
                        a && !i && (i = a < 1 ? -1 : 1),
                            {
                                spinX: t,
                                spinY: i,
                                pixelX: s,
                                pixelY: a
                            }
                    },
                    handle: function(e) {
                        var t, i, s, a, n, r, o = e,
                            l = this,
                            d = l.params.mousewheel;
                        if (o.originalEvent && (o = o.originalEvent), t = 0, i = l.rtl ? -1 : 1, s = G.normalize(o), d.forceToAxis) if (l.isHorizontal()) {
                            if (! (Math.abs(s.pixelX) > Math.abs(s.pixelY))) return ! 0;
                            t = s.pixelX * i
                        } else {
                            if (! (Math.abs(s.pixelY) > Math.abs(s.pixelX))) return ! 0;
                            t = s.pixelY
                        } else t = Math.abs(s.pixelX) > Math.abs(s.pixelY) ? -s.pixelX * i: -s.pixelY;
                        if (0 === t) return ! 0;
                        if (d.invert && (t = -t), l.params.freeMode) {
                            if (a = l.getTranslate() + t * d.sensitivity, n = l.isBeginning, r = l.isEnd, a >= l.minTranslate() && (a = l.minTranslate()), a <= l.maxTranslate() && (a = l.maxTranslate()), l.setTransition(0), l.setTranslate(a), l.updateProgress(), l.updateActiveIndex(), l.updateSlidesClasses(), (!n && l.isBeginning || !r && l.isEnd) && l.updateSlidesClasses(), l.params.freeModeSticky && (clearTimeout(l.mousewheel.timeout), l.mousewheel.timeout = I.nextTick(function() {
                                    l.slideReset()
                                },
                                300)), l.emit("scroll", o), l.params.autoplay && l.params.autoplayDisableOnInteraction && l.stopAutoplay(), 0 === a || a === l.maxTranslate()) return ! 0
                        } else {
                            if (60 < I.now() - l.mousewheel.lastScrollTime) if (t < 0) if (l.isEnd && !l.params.loop || l.animating) {
                                if (d.releaseOnEdges) return ! 0
                            } else l.slideNext(),
                                l.emit("scroll", o);
                            else if (l.isBeginning && !l.params.loop || l.animating) {
                                if (d.releaseOnEdges) return ! 0
                            } else l.slidePrev(),
                                l.emit("scroll", o);
                            l.mousewheel.lastScrollTime = (new c.Date).getTime()
                        }
                        return o.preventDefault ? o.preventDefault() : o.returnValue = !1,
                            !1
                    },
                    enable: function() {
                        if (!G.event) return ! 1;
                        if (this.mousewheel.enabled) return ! 1;
                        var e = this.$el;
                        return "container" !== this.params.mousewheel.eventsTarged && (e = $(this.params.mousewheel.eventsTarged)),
                            e.on(G.event, this.mousewheel.handle),
                            this.mousewheel.enabled = !0
                    },
                    disable: function() {
                        if (!G.event) return ! 1;
                        if (!this.mousewheel.enabled) return ! 1;
                        var e = this.$el;
                        return "container" !== this.params.mousewheel.eventsTarged && (e = $(this.params.mousewheel.eventsTarged)),
                            e.off(G.event, this.mousewheel.handle),
                            !(this.mousewheel.enabled = !1)
                    }
                },
                ie = [M, z, P, k, A, N, Y, {
                    name: "mousewheel",
                    params: {
                        mousewheel: {
                            enabled: !(te = {
                                setTranslate: function() {
                                    var e, t, i, s, a, n, r, o, l, d, h, p, c, u, f, m, v, g, b, w, y, x, T, E;
                                    for (e = this.width, t = this.height, i = this.slides, s = this.$wrapperEl, a = this.slidesSizesGrid, n = this.params.coverflowEffect, r = this.isHorizontal(), o = this.translate, l = r ? e / 2 - o: t / 2 - o, d = r ? n.rotate: -n.rotate, h = n.depth, p = 0, c = i.length; p < c; p += 1) u = i.eq(p),
                                        f = a[p],
                                        m = (l - u[0].swiperSlideOffset - f / 2) / f * n.modifier,
                                        v = r ? d * m: 0,
                                        g = r ? 0 : d * m,
                                        b = -h * Math.abs(m),
                                        w = r ? 0 : n.stretch * m,
                                        y = r ? n.stretch * m: 0,
                                    Math.abs(y) < .001 && (y = 0),
                                    Math.abs(w) < .001 && (w = 0),
                                    Math.abs(b) < .001 && (b = 0),
                                    Math.abs(v) < .001 && (v = 0),
                                    Math.abs(g) < .001 && (g = 0),
                                        x = "translate3d(" + y + "px," + w + "px," + b + "px)  rotateX(" + g + "deg) rotateY(" + v + "deg)",
                                        u.transform(x),
                                        u[0].style.zIndex = 1 - Math.abs(Math.round(m)),
                                    n.slideShadows && (T = r ? u.find(".swiper-slide-shadow-left") : u.find(".swiper-slide-shadow-top"), E = r ? u.find(".swiper-slide-shadow-right") : u.find(".swiper-slide-shadow-bottom"), 0 === T.length && (T = $('<div class="swiper-slide-shadow-' + (r ? "left": "top") + '"></div>'), u.append(T)), 0 === E.length && (E = $('<div class="swiper-slide-shadow-' + (r ? "right": "bottom") + '"></div>'), u.append(E)), T.length && (T[0].style.opacity = 0 < m ? m: 0), E.length && (E[0].style.opacity = 0 < -m ? -m: 0)); (D.pointerEvents || D.prefixedPointerEvents) && (s[0].style.perspectiveOrigin = l + "px 50%")
                                },
                                setTransition: function(e) {
                                    this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)
                                }
                            }),
                            releaseOnEdges: !(ee = {
                                setTranslate: function() {
                                    var e, t, i, s, a, n, r, o, l, d;
                                    for (e = this.slides, t = 0; t < e.length; t += 1) s = (i = e.eq(t))[0].progress,
                                    this.params.flipEffect.limitRotation && (s = Math.max(Math.min(i[0].progress, 1), -1)),
                                        a = -180 * s,
                                        r = -i[n = 0].swiperSlideOffset,
                                        o = 0,
                                        this.isHorizontal() ? this.rtl && (a = -a) : (o = r, n = -a, a = r = 0),
                                        i[0].style.zIndex = -Math.abs(Math.round(s)) + e.length,
                                    this.params.flipEffect.slideShadows && (l = this.isHorizontal() ? i.find(".swiper-slide-shadow-left") : i.find(".swiper-slide-shadow-top"), d = this.isHorizontal() ? i.find(".swiper-slide-shadow-right") : i.find(".swiper-slide-shadow-bottom"), 0 === l.length && (l = $('<div class="swiper-slide-shadow-' + (this.isHorizontal() ? "left": "top") + '"></div>'), i.append(l)), 0 === d.length && (d = $('<div class="swiper-slide-shadow-' + (this.isHorizontal() ? "right": "bottom") + '"></div>'), i.append(d)), l.length && (l[0].style.opacity = Math.max( - s, 0)), d.length && (d[0].style.opacity = Math.max(s, 0))),
                                        i.transform("translate3d(" + r + "px, " + o + "px, 0px) rotateX(" + n + "deg) rotateY(" + a + "deg)")
                                },
                                setTransition: function(e) {
                                    var i, s = this,
                                        t = s.slides,
                                        a = s.activeIndex,
                                        n = s.$wrapperEl;
                                    t.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),
                                    s.params.virtualTranslate && 0 !== e && (i = !1, t.eq(a).transitionEnd(function() {
                                        if (!i && s && !s.destroyed) {
                                            i = !0,
                                                s.animating = !1;
                                            for (var e = ["webkitTransitionEnd", "transitionend"], t = 0; t < e.length; t += 1) n.trigger(e[t])
                                        }
                                    }))
                                }
                            }),
                            invert: !(J = {
                                setTranslate: function() {
                                    var e, t, i, s, a, n, r, o, l, d, h, p, c, u, f, m, v, g, b, w = this.$el,
                                        y = this.$wrapperEl,
                                        x = this.slides,
                                        T = this.width,
                                        E = this.height,
                                        S = this.rtl,
                                        C = this.size,
                                        M = this.params.cubeEffect,
                                        z = this.isHorizontal(),
                                        P = this.virtual && this.params.virtual.enabled,
                                        k = 0;
                                    for (M.shadow && (z ? (0 === (e = y.find(".swiper-cube-shadow")).length && (e = $('<div class="swiper-cube-shadow"></div>'), y.append(e)), e.css({
                                        height: T + "px"
                                    })) : 0 === (e = w.find(".swiper-cube-shadow")).length && (e = $('<div class="swiper-cube-shadow"></div>'), w.append(e))), t = 0; t < x.length; t += 1) i = x.eq(t),
                                        s = t,
                                    P && (s = parseInt(i.attr("data-swiper-slide-index"), 10)),
                                        a = 90 * s,
                                        n = Math.floor(a / 360),
                                    S && (a = -a, n = Math.floor( - a / 360)),
                                        s % 4 == (d = l = o = 0) ? (o = 4 * -n * C, d = 0) : (s - 1) % 4 == 0 ? (o = 0, d = 4 * -n * C) : (s - 2) % 4 == 0 ? (o = C + 4 * n * C, d = C) : (s - 3) % 4 == 0 && (o = -C, d = 3 * C + 4 * C * n),
                                    S && (o = -o),
                                    z || (l = o, o = 0),
                                        h = "rotateX(" + (z ? 0 : -a) + "deg) rotateY(" + (z ? a: 0) + "deg) translate3d(" + o + "px, " + l + "px, " + d + "px)",
                                    (r = Math.max(Math.min(i[0].progress, 1), -1)) <= 1 && -1 < r && (k = 90 * s + 90 * r, S && (k = 90 * -s - 90 * r)),
                                        i.transform(h),
                                    M.slideShadows && (p = z ? i.find(".swiper-slide-shadow-left") : i.find(".swiper-slide-shadow-top"), c = z ? i.find(".swiper-slide-shadow-right") : i.find(".swiper-slide-shadow-bottom"), 0 === p.length && (p = $('<div class="swiper-slide-shadow-' + (z ? "left": "top") + '"></div>'), i.append(p)), 0 === c.length && (c = $('<div class="swiper-slide-shadow-' + (z ? "right": "bottom") + '"></div>'), i.append(c)), p.length && (p[0].style.opacity = Math.max( - r, 0)), c.length && (c[0].style.opacity = Math.max(r, 0)));
                                    y.css({
                                        "-webkit-transform-origin": "50% 50% -" + C / 2 + "px",
                                        "-moz-transform-origin": "50% 50% -" + C / 2 + "px",
                                        "-ms-transform-origin": "50% 50% -" + C / 2 + "px",
                                        "transform-origin": "50% 50% -" + C / 2 + "px"
                                    }),
                                    M.shadow && (z ? e.transform("translate3d(0px, " + (T / 2 + M.shadowOffset) + "px, " + -T / 2 + "px) rotateX(90deg) rotateZ(0deg) scale(" + M.shadowScale + ")") : (u = Math.abs(k) - 90 * Math.floor(Math.abs(k) / 90), f = 1.5 - (Math.sin(2 * u * Math.PI / 360) / 2 + Math.cos(2 * u * Math.PI / 360) / 2), m = M.shadowScale, v = M.shadowScale / f, g = M.shadowOffset, e.transform("scale3d(" + m + ", 1, " + v + ") translate3d(0px, " + (E / 2 + g) + "px, " + -E / 2 / v + "px) rotateX(-90deg)"))),
                                        b = L.isSafari || L.isUiWebView ? -C / 2 : 0,
                                        y.transform("translate3d(0px,0," + b + "px) rotateX(" + (this.isHorizontal() ? 0 : k) + "deg) rotateY(" + (this.isHorizontal() ? -k: 0) + "deg)")
                                },
                                setTransition: function(e) {
                                    var t = this.$el;
                                    this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),
                                    this.params.cubeEffect.shadow && !this.isHorizontal() && t.find(".swiper-cube-shadow").transition(e)
                                }
                            }),
                            forceToAxis: !(Q = {
                                setTranslate: function() {
                                    var e, t, i, s, a, n;
                                    for (e = this.slides, t = 0; t < e.length; t += 1) s = -(i = this.slides.eq(t))[0].swiperSlideOffset,
                                    this.params.virtualTranslate || (s -= this.translate),
                                        a = 0,
                                    this.isHorizontal() || (a = s, s = 0),
                                        n = this.params.fadeEffect.crossFade ? Math.max(1 - Math.abs(i[0].progress), 0) : 1 + Math.min(Math.max(i[0].progress, -1), 0),
                                        i.css({
                                            opacity: n
                                        }).transform("translate3d(" + s + "px, " + a + "px, 0px)")
                                },
                                setTransition: function(e) {
                                    var i, s = this,
                                        t = s.slides,
                                        a = s.$wrapperEl;
                                    t.transition(e),
                                    s.params.virtualTranslate && 0 !== e && (i = !1, t.transitionEnd(function() {
                                        if (!i && s && !s.destroyed) {
                                            i = !0,
                                                s.animating = !1;
                                            for (var e = ["webkitTransitionEnd", "transitionend"], t = 0; t < e.length; t += 1) a.trigger(e[t])
                                        }
                                    }))
                                }
                            }),
                            sensitivity: 1,
                            eventsTarged: "container"
                        }
                    },
                    create: function() {
                        I.extend(this, {
                            mousewheel: {
                                enabled: !1,
                                enable: G.enable.bind(this),
                                disable: G.disable.bind(this),
                                handle: G.handle.bind(this),
                                lastScrollTime: I.now()
                            }
                        })
                    },
                    on: {
                        init: function() {
                            this.params.mousewheel.enabled && this.mousewheel.enable()
                        },
                        destroy: function() {
                            this.mousewheel.enabled && this.mousewheel.disable()
                        }
                    }
                },
                    {
                        name: "navigation",
                        params: {
                            navigation: {
                                nextEl: null,
                                prevEl: null,
                                hideOnClick: !(Z = {
                                    run: function() {
                                        var e = this,
                                            t = e.slides.eq(e.activeIndex),
                                            i = e.params.autoplay.delay;
                                        t.attr("data-swiper-autoplay") && (i = t.attr("data-swiper-autoplay") || e.params.autoplay.delay),
                                            e.autoplay.timeout = I.nextTick(function() {
                                                    e.params.autoplay.reverseDirection ? e.params.loop ? (e.loopFix(), e.slidePrev(e.params.speed, !0, !0), e.emit("autoplay")) : e.isBeginning ? e.params.autoplay.stopOnLastSlide ? e.autoplay.stop() : (e.slideTo(e.slides.length - 1, e.params.speed, !0, !0), e.emit("autoplay")) : (e.slidePrev(e.params.speed, !0, !0), e.emit("autoplay")) : e.params.loop ? (e.loopFix(), e.slideNext(e.params.speed, !0, !0), e.emit("autoplay")) : e.isEnd ? e.params.autoplay.stopOnLastSlide ? e.autoplay.stop() : (e.slideTo(0, e.params.speed, !0, !0), e.emit("autoplay")) : (e.slideNext(e.params.speed, !0, !0), e.emit("autoplay"))
                                                },
                                                i)
                                    },
                                    start: function() {
                                        return void 0 === this.autoplay.timeout && !this.autoplay.running && (this.autoplay.running = !0, this.emit("autoplayStart"), this.autoplay.run(), !0)
                                    },
                                    stop: function() {
                                        return !! this.autoplay.running && void 0 !== this.autoplay.timeout && (this.autoplay.timeout && (clearTimeout(this.autoplay.timeout), this.autoplay.timeout = void 0), this.autoplay.running = !1, this.emit("autoplayStop"), !0)
                                    },
                                    pause: function(e) {
                                        var t = this;
                                        t.autoplay.running && (t.autoplay.paused || (t.autoplay.timeout && clearTimeout(t.autoplay.timeout), t.autoplay.paused = !0, 0 !== e && t.params.autoplay.waitForTransition ? t.$wrapperEl.transitionEnd(function() {
                                            t && !t.destroyed && (t.autoplay.paused = !1, t.autoplay.running ? t.autoplay.run() : t.autoplay.stop())
                                        }) : (t.autoplay.paused = !1, t.autoplay.run())))
                                    }
                                }),
                                disabledClass: "swiper-button-disabled",
                                hiddenClass: "swiper-button-hidden",
                                lockClass: "swiper-button-lock"
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                navigation: {
                                    init: B.init.bind(this),
                                    update: B.update.bind(this),
                                    destroy: B.destroy.bind(this)
                                }
                            })
                        },
                        on: {
                            init: function() {
                                this.navigation.init(),
                                    this.navigation.update()
                            },
                            toEdge: function() {
                                this.navigation.update()
                            },
                            fromEdge: function() {
                                this.navigation.update()
                            },
                            destroy: function() {
                                this.navigation.destroy()
                            },
                            click: function(e) {
                                var t = this.navigation,
                                    i = t.$nextEl,
                                    s = t.$prevEl; ! this.params.navigation.hideOnClick || $(e.target).is(s) || $(e.target).is(i) || (i && i.toggleClass(this.params.navigation.hiddenClass), s && s.toggleClass(this.params.navigation.hiddenClass))
                            }
                        }
                    },
                    {
                        name: "pagination",
                        params: {
                            pagination: {
                                el: null,
                                bulletElement: "span",
                                clickable: !(_ = {
                                    onHashCange: function() {
                                        var e = f.location.hash.replace("#", "");
                                        e !== this.slides.eq(this.activeIndex).attr("data-hash") && this.slideTo(this.$wrapperEl.children("." + this.params.slideClass + '[data-hash="' + e + '"]').index())
                                    },
                                    setHash: function() {
                                        if (this.hashNavigation.initialized && this.params.hashNavigation.enabled) if (this.params.hashNavigation.replaceState && c.history && c.history.replaceState) c.history.replaceState(null, null, "#" + this.slides.eq(this.activeIndex).attr("data-hash") || "");
                                        else {
                                            var e = this.slides.eq(this.activeIndex),
                                                t = e.attr("data-hash") || e.attr("data-history");
                                            f.location.hash = t || ""
                                        }
                                    },
                                    init: function() {
                                        var e, t, i, s, a;
                                        if (! (!this.params.hashNavigation.enabled || this.params.history && this.params.history.enabled)) {
                                            if (this.hashNavigation.initialized = !0, e = f.location.hash.replace("#", "")) for (t = 0, i = this.slides.length; t < i; t += 1)((s = this.slides.eq(t)).attr("data-hash") || s.attr("data-history")) !== e || s.hasClass(this.params.slideDuplicateClass) || (a = s.index(), this.slideTo(a, 0, this.params.runCallbacksOnInit, !0));
                                            this.params.hashNavigation.watchState && $(c).on("hashchange", this.hashNavigation.onHashCange)
                                        }
                                    },
                                    destroy: function() {
                                        this.params.hashNavigation.watchState && $(c).off("hashchange", this.hashNavigation.onHashCange)
                                    }
                                }),
                                hideOnClick: !(U = {
                                    init: function() {
                                        if (this.params.history) {
                                            if (!c.history || !c.history.pushState) return this.params.history.enabled = !1,
                                                void(this.params.hashNavigation.enabled = !0);
                                            var e = this.history;
                                            e.initialized = !0,
                                                e.paths = U.getPathValues(),
                                            (e.paths.key || e.paths.value) && (e.scrollToSlide(0, e.paths.value, this.params.runCallbacksOnInit), this.params.history.replaceState || c.addEventListener("popstate", this.history.setHistoryPopState))
                                        }
                                    },
                                    destroy: function() {
                                        this.params.history.replaceState || c.removeEventListener("popstate", this.history.setHistoryPopState)
                                    },
                                    setHistoryPopState: function() {
                                        this.history.paths = U.getPathValues(),
                                            this.history.scrollToSlide(this.params.speed, this.history.paths.value, !1)
                                    },
                                    getPathValues: function() {
                                        var e = c.location.pathname.slice(1).split("/").filter(function(e) {
                                                return "" !== e
                                            }),
                                            t = e.length;
                                        return {
                                            key: e[t - 2],
                                            value: e[t - 1]
                                        }
                                    },
                                    setHistory: function(e, t) {
                                        var i, s, a;
                                        this.history.initialized && this.params.history.enabled && (i = this.slides.eq(t), s = U.slugify(i.attr("data-history")), c.location.pathname.includes(e) || (s = e + "/" + s), (a = c.history.state) && a.value === s || (this.params.history.replaceState ? c.history.replaceState({
                                                value: s
                                            },
                                            null, s) : c.history.pushState({
                                                value: s
                                            },
                                            null, s)))
                                    },
                                    slugify: function(e) {
                                        return e.toString().toLowerCase().replace(/\s+/g, "-").replace(/[^\w-]+/g, "").replace(/--+/g, "-").replace(/^-+/, "").replace(/-+$/, "")
                                    },
                                    scrollToSlide: function(e, t, i) {
                                        var s, a, n, r;
                                        if (t) for (s = 0, a = this.slides.length; s < a; s += 1) n = this.slides.eq(s),
                                        U.slugify(n.attr("data-history")) !== t || n.hasClass(this.params.slideDuplicateClass) || (r = n.index(), this.slideTo(r, e, i));
                                        else this.slideTo(0, e, i)
                                    }
                                }),
                                renderBullet: null,
                                renderProgressbar: null,
                                renderFraction: null,
                                renderCustom: null,
                                type: "bullets",
                                dynamicBullets: !(K = {
                                    makeElFocusable: function(e) {
                                        return e.attr("tabIndex", "0"),
                                            e
                                    },
                                    addElRole: function(e, t) {
                                        return e.attr("role", t),
                                            e
                                    },
                                    addElLabel: function(e, t) {
                                        return e.attr("aria-label", t),
                                            e
                                    },
                                    disableEl: function(e) {
                                        return e.attr("aria-disabled", !0),
                                            e
                                    },
                                    enableEl: function(e) {
                                        return e.attr("aria-disabled", !1),
                                            e
                                    },
                                    onEnterKey: function(e) {
                                        var t, i = this.params.a11y;
                                        13 === e.keyCode && (t = $(e.target), this.navigation && this.navigation.$nextEl && t.is(this.navigation.$nextEl) && (this.isEnd && !this.params.loop || this.slideNext(), this.isEnd ? this.a11y.notify(i.lastSlideMessage) : this.a11y.notify(i.nextSlideMessage)), this.navigation && this.navigation.$prevEl && t.is(this.navigation.$prevEl) && (this.isBeginning && !this.params.loop || this.slidePrev(), this.isBeginning ? this.a11y.notify(i.firstSlideMessage) : this.a11y.notify(i.prevSlideMessage)), this.pagination && t.is("." + this.params.pagination.bulletClass) && t[0].click())
                                    },
                                    notify: function(e) {
                                        var t = this.a11y.liveRegion;
                                        0 !== t.length && (t.html(""), t.html(e))
                                    },
                                    updateNavigation: function() {
                                        if (!this.params.loop) {
                                            var e = this.navigation,
                                                t = e.$nextEl,
                                                i = e.$prevEl;
                                            i && 0 < i.length && (this.isBeginning ? this.a11y.disableEl(i) : this.a11y.enableEl(i)),
                                            t && 0 < t.length && (this.isEnd ? this.a11y.disableEl(t) : this.a11y.enableEl(t))
                                        }
                                    },
                                    updatePagination: function() {
                                        var s = this,
                                            a = s.params.a11y;
                                        s.pagination && s.params.pagination.clickable && s.pagination.bullets && s.pagination.bullets.length && s.pagination.bullets.each(function(e, t) {
                                            var i = $(t);
                                            s.a11y.makeElFocusable(i),
                                                s.a11y.addElRole(i, "button"),
                                                s.a11y.addElLabel(i, a.paginationBulletMessage.replace(/{{index}}/, i.index() + 1))
                                        })
                                    },
                                    init: function() {
                                        this.$el.append(this.a11y.liveRegion);
                                        var e, t, i = this.params.a11y;
                                        this.navigation && this.navigation.$nextEl && (e = this.navigation.$nextEl),
                                        this.navigation && this.navigation.$prevEl && (t = this.navigation.$prevEl),
                                        e && (this.a11y.makeElFocusable(e), this.a11y.addElRole(e, "button"), this.a11y.addElLabel(e, i.nextSlideMessage), e.on("keydown", this.a11y.onEnterKey)),
                                        t && (this.a11y.makeElFocusable(t), this.a11y.addElRole(t, "button"), this.a11y.addElLabel(t, i.prevSlideMessage), t.on("keydown", this.a11y.onEnterKey)),
                                        this.pagination && this.params.pagination.clickable && this.pagination.bullets && this.pagination.bullets.length && this.pagination.$el.on("keydown", "." + this.params.pagination.bulletClass, this.a11y.onEnterKey)
                                    },
                                    destroy: function() {
                                        var e, t;
                                        this.a11y.liveRegion && 0 < this.a11y.liveRegion.length && this.a11y.liveRegion.remove(),
                                        this.navigation && this.navigation.$nextEl && (e = this.navigation.$nextEl),
                                        this.navigation && this.navigation.$prevEl && (t = this.navigation.$prevEl),
                                        e && e.off("keydown", this.a11y.onEnterKey),
                                        t && t.off("keydown", this.a11y.onEnterKey),
                                        this.pagination && this.params.pagination.clickable && this.pagination.bullets && this.pagination.bullets.length && this.pagination.$el.off("keydown", "." + this.params.pagination.bulletClass, this.a11y.onEnterKey)
                                    }
                                }),
                                bulletClass: "swiper-pagination-bullet",
                                bulletActiveClass: "swiper-pagination-bullet-active",
                                modifierClass: "swiper-pagination-",
                                currentClass: "swiper-pagination-current",
                                totalClass: "swiper-pagination-total",
                                hiddenClass: "swiper-pagination-hidden",
                                progressbarFillClass: "swiper-pagination-progressbar-fill",
                                clickableClass: "swiper-pagination-clickable",
                                lockClass: "swiper-pagination-lock"
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                pagination: {
                                    init: V.init.bind(this),
                                    render: V.render.bind(this),
                                    update: V.update.bind(this),
                                    destroy: V.destroy.bind(this)
                                }
                            })
                        },
                        on: {
                            init: function() {
                                this.pagination.init(),
                                    this.pagination.render(),
                                    this.pagination.update()
                            },
                            activeIndexChange: function() {
                                this.params.loop ? this.pagination.update() : void 0 === this.snapIndex && this.pagination.update()
                            },
                            snapIndexChange: function() {
                                this.params.loop || this.pagination.update()
                            },
                            slidesLengthChange: function() {
                                this.params.loop && (this.pagination.render(), this.pagination.update())
                            },
                            snapGridLengthChange: function() {
                                this.params.loop || (this.pagination.render(), this.pagination.update())
                            },
                            destroy: function() {
                                this.pagination.destroy()
                            },
                            click: function(e) {
                                this.params.pagination.el && this.params.pagination.hideOnClick && 0 < this.pagination.$el.length && !$(e.target).hasClass(this.params.pagination.bulletClass) && this.pagination.$el.toggleClass(this.params.pagination.hiddenClass)
                            }
                        }
                    },
                    {
                        name: "scrollbar",
                        params: {
                            scrollbar: {
                                el: null,
                                dragSize: "auto",
                                hide: !(q = {
                                    LinearSpline: function(e, t) {
                                        var i, s, a, n, r;
                                        return this.x = e,
                                            this.y = t,
                                            this.lastIndex = e.length - 1,
                                            this.interpolate = function(e) {
                                                return e ? (r = function(e, t) {
                                                    for (s = -1, i = e.length; 1 < i - s;) e[a = i + s >> 1] <= t ? s = a: i = a;
                                                    return i
                                                } (this.x, e), n = r - 1, (e - this.x[n]) * (this.y[r] - this.y[n]) / (this.x[r] - this.x[n]) + this.y[n]) : 0
                                            },
                                            this
                                    },
                                    getInterpolateFunction: function(e) {
                                        this.controller.spline || (this.controller.spline = this.params.loop ? new q.LinearSpline(this.slidesGrid, e.slidesGrid) : new q.LinearSpline(this.snapGrid, e.snapGrid))
                                    },
                                    setTranslate: function(e, t) {
                                        function i(e) {
                                            var t = e.rtl && "horizontal" === e.params.direction ? -r.translate: r.translate;
                                            "slide" === r.params.controller.by && (r.controller.getInterpolateFunction(e), a = -r.controller.spline.interpolate( - t)),
                                            a && "container" !== r.params.controller.by || (s = (e.maxTranslate() - e.minTranslate()) / (r.maxTranslate() - r.minTranslate()), a = (t - r.minTranslate()) * s + e.minTranslate()),
                                            r.params.controller.inverse && (a = e.maxTranslate() - a),
                                                e.updateProgress(a),
                                                e.setTranslate(a, r),
                                                e.updateActiveIndex(),
                                                e.updateSlidesClasses()
                                        }
                                        var s, a, n, r = this,
                                            o = r.controller.control;
                                        if (Array.isArray(o)) for (n = 0; n < o.length; n += 1) o[n] !== t && o[n] instanceof C && i(o[n]);
                                        else o instanceof C && t !== o && i(o)
                                    },
                                    setTransition: function(t, e) {
                                        function i(e) {
                                            e.setTransition(t, a),
                                            0 !== t && (e.transitionStart(), e.$wrapperEl.transitionEnd(function() {
                                                n && (e.params.loop && "slide" === a.params.controller.by && e.loopFix(), e.transitionEnd())
                                            }))
                                        }
                                        var s, a = this,
                                            n = a.controller.control;
                                        if (Array.isArray(n)) for (s = 0; s < n.length; s += 1) n[s] !== e && n[s] instanceof C && i(n[s]);
                                        else n instanceof C && e !== n && i(n)
                                    }
                                }),
                                draggable: !(j = {
                                    loadInSlide: function(e, l) {
                                        var d, h, p, t;
                                        void 0 === l && (l = !0),
                                            h = (d = this).params.lazy,
                                        void 0 !== e && 0 !== d.slides.length && (t = (p = d.virtual && d.params.virtual.enabled ? d.$wrapperEl.children("." + d.params.slideClass + '[data-swiper-slide-index="' + e + '"]') : d.slides.eq(e)).find("." + h.elementClass + ":not(." + h.loadedClass + "):not(." + h.loadingClass + ")"), !p.hasClass(h.elementClass) || p.hasClass(h.loadedClass) || p.hasClass(h.loadingClass) || (t = t.add(p[0])), 0 !== t.length && t.each(function(e, t) {
                                            var s, a, n, r, o = $(t);
                                            o.addClass(h.loadingClass),
                                                s = o.attr("data-background"),
                                                a = o.attr("data-src"),
                                                n = o.attr("data-srcset"),
                                                r = o.attr("data-sizes"),
                                                d.loadImage(o[0], a || s, n, r, !1,
                                                    function() {
                                                        var e, t, i;
                                                        null == d || !d || d && !d.params || d.destroyed || (s ? (o.css("background-image", 'url("' + s + '")'), o.removeAttr("data-background")) : (n && (o.attr("srcset", n), o.removeAttr("data-srcset")), r && (o.attr("sizes", r), o.removeAttr("data-sizes")), a && (o.attr("src", a), o.removeAttr("data-src"))), o.addClass(h.loadedClass).removeClass(h.loadingClass), p.find("." + h.preloaderClass).remove(), d.params.loop && l && (e = p.attr("data-swiper-slide-index"), p.hasClass(d.params.slideDuplicateClass) ? (t = d.$wrapperEl.children('[data-swiper-slide-index="' + e + '"]:not(.' + d.params.slideDuplicateClass + ")"), d.lazy.loadInSlide(t.index(), !1)) : (i = d.$wrapperEl.children("." + d.params.slideDuplicateClass + '[data-swiper-slide-index="' + e + '"]'), d.lazy.loadInSlide(i.index(), !1))), d.emit("lazyImageReady", p[0], o[0]))
                                                    }),
                                                d.emit("lazyImageLoad", p[0], o[0])
                                        }))
                                    },
                                    load: function() {
                                        function e(e) {
                                            if (v) {
                                                if (c.children("." + u.slideClass + '[data-swiper-slide-index="' + e + '"]').length) return ! 0
                                            } else if (f[e]) return ! 0;
                                            return ! 1
                                        }
                                        function t(e) {
                                            return v ? $(e).attr("data-swiper-slide-index") : $(e).index()
                                        }
                                        var i, s, a, n, r, o, l, d, h, p = this,
                                            c = p.$wrapperEl,
                                            u = p.params,
                                            f = p.slides,
                                            m = p.activeIndex,
                                            v = p.virtual && u.virtual.enabled,
                                            g = u.lazy,
                                            b = u.slidesPerView;
                                        if ("auto" === b && (b = 0), p.lazy.initialImageLoaded || (p.lazy.initialImageLoaded = !0), p.params.watchSlidesVisibility) c.children("." + u.slideVisibleClass).each(function(e, t) {
                                            var i = v ? $(t).attr("data-swiper-slide-index") : $(t).index();
                                            p.lazy.loadInSlide(i)
                                        });
                                        else if (1 < b) for (i = m; i < m + b; i += 1) e(i) && p.lazy.loadInSlide(i);
                                        else p.lazy.loadInSlide(m);
                                        if (g.loadPrevNext) if (1 < b || g.loadPrevNextAmount && 1 < g.loadPrevNextAmount) {
                                            for (s = g.loadPrevNextAmount, a = b, n = Math.min(m + a + Math.max(s, a), f.length), r = Math.max(m - Math.max(a, s), 0), o = m + b; o < n; o += 1) e(o) && p.lazy.loadInSlide(o);
                                            for (l = r; l < m; l += 1) e(l) && p.lazy.loadInSlide(l)
                                        } else 0 < (d = c.children("." + u.slideNextClass)).length && p.lazy.loadInSlide(t(d)),
                                        0 < (h = c.children("." + u.slidePrevClass)).length && p.lazy.loadInSlide(t(h))
                                    }
                                }),
                                snapOnRelease: !0,
                                lockClass: "swiper-scrollbar-lock"
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                scrollbar: {
                                    init: R.init.bind(this),
                                    destroy: R.destroy.bind(this),
                                    updateSize: R.updateSize.bind(this),
                                    setTranslate: R.setTranslate.bind(this),
                                    setTransition: R.setTransition.bind(this),
                                    enableDraggable: R.enableDraggable.bind(this),
                                    disableDraggable: R.disableDraggable.bind(this),
                                    setDragPosition: R.setDragPosition.bind(this),
                                    onDragStart: R.onDragStart.bind(this),
                                    onDragMove: R.onDragMove.bind(this),
                                    onDragEnd: R.onDragEnd.bind(this),
                                    isTouched: !1,
                                    timeout: null,
                                    dragTimeout: null
                                }
                            })
                        },
                        on: {
                            init: function() {
                                this.scrollbar.init(),
                                    this.scrollbar.updateSize(),
                                    this.scrollbar.setTranslate()
                            },
                            update: function() {
                                this.scrollbar.updateSize()
                            },
                            resize: function() {
                                this.scrollbar.updateSize()
                            },
                            observerUpdate: function() {
                                this.scrollbar.updateSize()
                            },
                            setTranslate: function() {
                                this.scrollbar.setTranslate()
                            },
                            setTransition: function(e) {
                                this.scrollbar.setTransition(e)
                            },
                            destroy: function() {
                                this.scrollbar.destroy()
                            }
                        }
                    },
                    {
                        name: "parallax",
                        params: {
                            parallax: {
                                enabled: !(W = {
                                    getDistanceBetweenTouches: function(e) {
                                        if (e.targetTouches.length < 2) return 1;
                                        var t = e.targetTouches[0].pageX,
                                            i = e.targetTouches[0].pageY,
                                            s = e.targetTouches[1].pageX,
                                            a = e.targetTouches[1].pageY;
                                        return Math.sqrt(Math.pow(s - t, 2) + Math.pow(a - i, 2))
                                    },
                                    onGestureStart: function(e) {
                                        var t = this.params.zoom,
                                            i = this.zoom,
                                            s = i.gesture;
                                        if (i.fakeGestureTouched = !1, i.fakeGestureMoved = !1, !D.gestures) {
                                            if ("touchstart" !== e.type || "touchstart" === e.type && e.targetTouches.length < 2) return;
                                            i.fakeGestureTouched = !0,
                                                s.scaleStart = W.getDistanceBetweenTouches(e)
                                        }
                                        s.$slideEl && s.$slideEl.length || (s.$slideEl = $(this), 0 === s.$slideEl.length && (s.$slideEl = this.slides.eq(this.activeIndex)), s.$imageEl = s.$slideEl.find("img, svg, canvas"), s.$imageWrapEl = s.$imageEl.parent("." + t.containerClass), s.maxRatio = s.$imageWrapEl.attr("data-swiper-zoom") || t.maxRatio, 0 !== s.$imageWrapEl.length) ? (s.$imageEl.transition(0), this.zoom.isScaling = !0) : s.$imageEl = void 0
                                    },
                                    onGestureChange: function(e) {
                                        var t = this.params.zoom,
                                            i = this.zoom,
                                            s = i.gesture;
                                        if (!D.gestures) {
                                            if ("touchmove" !== e.type || "touchmove" === e.type && e.targetTouches.length < 2) return;
                                            i.fakeGestureMoved = !0,
                                                s.scaleMove = W.getDistanceBetweenTouches(e)
                                        }
                                        s.$imageEl && 0 !== s.$imageEl.length && (D.gestures ? this.zoom.scale = e.scale * i.currentScale: i.scale = s.scaleMove / s.scaleStart * i.currentScale, i.scale > s.maxRatio && (i.scale = s.maxRatio - 1 + Math.pow(i.scale - s.maxRatio + 1, .5)), i.scale < t.minRatio && (i.scale = t.minRatio + 1 - Math.pow(t.minRatio - i.scale + 1, .5)), s.$imageEl.transform("translate3d(0,0,0) scale(" + i.scale + ")"))
                                    },
                                    onGestureEnd: function(e) {
                                        var t = this.params.zoom,
                                            i = this.zoom,
                                            s = i.gesture;
                                        if (!D.gestures) {
                                            if (!i.fakeGestureTouched || !i.fakeGestureMoved) return;
                                            if ("touchend" !== e.type || "touchend" === e.type && e.changedTouches.length < 2 && !v.android) return;
                                            i.fakeGestureTouched = !1,
                                                i.fakeGestureMoved = !1
                                        }
                                        s.$imageEl && 0 !== s.$imageEl.length && (i.scale = Math.max(Math.min(i.scale, s.maxRatio), t.minRatio), s.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale(" + i.scale + ")"), i.currentScale = i.scale, i.isScaling = !1, 1 === i.scale && (s.$slideEl = void 0))
                                    },
                                    onTouchStart: function(e) {
                                        var t = this.zoom,
                                            i = t.gesture,
                                            s = t.image;
                                        i.$imageEl && 0 !== i.$imageEl.length && (s.isTouched || (v.android && e.preventDefault(), s.isTouched = !0, s.touchesStart.x = "touchstart" === e.type ? e.targetTouches[0].pageX: e.pageX, s.touchesStart.y = "touchstart" === e.type ? e.targetTouches[0].pageY: e.pageY))
                                    },
                                    onTouchMove: function(e) {
                                        var t, i, s = this.zoom,
                                            a = s.gesture,
                                            n = s.image,
                                            r = s.velocity;
                                        if (a.$imageEl && 0 !== a.$imageEl.length && (this.allowClick = !1, n.isTouched && a.$slideEl) && (n.isMoved || (n.width = a.$imageEl[0].offsetWidth, n.height = a.$imageEl[0].offsetHeight, n.startX = I.getTranslate(a.$imageWrapEl[0], "x") || 0, n.startY = I.getTranslate(a.$imageWrapEl[0], "y") || 0, a.slideWidth = a.$slideEl[0].offsetWidth, a.slideHeight = a.$slideEl[0].offsetHeight, a.$imageWrapEl.transition(0), this.rtl && (n.startX = -n.startX), this.rtl && (n.startY = -n.startY)), t = n.width * s.scale, i = n.height * s.scale, !(t < a.slideWidth && i < a.slideHeight))) {
                                            if (n.minX = Math.min(a.slideWidth / 2 - t / 2, 0), n.maxX = -n.minX, n.minY = Math.min(a.slideHeight / 2 - i / 2, 0), n.maxY = -n.minY, n.touchesCurrent.x = "touchmove" === e.type ? e.targetTouches[0].pageX: e.pageX, n.touchesCurrent.y = "touchmove" === e.type ? e.targetTouches[0].pageY: e.pageY, !n.isMoved && !s.isScaling) {
                                                if (this.isHorizontal() && (Math.floor(n.minX) === Math.floor(n.startX) && n.touchesCurrent.x < n.touchesStart.x || Math.floor(n.maxX) === Math.floor(n.startX) && n.touchesCurrent.x > n.touchesStart.x)) return void(n.isTouched = !1);
                                                if (!this.isHorizontal() && (Math.floor(n.minY) === Math.floor(n.startY) && n.touchesCurrent.y < n.touchesStart.y || Math.floor(n.maxY) === Math.floor(n.startY) && n.touchesCurrent.y > n.touchesStart.y)) return void(n.isTouched = !1)
                                            }
                                            e.preventDefault(),
                                                e.stopPropagation(),
                                                n.isMoved = !0,
                                                n.currentX = n.touchesCurrent.x - n.touchesStart.x + n.startX,
                                                n.currentY = n.touchesCurrent.y - n.touchesStart.y + n.startY,
                                            n.currentX < n.minX && (n.currentX = n.minX + 1 - Math.pow(n.minX - n.currentX + 1, .8)),
                                            n.currentX > n.maxX && (n.currentX = n.maxX - 1 + Math.pow(n.currentX - n.maxX + 1, .8)),
                                            n.currentY < n.minY && (n.currentY = n.minY + 1 - Math.pow(n.minY - n.currentY + 1, .8)),
                                            n.currentY > n.maxY && (n.currentY = n.maxY - 1 + Math.pow(n.currentY - n.maxY + 1, .8)),
                                            r.prevPositionX || (r.prevPositionX = n.touchesCurrent.x),
                                            r.prevPositionY || (r.prevPositionY = n.touchesCurrent.y),
                                            r.prevTime || (r.prevTime = Date.now()),
                                                r.x = (n.touchesCurrent.x - r.prevPositionX) / (Date.now() - r.prevTime) / 2,
                                                r.y = (n.touchesCurrent.y - r.prevPositionY) / (Date.now() - r.prevTime) / 2,
                                            Math.abs(n.touchesCurrent.x - r.prevPositionX) < 2 && (r.x = 0),
                                            Math.abs(n.touchesCurrent.y - r.prevPositionY) < 2 && (r.y = 0),
                                                r.prevPositionX = n.touchesCurrent.x,
                                                r.prevPositionY = n.touchesCurrent.y,
                                                r.prevTime = Date.now(),
                                                a.$imageWrapEl.transform("translate3d(" + n.currentX + "px, " + n.currentY + "px,0)")
                                        }
                                    },
                                    onTouchEnd: function() {
                                        var e, t, i, s, a, n, r, o, l, d = this.zoom,
                                            h = d.gesture,
                                            p = d.image,
                                            c = d.velocity;
                                        if (h.$imageEl && 0 !== h.$imageEl.length) {
                                            if (!p.isTouched || !p.isMoved) return p.isTouched = !1,
                                                void(p.isMoved = !1);
                                            p.isTouched = !1,
                                                p.isMoved = !1,
                                                t = e = 300,
                                                i = c.x * e,
                                                s = p.currentX + i,
                                                a = c.y * t,
                                                n = p.currentY + a,
                                            0 !== c.x && (e = Math.abs((s - p.currentX) / c.x)),
                                            0 !== c.y && (t = Math.abs((n - p.currentY) / c.y)),
                                                r = Math.max(e, t),
                                                p.currentX = s,
                                                p.currentY = n,
                                                o = p.width * d.scale,
                                                l = p.height * d.scale,
                                                p.minX = Math.min(h.slideWidth / 2 - o / 2, 0),
                                                p.maxX = -p.minX,
                                                p.minY = Math.min(h.slideHeight / 2 - l / 2, 0),
                                                p.maxY = -p.minY,
                                                p.currentX = Math.max(Math.min(p.currentX, p.maxX), p.minX),
                                                p.currentY = Math.max(Math.min(p.currentY, p.maxY), p.minY),
                                                h.$imageWrapEl.transition(r).transform("translate3d(" + p.currentX + "px, " + p.currentY + "px,0)")
                                        }
                                    },
                                    onTransitionEnd: function() {
                                        var e = this.zoom,
                                            t = e.gesture;
                                        t.$slideEl && this.previousIndex !== this.activeIndex && (t.$imageEl.transform("translate3d(0,0,0) scale(1)"), t.$imageWrapEl.transform("translate3d(0,0,0)"), t.$slideEl = void 0, t.$imageEl = void 0, t.$imageWrapEl = void 0, e.scale = 1, e.currentScale = 1)
                                    },
                                    toggle: function(e) {
                                        var t = this.zoom;
                                        t.scale && 1 !== t.scale ? t.out() : t. in (e)
                                    },
                                    in:function(e) {
                                        var t, i, s, a, n, r, o, l, d, h, p, c, u, f, m, v, g = this.zoom,
                                            b = this.params.zoom,
                                            w = g.gesture,
                                            y = g.image;
                                        w.$slideEl || (w.$slideEl = this.clickedSlide ? $(this.clickedSlide) : this.slides.eq(this.activeIndex), w.$imageEl = w.$slideEl.find("img, svg, canvas"), w.$imageWrapEl = w.$imageEl.parent("." + b.containerClass)),
                                        w.$imageEl && 0 !== w.$imageEl.length && (w.$slideEl.addClass("" + b.zoomedSlideClass), i = void 0 === y.touchesStart.x && e ? (t = "touchend" === e.type ? e.changedTouches[0].pageX: e.pageX, "touchend" === e.type ? e.changedTouches[0].pageY: e.pageY) : (t = y.touchesStart.x, y.touchesStart.y), g.scale = w.$imageWrapEl.attr("data-swiper-zoom") || b.maxRatio, g.currentScale = w.$imageWrapEl.attr("data-swiper-zoom") || b.maxRatio, e ? (m = w.$slideEl[0].offsetWidth, v = w.$slideEl[0].offsetHeight, s = w.$slideEl.offset().left + m / 2 - t, a = w.$slideEl.offset().top + v / 2 - i, o = w.$imageEl[0].offsetWidth, l = w.$imageEl[0].offsetHeight, d = o * g.scale, h = l * g.scale, u = -(p = Math.min(m / 2 - d / 2, 0)), f = -(c = Math.min(v / 2 - h / 2, 0)), (n = s * g.scale) < p && (n = p), u < n && (n = u), (r = a * g.scale) < c && (r = c), f < r && (r = f)) : r = n = 0, w.$imageWrapEl.transition(300).transform("translate3d(" + n + "px, " + r + "px,0)"), w.$imageEl.transition(300).transform("translate3d(0,0,0) scale(" + g.scale + ")"))
                                    },
                                    out: function() {
                                        var e = this.zoom,
                                            t = this.params.zoom,
                                            i = e.gesture;
                                        i.$slideEl || (i.$slideEl = this.clickedSlide ? $(this.clickedSlide) : this.slides.eq(this.activeIndex), i.$imageEl = i.$slideEl.find("img, svg, canvas"), i.$imageWrapEl = i.$imageEl.parent("." + t.containerClass)),
                                        i.$imageEl && 0 !== i.$imageEl.length && (e.scale = 1, e.currentScale = 1, i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"), i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"), i.$slideEl.removeClass("" + t.zoomedSlideClass), i.$slideEl = void 0)
                                    },
                                    enable: function() {
                                        var e, t, s = this,
                                            a = s.zoom;
                                        a.enabled || (a.enabled = !0, e = s.slides, t = !("touchstart" !== s.touchEvents.start || !D.passiveListener || !s.params.passiveListeners) && {
                                            passive: !0,
                                            capture: !1
                                        },
                                            D.gestures ? (e.on("gesturestart", a.onGestureStart, t), e.on("gesturechange", a.onGestureChange, t), e.on("gestureend", a.onGestureEnd, t)) : "touchstart" === s.touchEvents.start && (e.on(s.touchEvents.start, a.onGestureStart, t), e.on(s.touchEvents.move, a.onGestureChange, t), e.on(s.touchEvents.end, a.onGestureEnd, t)), s.slides.each(function(e, t) {
                                            var i = $(t);
                                            0 < i.find("." + s.params.zoom.containerClass).length && i.on(s.touchEvents.move, a.onTouchMove)
                                        }))
                                    },
                                    disable: function() {
                                        var e, t, s = this,
                                            a = s.zoom;
                                        a.enabled && (s.zoom.enabled = !1, e = s.slides, t = !("touchstart" !== s.touchEvents.start || !D.passiveListener || !s.params.passiveListeners) && {
                                            passive: !0,
                                            capture: !1
                                        },
                                            D.gestures ? (e.off("gesturestart", a.onGestureStart, t), e.off("gesturechange", a.onGestureChange, t), e.off("gestureend", a.onGestureEnd, t)) : "touchstart" === s.touchEvents.start && (e.off(s.touchEvents.start, a.onGestureStart, t), e.off(s.touchEvents.move, a.onGestureChange, t), e.off(s.touchEvents.end, a.onGestureEnd, t)), s.slides.each(function(e, t) {
                                            var i = $(t);
                                            0 < i.find("." + s.params.zoom.containerClass).length && i.off(s.touchEvents.move, a.onTouchMove)
                                        }))
                                    }
                                })
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                parallax: {
                                    setTransform: F.setTransform.bind(this),
                                    setTranslate: F.setTranslate.bind(this),
                                    setTransition: F.setTransition.bind(this)
                                }
                            })
                        },
                        on: {
                            beforeInit: function() {
                                this.params.watchSlidesProgress = !0
                            },
                            init: function() {
                                this.params.parallax && this.parallax.setTranslate()
                            },
                            setTranslate: function() {
                                this.params.parallax && this.parallax.setTranslate()
                            },
                            setTransition: function(e) {
                                this.params.parallax && this.parallax.setTransition(e)
                            }
                        }
                    },
                    {
                        name: "zoom",
                        params: {
                            zoom: {
                                enabled: !(F = {
                                    setTransform: function(e, t) {
                                        var i, s, a = this.rtl,
                                            n = $(e),
                                            r = a ? -1 : 1,
                                            o = n.attr("data-swiper-parallax") || "0",
                                            l = n.attr("data-swiper-parallax-x"),
                                            d = n.attr("data-swiper-parallax-y"),
                                            h = n.attr("data-swiper-parallax-scale"),
                                            p = n.attr("data-swiper-parallax-opacity");
                                        l || d ? (l = l || "0", d = d || "0") : this.isHorizontal() ? (l = o, d = "0") : (d = o, l = "0"),
                                            l = 0 <= l.indexOf("%") ? parseInt(l, 10) * t * r + "%": l * t * r + "px",
                                            d = 0 <= d.indexOf("%") ? parseInt(d, 10) * t + "%": d * t + "px",
                                        null != p && (i = p - (p - 1) * (1 - Math.abs(t)), n[0].style.opacity = i),
                                            null == h ? n.transform("translate3d(" + l + ", " + d + ", 0px)") : (s = h - (h - 1) * (1 - Math.abs(t)), n.transform("translate3d(" + l + ", " + d + ", 0px) scale(" + s + ")"))
                                    },
                                    setTranslate: function() {
                                        var s = this,
                                            e = s.$el,
                                            t = s.slides,
                                            a = s.progress,
                                            n = s.snapGrid;
                                        e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e, t) {
                                            s.parallax.setTransform(t, a)
                                        }),
                                            t.each(function(e, t) {
                                                var i = t.progress;
                                                1 < s.params.slidesPerGroup && "auto" !== s.params.slidesPerView && (i += Math.ceil(e / 2) - a * (n.length - 1)),
                                                    i = Math.min(Math.max(i, -1), 1),
                                                    $(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e, t) {
                                                        s.parallax.setTransform(t, i)
                                                    })
                                            })
                                    },
                                    setTransition: function(a) {
                                        void 0 === a && (a = this.params.speed),
                                            this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e, t) {
                                                var i = $(t),
                                                    s = parseInt(i.attr("data-swiper-parallax-duration"), 10) || a;
                                                0 === a && (s = 0),
                                                    i.transition(s)
                                            })
                                    }
                                }),
                                maxRatio: 3,
                                minRatio: 1,
                                toggle: !0,
                                containerClass: "swiper-zoom-container",
                                zoomedSlideClass: "swiper-slide-zoomed"
                            }
                        },
                        create: function() {
                            var t = this,
                                i = {
                                    enabled: !1,
                                    scale: 1,
                                    currentScale: 1,
                                    isScaling: !1,
                                    gesture: {
                                        $slideEl: void 0,
                                        slideWidth: void 0,
                                        slideHeight: void 0,
                                        $imageEl: void 0,
                                        $imageWrapEl: void 0,
                                        maxRatio: 3
                                    },
                                    image: {
                                        isTouched: void 0,
                                        isMoved: void 0,
                                        currentX: void 0,
                                        currentY: void 0,
                                        minX: void 0,
                                        minY: void 0,
                                        maxX: void 0,
                                        maxY: void 0,
                                        width: void 0,
                                        height: void 0,
                                        startX: void 0,
                                        startY: void 0,
                                        touchesStart: {},
                                        touchesCurrent: {}
                                    },
                                    velocity: {
                                        x: void 0,
                                        y: void 0,
                                        prevPositionX: void 0,
                                        prevPositionY: void 0,
                                        prevTime: void 0
                                    }
                                };
                            "onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(e) {
                                i[e] = W[e].bind(t)
                            }),
                                I.extend(t, {
                                    zoom: i
                                })
                        },
                        on: {
                            init: function() {
                                this.params.zoom.enabled && this.zoom.enable()
                            },
                            destroy: function() {
                                this.zoom.disable()
                            },
                            touchStart: function(e) {
                                this.zoom.enabled && this.zoom.onTouchStart(e)
                            },
                            touchEnd: function(e) {
                                this.zoom.enabled && this.zoom.onTouchEnd(e)
                            },
                            doubleTap: function(e) {
                                this.params.zoom.enabled && this.zoom.enabled && this.params.zoom.toggle && this.zoom.toggle(e)
                            },
                            transitionEnd: function() {
                                this.zoom.enabled && this.params.zoom.enabled && this.zoom.onTransitionEnd()
                            }
                        }
                    },
                    {
                        name: "lazy",
                        params: {
                            lazy: {
                                enabled: !(R = {
                                    setTranslate: function() {
                                        if (this.params.scrollbar.el && this.scrollbar.el) {
                                            var e = this.scrollbar,
                                                t = this.rtl,
                                                i = this.progress,
                                                s = e.dragSize,
                                                a = e.trackSize,
                                                n = e.$dragEl,
                                                r = e.$el,
                                                o = this.params.scrollbar,
                                                l = s,
                                                d = (a - s) * i;
                                            t && this.isHorizontal() ? 0 < (d = -d) ? (l = s - d, d = 0) : a < -d + s && (l = a + d) : d < 0 ? (l = s + d, d = 0) : a < d + s && (l = a - d),
                                                this.isHorizontal() ? (D.transforms3d ? n.transform("translate3d(" + d + "px, 0, 0)") : n.transform("translateX(" + d + "px)"), n[0].style.width = l + "px") : (D.transforms3d ? n.transform("translate3d(0px, " + d + "px, 0)") : n.transform("translateY(" + d + "px)"), n[0].style.height = l + "px"),
                                            o.hide && (clearTimeout(this.scrollbar.timeout), r[0].style.opacity = 1, this.scrollbar.timeout = setTimeout(function() {
                                                    r[0].style.opacity = 0,
                                                        r.transition(400)
                                                },
                                                1e3))
                                        }
                                    },
                                    setTransition: function(e) {
                                        this.params.scrollbar.el && this.scrollbar.el && this.scrollbar.$dragEl.transition(e)
                                    },
                                    updateSize: function() {
                                        var e, t, i, s, a, n, r;
                                        this.params.scrollbar.el && this.scrollbar.el && (t = (e = this.scrollbar).$dragEl, i = e.$el, t[0].style.width = "", t[0].style.height = "", a = this.isHorizontal() ? i[0].offsetWidth: i[0].offsetHeight, r = (n = this.size / this.virtualSize) * (a / this.size), s = "auto" === this.params.scrollbar.dragSize ? a * n: parseInt(this.params.scrollbar.dragSize, 10), this.isHorizontal() ? t[0].style.width = s + "px": t[0].style.height = s + "px", i[0].style.display = 1 <= n ? "none": "", this.params.scrollbarHide && (i[0].style.opacity = 0), I.extend(e, {
                                            trackSize: a,
                                            divider: n,
                                            moveDivider: r,
                                            dragSize: s
                                        }), e.$el[this.params.watchOverflow && this.isLocked ? "addClass": "removeClass"](this.params.scrollbar.lockClass))
                                    },
                                    setDragPosition: function(e) {
                                        var t, i = this.scrollbar,
                                            s = i.$el,
                                            a = i.dragSize,
                                            n = i.trackSize,
                                            r = ((this.isHorizontal() ? "touchstart" === e.type || "touchmove" === e.type ? e.targetTouches[0].pageX: e.pageX || e.clientX: "touchstart" === e.type || "touchmove" === e.type ? e.targetTouches[0].pageY: e.pageY || e.clientY) - s.offset()[this.isHorizontal() ? "left": "top"] - a / 2) / (n - a);
                                        r = Math.max(Math.min(r, 1), 0),
                                        this.rtl && (r = 1 - r),
                                            t = this.minTranslate() + (this.maxTranslate() - this.minTranslate()) * r,
                                            this.updateProgress(t),
                                            this.setTranslate(t),
                                            this.updateActiveIndex(),
                                            this.updateSlidesClasses()
                                    },
                                    onDragStart: function(e) {
                                        var t = this.params.scrollbar,
                                            i = this.scrollbar,
                                            s = this.$wrapperEl,
                                            a = i.$el,
                                            n = i.$dragEl;
                                        this.scrollbar.isTouched = !0,
                                            e.preventDefault(),
                                            e.stopPropagation(),
                                            s.transition(100),
                                            n.transition(100),
                                            i.setDragPosition(e),
                                            clearTimeout(this.scrollbar.dragTimeout),
                                            a.transition(0),
                                        t.hide && a.css("opacity", 1),
                                            this.emit("scrollbarDragStart", e)
                                    },
                                    onDragMove: function(e) {
                                        var t = this.scrollbar,
                                            i = this.$wrapperEl,
                                            s = t.$el,
                                            a = t.$dragEl;
                                        this.scrollbar.isTouched && (e.preventDefault ? e.preventDefault() : e.returnValue = !1, t.setDragPosition(e), i.transition(0), s.transition(0), a.transition(0), this.emit("scrollbarDragMove", e))
                                    },
                                    onDragEnd: function(e) {
                                        var t = this.params.scrollbar,
                                            i = this.scrollbar.$el;
                                        this.scrollbar.isTouched && (this.scrollbar.isTouched = !1, t.hide && (clearTimeout(this.scrollbar.dragTimeout), this.scrollbar.dragTimeout = I.nextTick(function() {
                                                i.css("opacity", 0),
                                                    i.transition(400)
                                            },
                                            1e3)), this.emit("scrollbarDragEnd", e), t.snapOnRelease && this.slideReset())
                                    },
                                    enableDraggable: function() {
                                        if (this.params.scrollbar.el) {
                                            var e = this.scrollbar.$el,
                                                t = D.touch ? e[0] : document;
                                            e.on(this.scrollbar.dragEvents.start, this.scrollbar.onDragStart),
                                                $(t).on(this.scrollbar.dragEvents.move, this.scrollbar.onDragMove),
                                                $(t).on(this.scrollbar.dragEvents.end, this.scrollbar.onDragEnd)
                                        }
                                    },
                                    disableDraggable: function() {
                                        if (this.params.scrollbar.el) {
                                            var e = this.scrollbar.$el,
                                                t = D.touch ? e[0] : document;
                                            e.off(this.scrollbar.dragEvents.start),
                                                $(t).off(this.scrollbar.dragEvents.move),
                                                $(t).off(this.scrollbar.dragEvents.end)
                                        }
                                    },
                                    init: function() {
                                        var e, t, i, s, a, n, r = this;
                                        r.params.scrollbar.el && (e = r.scrollbar, t = r.$el, i = r.touchEvents, a = $((s = r.params.scrollbar).el), r.params.uniqueNavElements && "string" == typeof s.el && 1 < a.length && 1 === t.find(s.el).length && (a = t.find(s.el)), 0 === (n = a.find(".swiper-scrollbar-drag")).length && (n = $('<div class="swiper-scrollbar-drag"></div>'), a.append(n)), r.scrollbar.dragEvents = !1 !== r.params.simulateTouch || D.touch ? i: {
                                            start: "mousedown",
                                            move: "mousemove",
                                            end: "mouseup"
                                        },
                                            I.extend(e, {
                                                $el: a,
                                                el: a[0],
                                                $dragEl: n,
                                                dragEl: n[0]
                                            }), s.draggable && e.enableDraggable())
                                    },
                                    destroy: function() {
                                        this.scrollbar.disableDraggable()
                                    }
                                }),
                                loadPrevNext: !(V = {
                                    update: function() {
                                        var s, e, t, i, a, n, r, o, l, d, h, p, c = this.rtl,
                                            u = this.params.pagination;
                                        u.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length && (e = this.virtual && this.params.virtual.enabled ? this.virtual.slides.length: this.slides.length, t = this.pagination.$el, i = this.params.loop ? Math.ceil((e - 2 * this.loopedSlides) / this.params.slidesPerGroup) : this.snapGrid.length, this.params.loop ? ((s = Math.ceil((this.activeIndex - this.loopedSlides) / this.params.slidesPerGroup)) > e - 1 - 2 * this.loopedSlides && (s -= e - 2 * this.loopedSlides), i - 1 < s && (s -= i), s < 0 && "bullets" !== this.params.paginationType && (s = i + s)) : s = void 0 !== this.snapIndex ? this.snapIndex: this.activeIndex || 0, "bullets" === u.type && this.pagination.bullets && 0 < this.pagination.bullets.length && (a = this.pagination.bullets, u.dynamicBullets && (this.pagination.bulletSize = a.eq(0)[this.isHorizontal() ? "outerWidth": "outerHeight"](!0), t.css(this.isHorizontal() ? "width": "height", 5 * this.pagination.bulletSize + "px")), a.removeClass(u.bulletActiveClass + " " + u.bulletActiveClass + "-next " + u.bulletActiveClass + "-next-next " + u.bulletActiveClass + "-prev " + u.bulletActiveClass + "-prev-prev"), 1 < t.length ? a.each(function(e, t) {
                                            var i = $(t);
                                            i.index() === s && (i.addClass(u.bulletActiveClass), u.dynamicBullets && (i.prev().addClass(u.bulletActiveClass + "-prev").prev().addClass(u.bulletActiveClass + "-prev-prev"), i.next().addClass(u.bulletActiveClass + "-next").next().addClass(u.bulletActiveClass + "-next-next")))
                                        }) : ((n = a.eq(s)).addClass(u.bulletActiveClass), u.dynamicBullets && (n.prev().addClass(u.bulletActiveClass + "-prev").prev().addClass(u.bulletActiveClass + "-prev-prev"), n.next().addClass(u.bulletActiveClass + "-next").next().addClass(u.bulletActiveClass + "-next-next"))), u.dynamicBullets && (r = Math.min(a.length, 5), o = (this.pagination.bulletSize * r - this.pagination.bulletSize) / 2 - s * this.pagination.bulletSize, l = c ? "right": "left", a.css(this.isHorizontal() ? l: "top", o + "px"))), "fraction" === u.type && (t.find("." + u.currentClass).text(s + 1), t.find("." + u.totalClass).text(i)), "progressbar" === u.type && (h = d = (s + 1) / i, p = 1, this.isHorizontal() || (p = d, h = 1), t.find("." + u.progressbarFillClass).transform("translate3d(0,0,0) scaleX(" + h + ") scaleY(" + p + ")").transition(this.params.speed)), "custom" === u.type && u.renderCustom ? (t.html(u.renderCustom(this, s + 1, i)), this.emit("paginationRender", this, t[0])) : this.emit("paginationUpdate", this, t[0]), t[this.params.watchOverflow && this.isLocked ? "addClass": "removeClass"](u.lockClass))
                                    },
                                    render: function() {
                                        var e, t, i, s, a, n = this.params.pagination;
                                        if (n.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length) {
                                            if (e = this.virtual && this.params.virtual.enabled ? this.virtual.slides.length: this.slides.length, t = this.pagination.$el, i = "", "bullets" === n.type) {
                                                for (s = this.params.loop ? Math.ceil((e - 2 * this.loopedSlides) / this.params.slidesPerGroup) : this.snapGrid.length, a = 0; a < s; a += 1) n.renderBullet ? i += n.renderBullet.call(this, a, n.bulletClass) : i += "<" + n.bulletElement + ' class="' + n.bulletClass + '"></' + n.bulletElement + ">";
                                                t.html(i),
                                                    this.pagination.bullets = t.find("." + n.bulletClass)
                                            }
                                            "fraction" === n.type && (i = n.renderFraction ? n.renderFraction.call(this, n.currentClass, n.totalClass) : '<span class="' + n.currentClass + '"></span> / <span class="' + n.totalClass + '"></span>', t.html(i)),
                                            "progressbar" === n.type && (i = n.renderProgressbar ? n.renderProgressbar.call(this, n.progressbarFillClass) : '<span class="' + n.progressbarFillClass + '"></span>', t.html(i)),
                                            "custom" !== n.type && this.emit("paginationRender", this.pagination.$el[0])
                                        }
                                    },
                                    init: function() {
                                        var e, i = this,
                                            t = i.params.pagination;
                                        t.el && 0 !== (e = $(t.el)).length && (i.params.uniqueNavElements && "string" == typeof t.el && 1 < e.length && 1 === i.$el.find(t.el).length && (e = i.$el.find(t.el)), "bullets" === t.type && t.clickable && e.addClass(t.clickableClass), e.addClass(t.modifierClass + t.type), "bullets" === t.type && t.dynamicBullets && e.addClass("" + t.modifierClass + t.type + "-dynamic"), t.clickable && e.on("click", "." + t.bulletClass,
                                            function(e) {
                                                e.preventDefault();
                                                var t = $(this).index() * i.params.slidesPerGroup;
                                                i.params.loop && (t += i.loopedSlides),
                                                    i.slideTo(t)
                                            }), I.extend(i.pagination, {
                                            $el: e,
                                            el: e[0]
                                        }))
                                    },
                                    destroy: function() {
                                        var e, t = this.params.pagination;
                                        t.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length && ((e = this.pagination.$el).removeClass(t.hiddenClass), e.removeClass(t.modifierClass + t.type), this.pagination.bullets && this.pagination.bullets.removeClass(t.bulletActiveClass), t.clickable && e.off("click", "." + t.bulletClass))
                                    }
                                }),
                                loadPrevNextAmount: 1,
                                loadOnTransitionStart: !(B = {
                                    update: function() {
                                        var e, t, i, s = this.params.navigation;
                                        this.params.loop || (t = (e = this.navigation).$nextEl, (i = e.$prevEl) && 0 < i.length && (this.isBeginning ? i.addClass(s.disabledClass) : i.removeClass(s.disabledClass), i[this.params.watchOverflow && this.isLocked ? "addClass": "removeClass"](s.lockClass)), t && 0 < t.length && (this.isEnd ? t.addClass(s.disabledClass) : t.removeClass(s.disabledClass), t[this.params.watchOverflow && this.isLocked ? "addClass": "removeClass"](s.lockClass)))
                                    },
                                    init: function() {
                                        var e, t, i = this,
                                            s = i.params.navigation; (s.nextEl || s.prevEl) && (s.nextEl && (e = $(s.nextEl), i.params.uniqueNavElements && "string" == typeof s.nextEl && 1 < e.length && 1 === i.$el.find(s.nextEl).length && (e = i.$el.find(s.nextEl))), s.prevEl && (t = $(s.prevEl), i.params.uniqueNavElements && "string" == typeof s.prevEl && 1 < t.length && 1 === i.$el.find(s.prevEl).length && (t = i.$el.find(s.prevEl))), e && 0 < e.length && e.on("click",
                                            function(e) {
                                                e.preventDefault(),
                                                i.isEnd && !i.params.loop || i.slideNext()
                                            }), t && 0 < t.length && t.on("click",
                                            function(e) {
                                                e.preventDefault(),
                                                i.isBeginning && !i.params.loop || i.slidePrev()
                                            }), I.extend(i.navigation, {
                                            $nextEl: e,
                                            nextEl: e && e[0],
                                            $prevEl: t,
                                            prevEl: t && t[0]
                                        }))
                                    },
                                    destroy: function() {
                                        var e = this.navigation,
                                            t = e.$nextEl,
                                            i = e.$prevEl;
                                        t && t.length && (t.off("click"), t.removeClass(this.params.navigation.disabledClass)),
                                        i && i.length && (i.off("click"), i.removeClass(this.params.navigation.disabledClass))
                                    }
                                }),
                                elementClass: "swiper-lazy",
                                loadingClass: "swiper-lazy-loading",
                                loadedClass: "swiper-lazy-loaded",
                                preloaderClass: "swiper-lazy-preloader"
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                lazy: {
                                    initialImageLoaded: !1,
                                    load: j.load.bind(this),
                                    loadInSlide: j.loadInSlide.bind(this)
                                }
                            })
                        },
                        on: {
                            beforeInit: function() {
                                this.params.lazy.enabled && this.params.preloadImages && (this.params.preloadImages = !1)
                            },
                            init: function() {
                                this.params.lazy.enabled && !this.params.loop && 0 === this.params.initialSlide && this.lazy.load()
                            },
                            scroll: function() {
                                this.params.freeMode && !this.params.freeModeSticky && this.lazy.load()
                            },
                            resize: function() {
                                this.params.lazy.enabled && this.lazy.load()
                            },
                            scrollbarDragMove: function() {
                                this.params.lazy.enabled && this.lazy.load()
                            },
                            transitionStart: function() {
                                this.params.lazy.enabled && (this.params.lazy.loadOnTransitionStart || !this.params.lazy.loadOnTransitionStart && !this.lazy.initialImageLoaded) && this.lazy.load()
                            },
                            transitionEnd: function() {
                                this.params.lazy.enabled && !this.params.lazy.loadOnTransitionStart && this.lazy.load()
                            }
                        }
                    },
                    {
                        name: "controller",
                        params: {
                            controller: {
                                control: void 0,
                                inverse: !1,
                                by: "slide"
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                controller: {
                                    control: this.params.controller.control,
                                    getInterpolateFunction: q.getInterpolateFunction.bind(this),
                                    setTranslate: q.setTranslate.bind(this),
                                    setTransition: q.setTransition.bind(this)
                                }
                            })
                        },
                        on: {
                            update: function() {
                                this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline)
                            },
                            resize: function() {
                                this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline)
                            },
                            observerUpdate: function() {
                                this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline)
                            },
                            setTranslate: function(e, t) {
                                this.controller.control && this.controller.setTranslate(e, t)
                            },
                            setTransition: function(e, t) {
                                this.controller.control && this.controller.setTransition(e, t)
                            }
                        }
                    },
                    {
                        name: "a11y",
                        params: {
                            a11y: {
                                enabled: !1,
                                notificationClass: "swiper-notification",
                                prevSlideMessage: "Previous slide",
                                nextSlideMessage: "Next slide",
                                firstSlideMessage: "This is the first slide",
                                lastSlideMessage: "This is the last slide",
                                paginationBulletMessage: "Go to slide {{index}}"
                            }
                        },
                        create: function() {
                            var t = this;
                            I.extend(t, {
                                a11y: {
                                    liveRegion: $('<span class="' + t.params.a11y.notificationClass + '" aria-live="assertive" aria-atomic="true"></span>')
                                }
                            }),
                                Object.keys(K).forEach(function(e) {
                                    t.a11y[e] = K[e].bind(t)
                                })
                        },
                        on: {
                            init: function() {
                                this.params.a11y.enabled && (this.a11y.init(), this.a11y.updateNavigation())
                            },
                            toEdge: function() {
                                this.params.a11y.enabled && this.a11y.updateNavigation()
                            },
                            fromEdge: function() {
                                this.params.a11y.enabled && this.a11y.updateNavigation()
                            },
                            paginationUpdate: function() {
                                this.params.a11y.enabled && this.a11y.updatePagination()
                            },
                            destroy: function() {
                                this.params.a11y.enabled && this.a11y.destroy()
                            }
                        }
                    },
                    {
                        name: "history",
                        params: {
                            history: {
                                enabled: !1,
                                replaceState: !1,
                                key: "slides"
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                history: {
                                    init: U.init.bind(this),
                                    setHistory: U.setHistory.bind(this),
                                    setHistoryPopState: U.setHistoryPopState.bind(this),
                                    scrollToSlide: U.scrollToSlide.bind(this),
                                    destroy: U.destroy.bind(this)
                                }
                            })
                        },
                        on: {
                            init: function() {
                                this.params.history.enabled && this.history.init()
                            },
                            destroy: function() {
                                this.params.history.enabled && this.history.destroy()
                            },
                            transitionEnd: function() {
                                this.history.initialized && this.history.setHistory(this.params.history.key, this.activeIndex)
                            }
                        }
                    },
                    {
                        name: "hash-navigation",
                        params: {
                            hashNavigation: {
                                enabled: !1,
                                replaceState: !1,
                                watchState: !1
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                hashNavigation: {
                                    initialized: !1,
                                    init: _.init.bind(this),
                                    destroy: _.destroy.bind(this),
                                    setHash: _.setHash.bind(this),
                                    onHashCange: _.onHashCange.bind(this)
                                }
                            })
                        },
                        on: {
                            init: function() {
                                this.params.hashNavigation.enabled && this.hashNavigation.init()
                            },
                            destroy: function() {
                                this.params.hashNavigation.enabled && this.hashNavigation.destroy()
                            },
                            transitionEnd: function() {
                                this.hashNavigation.initialized && this.hashNavigation.setHash()
                            }
                        }
                    },
                    {
                        name: "autoplay",
                        params: {
                            autoplay: {
                                enabled: !1,
                                delay: 3e3,
                                waitForTransition: !0,
                                disableOnInteraction: !0,
                                stopOnLastSlide: !1,
                                reverseDirection: !1
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                autoplay: {
                                    running: !1,
                                    paused: !1,
                                    run: Z.run.bind(this),
                                    start: Z.start.bind(this),
                                    stop: Z.stop.bind(this),
                                    pause: Z.pause.bind(this)
                                }
                            })
                        },
                        on: {
                            init: function() {
                                this.params.autoplay.enabled && this.autoplay.start()
                            },
                            beforeTransitionStart: function(e, t) {
                                this.autoplay.running && (t || !this.params.autoplay.disableOnInteraction ? this.autoplay.pause(e) : this.autoplay.stop())
                            },
                            sliderFirstMove: function() {
                                this.autoplay.running && (this.params.autoplay.disableOnInteraction ? this.autoplay.stop() : this.autoplay.pause())
                            },
                            destroy: function() {
                                this.autoplay.running && this.autoplay.stop()
                            }
                        }
                    },
                    {
                        name: "effect-fade",
                        params: {
                            fadeEffect: {
                                crossFade: !1
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                fadeEffect: {
                                    setTranslate: Q.setTranslate.bind(this),
                                    setTransition: Q.setTransition.bind(this)
                                }
                            })
                        },
                        on: {
                            beforeInit: function() {
                                if ("fade" === this.params.effect) {
                                    this.classNames.push(this.params.containerModifierClass + "fade");
                                    var e = {
                                        slidesPerView: 1,
                                        slidesPerColumn: 1,
                                        slidesPerGroup: 1,
                                        watchSlidesProgress: !0,
                                        spaceBetween: 0,
                                        virtualTranslate: !0
                                    };
                                    I.extend(this.params, e),
                                        I.extend(this.originalParams, e)
                                }
                            },
                            setTranslate: function() {
                                "fade" === this.params.effect && this.fadeEffect.setTranslate()
                            },
                            setTransition: function(e) {
                                "fade" === this.params.effect && this.fadeEffect.setTransition(e)
                            }
                        }
                    },
                    {
                        name: "effect-cube",
                        params: {
                            cubeEffect: {
                                slideShadows: !0,
                                shadow: !0,
                                shadowOffset: 20,
                                shadowScale: .94
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                cubeEffect: {
                                    setTranslate: J.setTranslate.bind(this),
                                    setTransition: J.setTransition.bind(this)
                                }
                            })
                        },
                        on: {
                            beforeInit: function() {
                                if ("cube" === this.params.effect) {
                                    this.classNames.push(this.params.containerModifierClass + "cube"),
                                        this.classNames.push(this.params.containerModifierClass + "3d");
                                    var e = {
                                        slidesPerView: 1,
                                        slidesPerColumn: 1,
                                        slidesPerGroup: 1,
                                        watchSlidesProgress: !0,
                                        resistanceRatio: 0,
                                        spaceBetween: 0,
                                        centeredSlides: !1,
                                        virtualTranslate: !0
                                    };
                                    I.extend(this.params, e),
                                        I.extend(this.originalParams, e)
                                }
                            },
                            setTranslate: function() {
                                "cube" === this.params.effect && this.cubeEffect.setTranslate()
                            },
                            setTransition: function(e) {
                                "cube" === this.params.effect && this.cubeEffect.setTransition(e)
                            }
                        }
                    },
                    {
                        name: "effect-flip",
                        params: {
                            flipEffect: {
                                slideShadows: !0,
                                limitRotation: !0
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                flipEffect: {
                                    setTranslate: ee.setTranslate.bind(this),
                                    setTransition: ee.setTransition.bind(this)
                                }
                            })
                        },
                        on: {
                            beforeInit: function() {
                                if ("flip" === this.params.effect) {
                                    this.classNames.push(this.params.containerModifierClass + "flip"),
                                        this.classNames.push(this.params.containerModifierClass + "3d");
                                    var e = {
                                        slidesPerView: 1,
                                        slidesPerColumn: 1,
                                        slidesPerGroup: 1,
                                        watchSlidesProgress: !0,
                                        spaceBetween: 0,
                                        virtualTranslate: !0
                                    };
                                    I.extend(this.params, e),
                                        I.extend(this.originalParams, e)
                                }
                            },
                            setTranslate: function() {
                                "flip" === this.params.effect && this.flipEffect.setTranslate()
                            },
                            setTransition: function(e) {
                                "flip" === this.params.effect && this.flipEffect.setTransition(e)
                            }
                        }
                    },
                    {
                        name: "effect-coverflow",
                        params: {
                            coverflowEffect: {
                                rotate: 50,
                                stretch: 0,
                                depth: 100,
                                modifier: 1,
                                slideShadows: !0
                            }
                        },
                        create: function() {
                            I.extend(this, {
                                coverflowEffect: {
                                    setTranslate: te.setTranslate.bind(this),
                                    setTransition: te.setTransition.bind(this)
                                }
                            })
                        },
                        on: {
                            beforeInit: function() {
                                "coverflow" === this.params.effect && (this.classNames.push(this.params.containerModifierClass + "coverflow"), this.classNames.push(this.params.containerModifierClass + "3d"), this.params.watchSlidesProgress = !0, this.originalParams.watchSlidesProgress = !0)
                            },
                            setTranslate: function() {
                                "coverflow" === this.params.effect && this.coverflowEffect.setTranslate()
                            },
                            setTransition: function(e) {
                                "coverflow" === this.params.effect && this.coverflowEffect.setTransition(e)
                            }
                        }
                    }],
            void 0 === C.use && (C.use = C.Class.use, C.installModule = C.Class.installModule),
                C.use(ie),
                C
        });
OSCDefine("web-news-index",
    function() {
        var e = function() {};
        return e.prototype = {
            constructor: e,
            initTopSwiper: function() {
                new Swiper(".swiper-container", {
                    autoplay: {
                        delay: 3e3,
                        disableOnInteraction: !1
                    },
                    simulateTouch: !1,
                    pagination: {
                        el: ".swiper-pagination",
                        clickable: !0
                    }
                })
            },
            initNewsInfiniteScroll: function() {
                var e, t, n = this,
                    i = {
                        newsList: 1,
                        genericNewsList: 1,
                        projectNewsList: 1,
                        industryNewsList: 1,
                        programmingLanguageNewsList: 1
                    },
                    o = {
                        newsList: new OSCInfiniteScroll({
                            pagePath: ".all-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#newsList",
                            itemListSelector: ".news-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                n.optimizeImgShow()
                            }
                        }),
                        genericNewsList: new OSCInfiniteScroll({
                            pagePath: ".generic-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#genericNewsList",
                            itemListSelector: ".news-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                n.optimizeImgShow()
                            }
                        }),
                        projectNewsList: new OSCInfiniteScroll({
                            pagePath: ".project-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#projectNewsList",
                            itemListSelector: ".news-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                n.optimizeImgShow()
                            }
                        }),
                        industryNewsList: new OSCInfiniteScroll({
                            pagePath: ".industry-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#industryNewsList",
                            itemListSelector: ".news-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                n.optimizeImgShow()
                            }
                        }),
                        programmingLanguageNewsList: new OSCInfiniteScroll({
                            pagePath: ".programming-language-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#programmingLanguageNewsList",
                            itemListSelector: ".news-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                n.optimizeImgShow()
                            }
                        })
                    },
                    a = "newsList",
                    r = $(".article-list.active.tab");
                0 < r.length && (e = r.attr("data-tab") || "") && o[e] && (a = e),
                    o[a].init(),
                    t = a,
                    $(".news-tab.menu .item").tab({
                        onLoad: function(e) {
                            t !== e && (o[t]._infScroll && (i[t] = o[t]._infScroll.pageIndex), o[t].destroy(), o[e].init(), o[e]._infScroll && (o[e]._infScroll.pageIndex = i[e]), t = e)
                        }
                    })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(90, 90)
                })
            },
            parseEmoticon: function() {
                $(function() {
                    $("[data-emoji-render]").emoticon()
                })
            },
            register: function() {
                this.initTopSwiper(),
                    this.initNewsInfiniteScroll(),
                    this.optimizeImgShow(),
                    this.parseEmoticon()
            }
        },
            e
    });
OSCPlugin("news-detail-comments",
    function() {
        return function() {
            var t = {
                    config: {
                        objId: 0,
                        fetchCommentsUrl: "",
                        publishCommentUrl: "",
                        replyCommentUrl: "",
                        deleteCommentUrl: ""
                    },
                    init: function(e) {
                        this._commentsContainer = $("#commentsContainer"),
                            this._commentsWrap = this._commentsContainer.find(".comments-wrap"),
                            this.config = $.isPlainObject(e) ? $.extend(!0, {},
                                this.config, e) : $.extend({},
                                this.config)
                    },
                    loadComments: function() {
                        var t = this;
                        $.get(t.config.fetchCommentsUrl,
                            function(e) {
                                t._commentsWrap.html(e),
                                    t.parseEmoticon()
                            })
                    },
                    initCommentForm: function() {
                        var a = this;
                        a.commentFormVue = new Vue({
                            el: "#commentForm",
                            data: function() {
                                return {
                                    commentMaxLength: 1e3,
                                    commentContent: "",
                                    commentPublishLoading: !1,
                                    tipMessage: {
                                        show: !1,
                                        content: "",
                                        className: ""
                                    },
                                    curEmojiType: "People",
                                    emojiList: [{
                                        type: "People",
                                        items: ["bowtie", "smile", "laughing", "blush", "smiley", "relaxed", "smirk", "heart_eyes", "kissing_heart", "kissing_closed_eyes", "flushed", "relieved", "satisfied", "grin", "wink", "stuck_out_tongue_winking_eye", "stuck_out_tongue_closed_eyes", "grinning", "kissing", "kissing_smiling_eyes", "stuck_out_tongue", "sleeping", "worried", "frowning", "anguished", "open_mouth", "grimacing", "confused", "hushed", "expressionless", "unamused", "sweat_smile", "sweat", "disappointed_relieved", "weary", "pensive", "disappointed", "confounded", "fearful", "cold_sweat", "persevere", "cry", "sob", "joy", "astonished", "scream", "neckbeard", "tired_face", "angry", "rage", "triumph", "sleepy", "yum", "mask", "sunglasses", "dizzy_face", "imp", "smiling_imp", "neutral_face", "no_mouth", "innocent", "alien", "yellow_heart", "blue_heart", "purple_heart", "heart", "green_heart", "broken_heart", "heartbeat", "heartpulse", "two_hearts", "revolving_hearts", "cupid", "sparkling_heart", "sparkles", "star", "star2", "dizzy", "boom", "collision", "anger", "exclamation", "question", "grey_exclamation", "grey_question", "zzz", "dash", "sweat_drops", "notes", "musical_note", "fire", "hankey", "poop", "shit", "+1", "thumbsup", "-1", "thumbsdown", "ok_hand", "punch", "facepunch", "fist", "v", "wave", "hand", "raised_hand", "open_hands", "point_up", "point_down", "point_left", "point_right", "raised_hands", "pray", "point_up_2", "clap", "muscle", "metal", "fu", "walking", "runner", "running", "couple", "family", "two_men_holding_hands", "two_women_holding_hands", "dancer", "dancers", "ok_woman", "no_good", "information_desk_person", "raising_hand", "bride_with_veil", "person_with_pouting_face", "person_frowning", "bow", "couplekiss", "couple_with_heart", "massage", "haircut", "nail_care", "boy", "girl", "woman", "man", "baby", "older_woman", "older_man", "person_with_blond_hair", "man_with_gua_pi_mao", "man_with_turban", "construction_worker", "cop", "angel", "princess", "smiley_cat", "smile_cat", "heart_eyes_cat", "kissing_cat", "smirk_cat", "scream_cat", "crying_cat_face", "joy_cat", "pouting_cat", "japanese_ogre", "japanese_goblin", "see_no_evil", "hear_no_evil", "speak_no_evil", "guardsman", "skull", "feet", "lips", "kiss", "droplet", "ear", "eyes", "nose", "tongue", "love_letter", "bust_in_silhouette", "busts_in_silhouette", "speech_balloon", "thought_balloon", "feelsgood", "finnadie", "goberserk", "godmode", "hurtrealbad", "rage1", "rage2", "rage3", "rage4", "suspect", "trollface"]
                                    },
                                        {
                                            type: "Nature",
                                            items: ["sunny", "umbrella", "cloud", "snowflake", "snowman", "zap", "cyclone", "foggy", "ocean", "cat", "dog", "mouse", "hamster", "rabbit", "wolf", "frog", "tiger", "koala", "bear", "pig", "pig_nose", "cow", "boar", "monkey_face", "monkey", "horse", "racehorse", "camel", "sheep", "elephant", "panda_face", "snake", "bird", "baby_chick", "hatched_chick", "hatching_chick", "chicken", "penguin", "turtle", "bug", "honeybee", "ant", "beetle", "snail", "octopus", "tropical_fish", "fish", "whale", "whale2", "dolphin", "cow2", "ram", "rat", "water_buffalo", "tiger2", "rabbit2", "dragon", "goat", "rooster", "dog2", "pig2", "mouse2", "ox", "dragon_face", "blowfish", "crocodile", "dromedary_camel", "leopard", "cat2", "poodle", "paw_prints", "bouquet", "cherry_blossom", "tulip", "four_leaf_clover", "rose", "sunflower", "hibiscus", "maple_leaf", "leaves", "fallen_leaf", "herb", "mushroom", "cactus", "palm_tree", "evergreen_tree", "deciduous_tree", "chestnut", "seedling", "blossom", "ear_of_rice", "shell", "globe_with_meridians", "sun_with_face", "full_moon_with_face", "new_moon_with_face", "new_moon", "waxing_crescent_moon", "first_quarter_moon", "waxing_gibbous_moon", "full_moon", "waning_gibbous_moon", "last_quarter_moon", "waning_crescent_moon", "last_quarter_moon_with_face", "first_quarter_moon_with_face", "moon", "earth_africa", "earth_americas", "earth_asia", "volcano", "milky_way", "partly_sunny", "octocat", "squirrel"]
                                        },
                                        {
                                            type: "Objects",
                                            items: ["bamboo", "gift_heart", "dolls", "school_satchel", "mortar_board", "flags", "fireworks", "sparkler", "wind_chime", "rice_scene", "jack_o_lantern", "ghost", "santa", "christmas_tree", "gift", "bell", "no_bell", "tanabata_tree", "tada", "confetti_ball", "balloon", "crystal_ball", "cd", "dvd", "floppy_disk", "camera", "video_camera", "movie_camera", "computer", "tv", "iphone", "phone", "telephone", "telephone_receiver", "pager", "fax", "minidisc", "vhs", "sound", "speaker", "mute", "loudspeaker", "mega", "hourglass", "hourglass_flowing_sand", "alarm_clock", "watch", "radio", "satellite", "loop", "mag", "mag_right", "unlock", "lock", "lock_with_ink_pen", "closed_lock_with_key", "key", "bulb", "flashlight", "high_brightness", "low_brightness", "electric_plug", "battery", "calling", "email", "mailbox", "postbox", "bath", "bathtub", "shower", "toilet", "wrench", "nut_and_bolt", "hammer", "seat", "moneybag", "yen", "dollar", "pound", "euro", "credit_card", "money_with_wings", "e-mail", "inbox_tray", "outbox_tray", "envelope", "incoming_envelope", "postal_horn", "mailbox_closed", "mailbox_with_mail", "mailbox_with_no_mail", "package", "door", "smoking", "bomb", "gun", "hocho", "pill", "syringe", "page_facing_up", "page_with_curl", "bookmark_tabs", "bar_chart", "chart_with_upwards_trend", "chart_with_downwards_trend", "scroll", "clipboard", "calendar", "date", "card_index", "file_folder", "open_file_folder", "scissors", "pushpin", "paperclip", "black_nib", "pencil2", "straight_ruler", "triangular_ruler", "closed_book", "green_book", "blue_book", "orange_book", "notebook", "notebook_with_decorative_cover", "ledger", "books", "bookmark", "name_badge", "microscope", "telescope", "newspaper", "football", "basketball", "soccer", "baseball", "tennis", "8ball", "rugby_football", "bowling", "golf", "mountain_bicyclist", "bicyclist", "horse_racing", "snowboarder", "swimmer", "surfer", "ski", "spades", "hearts", "clubs", "diamonds", "gem", "ring", "trophy", "musical_score", "musical_keyboard", "violin", "space_invader", "video_game", "black_joker", "flower_playing_cards", "game_die", "dart", "mahjong", "clapper", "memo", "pencil", "book", "art", "microphone", "headphones", "trumpet", "saxophone", "guitar", "shoe", "sandal", "high_heel", "lipstick", "boot", "shirt", "tshirt", "necktie", "womans_clothes", "dress", "running_shirt_with_sash", "jeans", "kimono", "bikini", "ribbon", "tophat", "crown", "womans_hat", "mans_shoe", "closed_umbrella", "briefcase", "handbag", "pouch", "purse", "eyeglasses", "fishing_pole_and_fish", "coffee", "tea", "sake", "baby_bottle", "beer", "beers", "cocktail", "tropical_drink", "wine_glass", "fork_and_knife", "pizza", "hamburger", "fries", "poultry_leg", "meat_on_bone", "spaghetti", "curry", "fried_shrimp", "bento", "sushi", "fish_cake", "rice_ball", "rice_cracker", "rice", "ramen", "stew", "oden", "dango", "egg", "bread", "doughnut", "custard", "icecream", "ice_cream", "shaved_ice", "birthday", "cake", "cookie", "chocolate_bar", "candy", "lollipop", "honey_pot", "apple", "green_apple", "tangerine", "lemon", "cherries", "grapes", "watermelon", "strawberry", "peach", "melon", "banana", "pear", "pineapple", "sweet_potato", "eggplant", "tomato", "corn"]
                                        },
                                        {
                                            type: "Places",
                                            items: ["house", "house_with_garden", "school", "office", "post_office", "hospital", "bank", "convenience_store", "love_hotel", "hotel", "wedding", "church", "department_store", "european_post_office", "city_sunrise", "city_sunset", "japanese_castle", "european_castle", "tent", "factory", "tokyo_tower", "japan", "mount_fuji", "sunrise_over_mountains", "sunrise", "stars", "statue_of_liberty", "bridge_at_night", "carousel_horse", "rainbow", "ferris_wheel", "fountain", "roller_coaster", "ship", "speedboat", "boat", "sailboat", "rowboat", "anchor", "rocket", "airplane", "helicopter", "steam_locomotive", "tram", "mountain_railway", "bike", "aerial_tramway", "suspension_railway", "mountain_cableway", "tractor", "blue_car", "oncoming_automobile", "car", "red_car", "taxi", "oncoming_taxi", "articulated_lorry", "bus", "oncoming_bus", "rotating_light", "police_car", "oncoming_police_car", "fire_engine", "ambulance", "minibus", "truck", "train", "station", "train2", "bullettrain_front", "bullettrain_side", "light_rail", "monorail", "railway_car", "trolleybus", "ticket", "fuelpump", "vertical_traffic_light", "traffic_light", "warning", "construction", "beginner", "atm", "slot_machine", "busstop", "barber", "hotsprings", "checkered_flag", "crossed_flags", "izakaya_lantern", "moyai", "circus_tent", "performing_arts", "round_pushpin", "triangular_flag_on_post", "jp", "kr", "cn", "us", "fr", "es", "it", "ru", "gb", "uk", "de"]
                                        },
                                        {
                                            type: "Symbols",
                                            items: ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "keycap_ten", "1234", "zero", "hash", "symbols", "arrow_backward", "arrow_down", "arrow_forward", "arrow_left", "capital_abcd", "abcd", "abc", "arrow_lower_left", "arrow_lower_right", "arrow_right", "arrow_up", "arrow_upper_left", "arrow_upper_right", "arrow_double_down", "arrow_double_up", "arrow_down_small", "arrow_heading_down", "arrow_heading_up", "leftwards_arrow_with_hook", "arrow_right_hook", "left_right_arrow", "arrow_up_down", "arrow_up_small", "arrows_clockwise", "arrows_counterclockwise", "rewind", "fast_forward", "information_source", "ok", "twisted_rightwards_arrows", "repeat", "repeat_one", "new", "top", "up", "cool", "free", "ng", "cinema", "koko", "signal_strength", "u5272", "u5408", "u55b6", "u6307", "u6708", "u6709", "u6e80", "u7121", "u7533", "u7a7a", "u7981", "sa", "restroom", "mens", "womens", "baby_symbol", "no_smoking", "parking", "wheelchair", "metro", "baggage_claim", "accept", "wc", "potable_water", "put_litter_in_its_place", "secret", "congratulations", "m", "passport_control", "left_luggage", "customs", "ideograph_advantage", "cl", "sos", "id", "no_entry_sign", "underage", "no_mobile_phones", "do_not_litter", "non-potable_water", "no_bicycles", "no_pedestrians", "children_crossing", "no_entry", "eight_spoked_asterisk", "sparkle", "eight_pointed_black_star", "heart_decoration", "vs", "vibration_mode", "mobile_phone_off", "chart", "currency_exchange", "aries", "taurus", "gemini", "cancer", "leo", "virgo", "libra", "scorpius", "sagittarius", "capricorn", "aquarius", "pisces", "ophiuchus", "six_pointed_star", "negative_squared_cross_mark", "a", "b", "ab", "o2", "diamond_shape_with_a_dot_inside", "recycle", "end", "back", "on", "soon", "clock1", "clock130", "clock10", "clock1030", "clock11", "clock1130", "clock12", "clock1230", "clock2", "clock230", "clock3", "clock330", "clock4", "clock430", "clock5", "clock530", "clock6", "clock630", "clock7", "clock730", "clock8", "clock830", "clock9", "clock930", "heavy_dollar_sign", "copyright", "registered", "tm", "x", "heavy_exclamation_mark", "bangbang", "interrobang", "o", "heavy_multiplication_x", "heavy_plus_sign", "heavy_minus_sign", "heavy_division_sign", "white_flower", "100", "heavy_check_mark", "ballot_box_with_check", "radio_button", "link", "curly_loop", "wavy_dash", "part_alternation_mark", "trident", "black_small_square", "white_small_square", "black_medium_small_square", "white_medium_small_square", "black_medium_square", "white_medium_square", "black_large_square", "white_large_square", "white_check_mark", "black_square_button", "white_square_button", "black_circle", "white_circle", "red_circle", "large_blue_circle", "large_blue_diamond", "large_orange_diamond", "small_blue_diamond", "small_orange_diamond", "small_red_triangle", "small_red_triangle_down", "shipit"]
                                        }]
                                }
                            },
                            computed: {
                                curEmojiItems: function() {
                                    for (var e = 0,
                                             t = this.emojiList.length; e < t; e++) if (this.emojiList[e].type === this.curEmojiType) return this.emojiList[e].items;
                                    return this.emojiList[0].items
                                },
                                commentContentIsEmpty: function() {
                                    return 0 === this.commentContent.length
                                },
                                commentCountText: function() {
                                    return this.commentContent.length + "/" + this.commentMaxLength
                                }
                            },
                            methods: {
                                insertEmoji: function(e) {
                                    this.clearMessage();
                                    var t = ":" + e + ":";
                                    this.insertContent(t),
                                        $(this.$refs.showEmojiBox).popup("hide")
                                },
                                insertProject: function() {
                                    var e, t, o;
                                    this.clearMessage(),
                                        e = "#此处输入软件#",
                                    this.insertContent(e) && (o = (t = selectRange.of(this.$refs.commentTextarea)).getCurPos(), t.setSelectText(o - (e.length - 1), o - 1))
                                },
                                publishComment: function() {
                                    var n, e;
                                    if (! (n = this).tweetPublishLoading) if (n.clearMessage(), n.commentContentIsEmpty) n.showMessage("error", "内容不能为空", 2e3);
                                    else if (n.commentContent.length > n.commentMaxLength) n.showMessage("error", "最多只能输入" + n.commentMaxLength + "个字符！", 2e3);
                                    else {
                                        if (!window.common.checkLogin()) return ! 1;
                                        n.commentPublishLoading = !0,
                                            e = {
                                                news: a.config.objId,
                                                content: n.commentContent
                                            },
                                            $.post(a.config.publishCommentUrl, e,
                                                function(e) {
                                                    var t, o;
                                                    1 === e.code ? (n.commentContent = "", a.loadComments(), t = $(".float-menu .comment-btn"), e.result && void 0 !== e.result.replyCount && (o = e.result.replyCount, $("[data-article-reply-count]").html(o), t.attr("title", "共有 " + o + " 条评论")), t.find(".icon").removeClass("outline"), $("html, body").stop().animate({
                                                            scrollTop: a._commentsWrap.offset().top - 80
                                                        },
                                                        500, "swing")) : n.showMessage("error", e.message || "发布失败", 2e3)
                                                }).fail(function() {
                                                n.showMessage("error", "网络错误，请稍后再试！", 2e3)
                                            }).always(function() {
                                                n.commentPublishLoading = !1
                                            })
                                    }
                                },
                                commentContentOnKeyDown: function(e) { (e.metaKey || e.ctrlKey) && 13 == e.keyCode && this.publishComment()
                                },
                                insertContent: function(e) {
                                    return ! this.commentPublishLoading && (this.commentContent.length >= this.commentMaxLength || this.commentContent.length + e.length > this.commentMaxLength ? void this.showMessage("error", "最多只能输入" + this.commentMaxLength + "个字符！", 2e3) : (selectRange.of(this.$refs.commentTextarea).insertAfterText(e), this.commentContent = this.$refs.commentTextarea.value, !0))
                                },
                                showMessage: function(e, t, o) {
                                    var n, a = this;
                                    a.tipMessage.className = "success" === e ? "positive": "negative",
                                        a.tipMessage.content = t,
                                        n = parseInt(o) || 0,
                                        a.tipMessage.show = !0,
                                    0 < n && setTimeout(function() {
                                            a.clearMessage()
                                        },
                                        n)
                                },
                                clearMessage: function() {
                                    var e = this;
                                    e.tipMessage.className = "",
                                        e.tipMessage.content = "",
                                        e.tipMessage.show = !1
                                }
                            }
                        }),
                            $("#commentForm").find(".comment-form .toolbox > .item[data-popup]").each(function(e, t) {
                                var o = $(t),
                                    n = $(o).parent(),
                                    a = n.find(".toolbox-popup." + o.attr("data-popup"));
                                o.popup({
                                    position: "bottom left",
                                    popup: a,
                                    on: "toolbox-picture" === o.attr("data-popup") ? "manual": "click",
                                    exclusive: !0
                                })
                            })
                    },
                    initCommentDeleteModal: function() {
                        var s = this,
                            o = $(".delete-comment.modal");
                        o.modal({
                            onDeny: function() {
                                var e = $(this).attr("data-comment-id"),
                                    r = s._commentsWrap.find("div.comment[data-comment-id=" + e + "]"),
                                    t = r.attr("data-comment-user-id");
                                $.post(s.config.deleteCommentUrl, {
                                        commentId: e,
                                        userId: t,
                                        newsId: s.config.objId
                                    },
                                    function(e) {
                                        var t, o, n, a, i;
                                        1 === e.code ? ($("body").toast({
                                            type: "success",
                                            content: "删除成功"
                                        }), r.fadeOut(function() {
                                            r.remove()
                                        }), o = (t = s._commentsWrap.find("> .header span")).text(), n = $("[data-article-reply-count]"), a = $(".float-menu .comment-btn"), o ? (i = parseInt(o) - (1 + r.find("div.comment").length), t.text(i), n.html(i), a.attr("title", "共有 " + i + " 条评论")) : (t.text(0), n.html(0), a.attr("title", "共有 0 条评论")), e.result && void 0 !== e.result.selfCommentCount && e.result.selfCommentCount <= 0 && a.find(".icon").addClass("outline")) : $("body").toast({
                                            type: "error",
                                            content: e.message || "删除失败"
                                        })
                                    })
                            }
                        }),
                            s._commentsWrap.on("click", ".actions a.remove",
                                function(e) {
                                    var t;
                                    e.stopPropagation(),
                                        t = $(e.target).parents(".comment:eq(0)").attr("data-comment-id"),
                                        o.attr("data-comment-id", t),
                                        o.modal("show")
                                })
                    },
                    initReplyCommentModal: function() {
                        var i = this,
                            r = $(".reply-comment.modal"),
                            s = $("#replyCommentForm");
                        r.modal({
                            onShow: function() {
                                var e, t;
                                s.form("reset"),
                                    s.message("hideAll"),
                                    e = $(this).attr("data-comment-user-id") || -1,
                                    t = $(this).attr("data-comment-id") || -1,
                                    s.find("input[name=reply_id]").val(e + "_" + t)
                            },
                            onApprove: function() {
                                return s.message("hideAll"),
                                    s.form("submit"),
                                    !1
                            }
                        }),
                            s.form({
                                inline: !0,
                                fields: {
                                    content: {
                                        rules: [{
                                            type: "empty",
                                            prompt: "请输入评论内容"
                                        },
                                            {
                                                type: "maxLength[1000]",
                                                prompt: "内容长度不能超过 {ruleValue} 个字"
                                            }]
                                    }
                                }
                            }).api({
                                url: i.config.replyCommentUrl,
                                method: "post",
                                serializeForm: !0,
                                beforeSend: function(e) {
                                    $(this).message("hideAll");
                                    var t = e.data;
                                    return e.data = {
                                        news: i.config.objId,
                                        reply_id: t.reply_id,
                                        content: t.content
                                    },
                                        e
                                },
                                onSuccess: function(e, t, o) {
                                    var n, a;
                                    1 === e.code ? ($(this).message({
                                        type: "positive",
                                        content: "评论回复成功"
                                    }), s.form("reset"), i.loadComments(), n = $(".float-menu .comment-btn"), e.result && void 0 !== e.result.replyCount && (a = e.result.replyCount, $("[data-article-reply-count]").html(a), n.attr("title", "共有 " + a + " 条评论")), n.find(".icon").removeClass("outline"), setTimeout(function() {
                                            r.modal("hide")
                                        },
                                        2e3)) : $(this).message({
                                        type: "negative",
                                        content: e.message || "回复失败"
                                    })
                                },
                                onFailure: function(e, t) {
                                    $(this).message({
                                        type: "negative",
                                        content: "网络错误，请稍后再试"
                                    })
                                }
                            }),
                            r.on("keydown",
                                function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && r.find(".positive.button").click()
                                }),
                            i._commentsWrap.on("click", ".actions a.reply",
                                function(e) {
                                    var t, o, n;
                                    if (e.stopPropagation(), !window.common.checkLogin()) return ! 1;
                                    o = (t = $(e.target).parents(".comment:eq(0)")).attr("data-comment-user-id"),
                                        n = t.attr("data-comment-id"),
                                        r.attr("data-comment-user-id", o),
                                        r.attr("data-comment-id", n),
                                        r.modal("show")
                                })
                    },
                    bindReplyBtn: function() {
                        var r = this;
                        r._commentsWrap.on("click", ".actions a.reply",
                            function(e) {
                                var n, a, i, t;
                                return e.stopPropagation(),
                                !!window.common.checkLogin() && (n = $(e.target).parents(".comment:eq(0)"), a = n.attr("data-comment-user-id"), i = n.attr("data-comment-id"), 0 < n.find("[data-rely-comment-form]").length ? ((t = n.find("[data-rely-comment-form]").get(0)).vueInstance && t.vueInstance.focus(), !1) : ($("[data-rely-comment-form]").each(function(e, t) {
                                    var o = $(t);
                                    t.vueInstance && t.vueInstance.$destroy(),
                                        o.remove()
                                }), void(0 === $('[data-reply-comment-form][data-comment-id="' + i + '"]').length && !0 !== window.oscReplyCommentFormLoading && (window.oscReplyCommentFormLoading = !0, $.get("/widgets/comments_reply_form",
                                    function(e) {
                                        var t, o = document.createElement("div");
                                        o.innerHTML = e,
                                            $(o).find("[data-reply-comment-form]").attr("data-comment-id", i),
                                            n.children(".content").append(o),
                                            (t = new OSCCommentForm({
                                                commentFormSelector: "#replyCommentForm",
                                                commentsWrapEl: r._commentsWrap,
                                                toggleLoadComments: function() {
                                                    r.loadComments()
                                                },
                                                url: r.config.replyCommentUrl,
                                                params: {
                                                    news: page.objId,
                                                    reply_id: a + "_" + i
                                                },
                                                contentField: "content"
                                            })).init(),
                                            t.focus()
                                    }).always(function() {
                                    window.oscReplyCommentFormLoading = !1
                                })))))
                            })
                    },
                    initCommentsListPJAX: function() {
                        var e = this,
                            t = $(".comments-loader");
                        $.pjax.defaults.timeout = 1e4,
                            $.pjax.defaults.maxCacheLength = 20,
                            $(document).pjax(".pagination a", "#commentsContainer .comments-wrap", {
                                scrollTo: !1
                            }),
                            $(document).on("pjax:send",
                                function() {
                                    t.addClass("active")
                                }),
                            $(document).on("pjax:complete",
                                function() {
                                    e.parseEmoticon(),
                                        t.removeClass("active"),
                                        $("html, body").stop().animate({
                                                scrollTop: e._commentsWrap.offset().top - 80
                                            },
                                            500, "swing")
                                })
                    },
                    parseEmoticon: function() {
                        $(function() {
                            $("[data-emoji-render]").emoticon()
                        })
                    },
                    initCommentLike: function() {
                        this._commentsWrap.on("click", ".actions a.like[data-comment-like-btn]",
                            function(e) {
                                var a, t, i, r, s;
                                if (e.stopPropagation(), !window.common.checkLogin()) return ! 1; (t = (a = $(this)).parents(".comment:eq(0)")).attr("data-comment-user-id"),
                                    i = t.attr("data-comment-id"),
                                    r = a.find("span"),
                                    s = a.hasClass("active"),
                                    $.post(page.api_prefix + "/news/voteNewsComment", {
                                            newsCommentId: i,
                                            user: page.g_user_id,
                                            vote: !s
                                        },
                                        function(e) {
                                            var t, o, n;
                                            1 === e.code ? (t = !s, o = 0, e.result && e.result.vote && (o = e.result.vote), n = $('[data-comment-like-btn][data-comment-id="' + i + '"]'), t ? (a.addClass("active"), a.find(".like.icon").removeClass("outline"), n.addClass("active"), n.find(".like.icon").removeClass("outline")) : (a.removeClass("active"), a.find(".like.icon").addClass("outline"), n.removeClass("active"), n.find(".like.icon").addClass("outline")), r.text(o), $('[data-comment-like-count][data-comment-id="' + i + '"]').text(o)) : $("body").toast({
                                                type: "error",
                                                content: e.message || "点赞失败"
                                            })
                                        })
                            })
                    }
                },
                e = new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js"],
                    function() {
                        var e = window.page;
                        t.init({
                            objId: e.objId,
                            fetchCommentsUrl: e.fetchCommentsUrl,
                            publishCommentUrl: e.publishCommentUrl,
                            replyCommentUrl: e.replyCommentUrl,
                            deleteCommentUrl: e.deleteCommentUrl
                        }),
                            t.initCommentForm(),
                            t.initCommentDeleteModal(),
                            t.bindReplyBtn(),
                            t.initCommentsListPJAX(),
                            t.parseEmoticon(),
                            t.initCommentLike()
                    });
            e.loadFiles()
        }
    });
OSCDefine("web-news-detail", ["news-detail-comments"],
    function() {
        var t = function() {
            this._newsDetailEl = $(".news-detail")
        };
        return t.prototype = {
            constructor: t,
            shareMenu: function() {
                this._newsDetailEl.find(".share.dropdown").dropdown()
            },
            hightlight: function() {
                $("pre code").each(function(t, e) {
                    var i, n = $(this),
                        o = n.attr("class") || "",
                        l = o.match(/language-(.*)/);
                    l && 1 < l.length && (i = l[l.length - 1], n.attr("class", "hljs " + i)),
                        hljs.highlightBlock(e)
                })
            },
            initNewsInfiniteScroll: function() {
                var e, t = this,
                    i = {
                        relArticleList: 1,
                        newArticleList: 1
                    },
                    n = {
                        relArticleList: new OSCInfiniteScroll({
                            pagePath: ".rel-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#relArticleList",
                            itemListSelector: ".news-detail-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 0,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !1,
                            onAppend: function() {
                                t.optimizeImgShow()
                            }
                        }),
                        newArticleList: new OSCInfiniteScroll({
                            pagePath: ".news-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#newArticleList",
                            itemListSelector: ".news-detail-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 0,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !1,
                            onAppend: function() {
                                t.optimizeImgShow()
                            }
                        })
                    };
                n.relArticleList.init(),
                    e = "relArticleList",
                    $(".newsDetail-tab.menu .item").tab({
                        onLoad: function(t) {
                            e !== t && (n[e]._infScroll && (i[e] = n[e]._infScroll.pageIndex), n[e].destroy(), n[t].init(), n[t]._infScroll && (n[t]._infScroll.pageIndex = i[t]), e = t)
                        }
                    })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            register: function() {
                this.shareMenu(),
                    this.hightlight(),
                    this.initNewsInfiniteScroll(),
                    this.optimizeImgShow()
            }
        },
            t
    });
OSCPlugin("question-common",
    function() {
        var t = function() {
            var t = this;
            this._questionSidebar = $(".question-sidebar"),
                this._questionNavSidebar = $(".left-channel"),
                this._questionNavSidebarNavMenu = this._questionNavSidebar.find(".nav-menu"),
                this._questionListContainer = $(".question-list-container"),
                this.followBtnStatusCode = {
                    UN_FOLLOW: 1,
                    FOLLOWED: 2
                },
                this.followBtnStatusConf = {
                    UN_FOLLOW: {
                        normal: {
                            selfRemoveClass: "unsubscribed unsubscribed-hover subscribed subscribed-hover",
                            selfAddClass: "unsubscribed",
                            text: "关注",
                            icon: "plus icon",
                            textIcon: "+",
                            textIconClass: "plus"
                        },
                        hover: {
                            selfRemoveClass: "unsubscribed unsubscribed-hover subscribed subscribed-hover",
                            selfAddClass: "unsubscribed-hover",
                            text: "关注",
                            icon: "plus icon",
                            textIcon: "+",
                            textIconClass: "plus"
                        }
                    },
                    FOLLOWED: {
                        normal: {
                            selfRemoveClass: "unsubscribed unsubscribed-hover subscribed subscribed-hover",
                            selfAddClass: "subscribed",
                            text: "已关注",
                            icon: "check icon",
                            textIcon: "×",
                            textIconClass: "check"
                        },
                        hover: {
                            selfRemoveClass: "unsubscribed unsubscribed-hover subscribed subscribed-hover",
                            selfAddClass: "subscribed-hover",
                            text: "取消关注",
                            icon: "",
                            textIcon: "×",
                            textIconClass: "check"
                        }
                    }
                },
                t._navMenuSticky = {
                    init: function() {
                        if ($(".web-question-main-container").length <= 0) return ! 1;
                        768 <= window.innerWidth ? t._questionNavSidebarNavMenu.sticky({
                            context: ".web-question-main-container",
                            offset: 68
                        }) : t._questionNavSidebarNavMenu.sticky("destroy")
                    },
                    refresh: function() {
                        if ($(".web-question-main-container").length <= 0) return ! 1;
                        768 <= window.innerWidth && t._questionNavSidebarNavMenu.sticky("refresh")
                    }
                },
                this.register()
        };
        return t.prototype = {
            constructor: t,
            initSidebarSectionTabs: function() {
                this._questionSidebar.on("click", ".section .tabs .tab[data-tab]",
                    function(t) {
                        var e = $(this),
                            n = e.data("tab"),
                            o = e.parents(".section:eq(0)"),
                            i = o.find('.tab-body[data-tab="' + n + '"]');
                        i && 0 < i.length && (o.find(".tabs .tab").removeClass("active"), e.addClass("active"), o.find(".tab-body").removeClass("active"), i.addClass("active"))
                    })
            },
            initUserListScorePopup: function() {
                768 <= window.innerWidth && this._questionSidebar.find(".popup-num").popup({
                    hoverable: !0
                })
            },
            initTopicCardPopup: function() {
                768 <= window.innerWidth && $(".popup-tag").popup({
                    position: "bottom left",
                    hoverable: !0
                })
            },
            initQuestionItemUpDown: function() {
                function d(e, n, t, o) {
                    parseInt(n.text().match(/\d+/)[0]);
                    $.post(page.api_prefix + "/question/vote_answer", {
                            user: page.g_user_id,
                            user_code: page.g_user_code,
                            id: t,
                            vote: o
                        },
                        function(t) {
                            0 !== t.code ? (o && t.result, n.text(t.result.vote), e.toggleClass("active")) : $("body").toast({
                                type: "error",
                                content: t.message || "投票失败"
                            })
                        })
                }
                var t = this;
                if (!t._questionListContainer || 0 === t._questionListContainer.length) return ! 1;
                t._questionListContainer.on("click", ".question-item .vote-item .vote-btn",
                    function(t) {
                        var e, n, o = $(this),
                            i = o.parents(".answer-meta:eq(0)"),
                            s = o.hasClass("vote-up"),
                            a = 0 < i.find(".vote-btn.active").length,
                            r = o.parents(".answer-container:eq(0)"),
                            u = r.attr("data-answer-id"),
                            c = i.find(".vote-item .vote-count");
                        if (!window.common.checkLogin()) return ! 1;
                        if (o.hasClass("active")) d(o, c, u, s);
                        else {
                            if (!a) return s ? void d(o, c, u, !0) : (e = '<div class="ui mini vote-confirm modal">    <div class="header">操作提示</div>    <div class="content">        <p>此操作将会扣除1积分，是否继续？</p>    </div>    <div class="actions">        <div class="ui cancel button">取消</div>        <div class="ui positive button">确定</div>    </div></div>', 0 === (n = $(".vote-confirm.modal")).length && ($("body").append(e), n = $(n.selector)), void n.modal({
                                onApprove: function() {
                                    d(o, c, u, !1)
                                }
                            }).modal("show"));
                            $("body").toast({
                                type: "error",
                                content: "您已经对此问题投过票了，不能重复投票"
                            })
                        }
                    })
            },
            initNavSidebarSticky: function() {
                this._navMenuSticky.init(),
                    $(window).resize(this._navMenuSticky.init)
            },
            refreshNavSidebarSticky: function() {
                this._navMenuSticky.refresh()
            },
            setFollowBtnStatus: function(t, e, n) {
                var o, i, s, a, r, u, c, d, l, v;
                switch (e = "normal" === e ? "normal": "hover", o = this, i = n.find(".text"), s = n.find("i"), a = n.find(".text-icon"), t) {
                    case o.followBtnStatusCode.UN_FOLLOW:
                        r = o.followBtnStatusConf.UN_FOLLOW[e],
                            n.attr("data-follow-status", o.followBtnStatusCode.UN_FOLLOW);
                        break;
                    case o.followBtnStatusCode.FOLLOWED:
                        r = o.followBtnStatusConf.FOLLOWED[e],
                            n.attr("data-follow-status", o.followBtnStatusCode.FOLLOWED)
                }
                i.text(r.text),
                    u = r.icon,
                    s.attr("class", u),
                    c = r.textIcon,
                    d = r.textIconClass,
                    a.text(c),
                    a.attr("class", "").addClass("text-icon").addClass(d),
                    l = r.selfRemoveClass,
                    v = r.selfAddClass,
                    n.removeClass(l).addClass(v)
            },
            setFollowBtnCount: function(t, e) {
                var n = e.find(".count"),
                    o = t;
                window.common && "function" == typeof window.common.formatNumberK && (o = window.common.formatNumberK(t)),
                    n.text(o)
            },
            bindFollowBtnHover: function() {
                var n = this;
                $(document).on("mouseenter", ".question-follow-btn",
                    function() {
                        var t = $(this),
                            e = parseInt(t.attr("data-follow-status"));
                        n.setFollowBtnStatus(e, "hover", t)
                    }),
                    $(document).on("mouseleave", ".question-follow-btn",
                        function() {
                            var t = $(this),
                                e = parseInt(t.attr("data-follow-status"));
                            n.setFollowBtnStatus(e, "normal", t)
                        })
            },
            bindFollowBtnClick: function() {
                var u = this;
                $(document).on("click", ".question-follow-btn",
                    function(t) {
                        var e, n, o, i, s, a, r;
                        return t.preventDefault(),
                            e = $(this),
                            n = this,
                            o = e.attr("data-id"),
                            i = e.attr("data-type"),
                            s = e.attr("data-url"),
                            a = e.data("hide-login-tip"),
                            e.data("as-link") ? (s && "" !== s && window.open(s, "_blank"), !1) : page.g_user_code ? (r = $('.question-follow-btn[data-id="' + o + '"][data-type="' + i + '"]'), void $.post(page.api_prefix + "/favorites/addV2", {
                                    user: page.g_user_id,
                                    user_code: page.g_user_code || "",
                                    id: o,
                                    type: i
                                },
                                function(t) {
                                    if (1 === t.code && t.result) {
                                        var e = t.result.isFavorited ? 2 : 1;
                                        u.setFollowBtnStatus(e, "normal", r),
                                        0 <= t.result.favoriteCount && u.setFollowBtnCount(t.result.favoriteCount, r)
                                    } else $("body").toast({
                                        type: "error",
                                        content: t.message || "操作失败"
                                    })
                                }).always(function() {
                                var t = document.createEvent("Event");
                                t.initEvent("subscribe", !0, !0),
                                    n.dispatchEvent(t)
                            })) : (!0 === a ? s && "" !== s && window.open(s, "_blank") : window.common.checkLogin(), !1)
                    })
            },
            register: function() {
                this.initSidebarSectionTabs(),
                    this.initUserListScorePopup(),
                    this.initQuestionItemUpDown(),
                    this.initNavSidebarSticky(),
                    this.bindFollowBtnHover(),
                    this.bindFollowBtnClick(),
                    this.initTopicCardPopup()
            }
        },
            t
    });
OSCDefine("web-question-index", ["question-common"],
    function(n) {
        var t = function() {
            this._questionEl = $(".web-question");
            var t = this;
            this._articleInfiniteScroll = {
                questionList: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#questionList",
                    itemListSelector: ".questions-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.question-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow(),
                            n.refreshNavSidebarSticky()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t = this;
                t._articleInfiniteScroll.questionList && (t._articleInfiniteScroll.questionList.destroy(), t._articleInfiniteScroll.questionList.init())
            },
            setPageTitle: function() {
                this._questionEl.find("input[name=currentCatalog]").val();
                var t, i = this._questionEl.find("input[name=currentCatalogTitle]").val(),
                    e = "";
                i && "" !== i && (e = i),
                    t = "开源中国",
                    document.title = e ? e + " - " + t: "开源问答 - " + t
            },
            initShowTypeDropdown: function() {
                var t = $(".show-type-dropdown");
                t.dropdown({
                    className: {
                        active: "on"
                    }
                }),
                    t.on("click", ".text",
                        function(t) {
                            var i = $(this).find(".text").html(),
                                e = $(this).siblings(".menu").find("a").first();
                            i === e.find(".text").html() && e.trigger("click")
                        })
            },
            initPJAX: function() {
                var i = this,
                    e = $(".question-list-container-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".question-tab a.item, .question-tab .show-type .item", ".question-list-container", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            e.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(t) {
                            $(t.relatedTarget);
                            e.removeClass("active"),
                                i.initArticleInfiniteScroll(),
                                i.optimizeImgShow(),
                                i.scrollTabPositionOffset(),
                                n.refreshNavSidebarSticky()
                        })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            scrollTabPositionOffset: function() {
                var t, i, e, n = $(".question-tab-wrap");
                n && 0 < n.length && (i = (t = n.find(".active.item")).offset().left, e = t.get(0).offsetWidth, window.innerWidth < i + e + 10 && n.stop(!0).animate({
                        scrollLeft: i
                    },
                    500, "swing"))
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.initPJAX(),
                    this.optimizeImgShow(),
                    this.scrollTabPositionOffset()
            }
        },
            t
    });
OSCDefine("web-question-search", ["question-common"],
    function(i) {
        var t = function() {
            this._questionEl = $(".web-question");
            var t = this;
            this._articleInfiniteScroll = {
                questionList: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#questionList",
                    itemListSelector: ".questions-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.question-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow(),
                            i.refreshNavSidebarSticky()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t = this;
                t._articleInfiniteScroll.questionList && (t._articleInfiniteScroll.questionList.destroy(), t._articleInfiniteScroll.questionList.init())
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.optimizeImgShow()
            }
        },
            t
    });
OSCDefine("web-question-my", ["question-common"],
    function(i) {
        var t = function() {
            this._questionEl = $(".web-question"),
                this._questionListContainer = $(".question-list-container");
            var t = this;
            this._articleInfiniteScroll = {
                questionList: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#questionList",
                    itemListSelector: ".questions-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.question-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow(),
                            i.refreshNavSidebarSticky()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t = this;
                t._articleInfiniteScroll.questionList && (t._articleInfiniteScroll.questionList.destroy(), t._articleInfiniteScroll.questionList.init())
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.optimizeImgShow()
            }
        },
            t
    });
OSCDefine("web-question-answer",
    function() {
        var e = function() {
            this._questionAnswerEl = $(".question-answer"),
                this._answerForm = this._questionAnswerEl.find(".answer-form")
        };
        return e.prototype = {
            constructor: e,
            hightlight: function() {
                $("pre, pre code").each(function(e, t) {
                    var i, n = $(this),
                        o = n.attr("class") || "",
                        a = o.match(/language-(.*)/);
                    a && 1 < a.length && (i = a[a.length - 1], n.attr("class", "hljs " + i)),
                        hljs.highlightBlock(t)
                })
            },
            parseEmoticon: function() {
                $(function() {
                    $("[data-emoji-render]").emoticon()
                })
            },
            initForm: function() {
                var i = this,
                    n = i._answerForm.find("textarea[name=body]").get(0),
                    o = null,
                    e = {
                        height: 350,
                        resize_minHeight: 423,
                        resize_maxHeight: 1e3,
                        uploadUrl: page.api_prefix + "/question/ckeditor_dialog_img_upload",
                        filebrowserUploadUrl: page.api_prefix + "/question/ckeditor_dialog_img_upload"
                    }; (o = CKEDITOR.replace(n, e)).on("instanceReady",
                    function(e) {
                        CKEDITOR.instances.body.focus()
                    }),
                    o.on("change",
                        function(e) {
                            $(n).val(e.editor.getData())
                        }),
                    o.on("fileUploadResponse",
                        function(e) {
                            setTimeout(function() {
                                    $(n).val(e.editor.getData())
                                },
                                0)
                        }),
                    o.on("mode",
                        function(e) {
                            if ("source" === this.mode) {
                                var t = o.editable();
                                t.attachListener(t, "input",
                                    function() {
                                        $(n).val(e.editor.getData())
                                    })
                            }
                        }),
                    o.on("key",
                        function(e) {
                            var t = e.data.domEvent.$; (t.metaKey || t.ctrlKey) && 13 === t.keyCode && i._answerForm.form("submit")
                        }),
                    i._answerForm.form({
                        inline: !0,
                        fields: {
                            body: {
                                identifier: "body",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入回答内容"
                                }]
                            }
                        }
                    }).api({
                        url: page.api_prefix + "/question/answer",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(e) {
                            return $(this).message("hideAll"),
                                e
                        },
                        onSuccess: function(e, t, i) {
                            1 === e.code ? ($(this).message({
                                type: "positive",
                                content: "提交成功"
                            }), window.location.href = page.question_url) : $(this).message({
                                type: "negative",
                                content: e.message || "提交失败",
                                disappear: 2e3
                            })
                        },
                        onFailure: function(e, t) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    })
            },
            register: function() {
                this.initForm(),
                    this.hightlight(),
                    this.parseEmoticon()
            }
        },
            e
    });
OSCDefine("web-question-answer-edit",
    function() {
        var e = function() {
            this._questionAnswerEl = $(".question-answer"),
                this._answerForm = this._questionAnswerEl.find(".answer-form")
        };
        return e.prototype = {
            constructor: e,
            initForm: function() {
                var i = this,
                    n = i._answerForm.find("textarea[name=body]").get(0),
                    o = null,
                    e = {
                        height: 350,
                        resize_minHeight: 423,
                        resize_maxHeight: 1e3,
                        uploadUrl: page.api_prefix + "/question/ckeditor_dialog_img_upload",
                        filebrowserUploadUrl: page.api_prefix + "/question/ckeditor_dialog_img_upload"
                    }; (o = CKEDITOR.replace(n, e)).on("instanceReady",
                    function(e) {
                        CKEDITOR.instances.body.focus()
                    }),
                    o.on("change",
                        function(e) {
                            $(n).val(e.editor.getData())
                        }),
                    o.on("fileUploadResponse",
                        function(e) {
                            setTimeout(function() {
                                    $(n).val(e.editor.getData())
                                },
                                0)
                        }),
                    o.on("mode",
                        function(e) {
                            if ("source" === this.mode) {
                                var t = o.editable();
                                t.attachListener(t, "input",
                                    function() {
                                        $(n).val(e.editor.getData())
                                    })
                            }
                        }),
                    o.on("key",
                        function(e) {
                            var t = e.data.domEvent.$; (t.metaKey || t.ctrlKey) && 13 === t.keyCode && i._answerForm.form("submit")
                        }),
                    i._answerForm.form({
                        inline: !0,
                        fields: {
                            body: {
                                identifier: "body",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入回答内容"
                                }]
                            }
                        }
                    }).api({
                        url: page.api_prefix + "/question/editAnswerV2",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(e) {
                            return $(this).message("hideAll"),
                                e
                        },
                        onSuccess: function(e, t, i) {
                            1 === e.code ? ($(this).message({
                                type: "positive",
                                content: "修改成功"
                            }), window.location.href = page.question_url) : $(this).message({
                                type: "negative",
                                content: e.message || "修改失败",
                                disappear: 2e3
                            })
                        },
                        onFailure: function(e, t) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    })
            },
            register: function() {
                this.initForm()
            }
        },
            e
    });
OSCDefine("web-question-tags", ["question-common"],
    function() {
        var t = function() {
            this._tagsWrap = $("#tagsContainer .tags-wrapper")
        };
        return t.prototype = {
            constructor: t,
            initListPJAX: function() {
                var t, a;
                t = this,
                    a = $(".tags-loader"),
                    $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".pagination a", "#tagsContainer .tags-wrapper", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            a.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function() {
                            a.removeClass("active"),
                                $("html, body").stop().animate({
                                        scrollTop: t._tagsWrap.offset().top - 80
                                    },
                                    500, "swing")
                        })
            },
            register: function() {
                this.initListPJAX()
            }
        },
            t
    });
OSCDefine("web-question-tag", ["question-common"],
    function() {
        var t = function() {
            this._questionEl = $(".web-question-tag"),
                this._questionListContainer = $(".question-list-container");
            var t = this;
            this._articleInfiniteScroll = {
                questionList: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#questionList",
                    itemListSelector: ".questions-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.question-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t = this;
                t._articleInfiniteScroll.questionList && (t._articleInfiniteScroll.questionList.destroy(), t._articleInfiniteScroll.questionList.init())
            },
            initPJAX: function() {
                var i = this,
                    e = $(".question-list-container-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".question-tab > a.item, .question-tab .show-type .item", ".question-list-container", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            e.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(t) {
                            $(t.relatedTarget);
                            e.removeClass("active"),
                                i.initArticleInfiniteScroll(),
                                i.optimizeImgShow(),
                                i.scrollTabPositionOffset()
                        })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            scrollTabPositionOffset: function() {
                var t, i, e, n = $(".question-tab-wrap");
                n && 0 < n.length && (i = (t = n.find(".active.item")).offset().left, e = t.get(0).offsetWidth, window.innerWidth < i + e + 10 && n.stop(!0).animate({
                        scrollLeft: i
                    },
                    500, "swing"))
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.initPJAX(),
                    this.optimizeImgShow(),
                    this.scrollTabPositionOffset()
            }
        },
            t
    });
OSCDefine("web-question-topics", ["question-common"],
    function(n) {
        var t = function() {
            this._pageContainer = $(".web-question-topics"),
                this._topicsWrap = $("#topicsContainer .topics-wrapper")
        };
        return t.prototype = {
            constructor: t,
            initListPJAX: function() {
                var t, i;
                t = this,
                    i = $(".topics-loader"),
                    $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".pagination a", "#topicsContainer .topics-wrapper", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            i.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function() {
                            i.removeClass("active"),
                                $("html, body").stop().animate({
                                        scrollTop: t._topicsWrap.offset().top - 140
                                    },
                                    500, "swing"),
                                n.refreshNavSidebarSticky()
                        })
            },
            bindTopicCardLink: function() {
                this._topicsWrap.on("click", ".question-topic-cards .topic-card",
                    function(t) {
                        var i = $(t.target),
                            n = $(this),
                            o = n.attr("data-url");
                        0 === i.parents(".card-action").length && o && "" !== o && window.open(o, "_blank")
                    })
            },
            bindSearchClick: function() {
                this._pageContainer.on("click", ".search-form .search.link.icon",
                    function() {
                        var t = $(this).parents(".search-form:eq(0)"),
                            i = t.find("input[name=q]").val().trim();
                        0 < i.length && t.submit()
                    })
            },
            register: function() {
                this.initListPJAX(),
                    this.bindTopicCardLink(),
                    this.bindSearchClick()
            }
        },
            t
    });
OSCDefine("web-question-topic", ["question-common"],
    function(n) {
        var t = function() {
            this._questionEl = $(".web-question-topic"),
                this._questionListContainer = $(".question-list-container");
            var t = this;
            this._articleInfiniteScroll = {
                questionList: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#questionList",
                    itemListSelector: ".questions-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.question-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow(),
                            n.refreshNavSidebarSticky()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t = this;
                t._articleInfiniteScroll.questionList && (t._articleInfiniteScroll.questionList.destroy(), t._articleInfiniteScroll.questionList.init())
            },
            initPJAX: function() {
                var i = this,
                    e = $(".question-list-container-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".question-tab > a.item, .question-tab .show-type .item", ".question-list-container", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            e.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(t) {
                            $(t.relatedTarget);
                            e.removeClass("active"),
                                i.initArticleInfiniteScroll(),
                                i.optimizeImgShow(),
                                i.scrollTabPositionOffset(),
                                n.refreshNavSidebarSticky()
                        })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            scrollTabPositionOffset: function() {
                var t, i, e, n = $(".question-tab-wrap");
                n && 0 < n.length && (i = (t = n.find(".active.item")).offset().left, e = t.get(0).offsetWidth, window.innerWidth < i + e + 10 && n.stop(!0).animate({
                        scrollLeft: i
                    },
                    500, "swing"))
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.initPJAX(),
                    this.optimizeImgShow(),
                    this.scrollTabPositionOffset()
            }
        },
            t
    });
OSCDefine("web-question-subscribed", ["question-common"],
    function(n) {
        var t = function() {
            var t = this;
            this._articleInfiniteScroll = {
                questionList: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#questionList",
                    itemListSelector: ".questions-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.question-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow(),
                            n.refreshNavSidebarSticky()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t = this;
                t._articleInfiniteScroll.questionList && (t._articleInfiniteScroll.questionList.destroy(), t._articleInfiniteScroll.questionList.init())
            },
            initPJAX: function() {
                var i = this,
                    e = $(".question-list-container-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".question-tags.tab .tag-item", ".question-list-container", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            e.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(t) {
                            $(t.relatedTarget);
                            e.removeClass("active"),
                                i.initArticleInfiniteScroll(),
                                i.optimizeImgShow(),
                                n.refreshNavSidebarSticky()
                        })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.initPJAX(),
                    this.optimizeImgShow()
            }
        },
            t
    });
OSCDefine("web-question-subscribed-settings", ["question-common"],
    function(r) {
        var t = function() {
            this._subscribedSettings = $(".web-question-subscribed-settings"),
                this._subscribedTagsPanel = this._subscribedSettings.find(".subscribed-tags-panel"),
                this._subscribedTopicsPanel = this._subscribedSettings.find(".subscribed-topics-panel"),
                this._questionTagsSettings = $(".question-tags.settings"),
                this._questionTagAddWrap = this._questionTagsSettings.find(".tag-add-wrap")
        };
        return t.prototype = {
            constructor: t,
            initSubscribedTags: function() {
                var i = this,
                    e = i._subscribedTagsPanel.find(".subscribed-tags-count");
                i._subscribedTagsPanel.on("subscribe",
                    function() {
                        var t = i._subscribedTagsPanel.find(".tag-item.question-follow-btn.subscribed").length;
                        e.text(t)
                    })
            },
            initSubscribedTopics: function() {
                var i = this,
                    e = i._subscribedTopicsPanel.find(".subscribed-topics-count");
                i._subscribedTopicsPanel.on("subscribe",
                    function() {
                        var t = i._subscribedTopicsPanel.find(".topic-card .card-action > .button.question-follow-btn.subscribed").length;
                        e.text(t)
                    })
            },
            initTagAdd: function() {
                var i = this,
                    e = i._questionTagAddWrap.find(".tag-input");
                i._questionTagAddWrap.find(".tag-name.dropdown").dropdown({
                    allowAdditions: !1,
                    forceSelection: !1,
                    fields: {
                        remoteValues: "results",
                        value: "value",
                        name: "name"
                    },
                    filterRemoteData: !1,
                    apiSettings: {
                        url: page.api_prefix + "/question/list_tags?q={query}",
                        method: "get",
                        dataType: "JSON",
                        cache: !1,
                        throttle: 200,
                        interruptRequests: !0,
                        onResponse: function(t) {
                            var i = [];
                            return 1 === t.code && Array.isArray(t.result) && 0 < t.result.length && (i = t.result.map(function(t) {
                                return {
                                    name: t.name,
                                    value: t.obj_id + "," + t.type
                                }
                            })),
                                {
                                    results: i
                                }
                        }
                    },
                    onNoResults: function(t) {
                        return !! (t && 0 < t.trim().length)
                    }
                }),
                    document.addEventListener("click",
                        function(t) {
                            0 !== i._questionTagAddWrap.find(t.target).length || $(t.target).is(".tag-add-wrap") || (i._questionTagAddWrap.find(".tag-name.dropdown").dropdown("clear"), e.val(""), i._questionTagAddWrap.removeClass("active"))
                        }),
                    i._questionTagAddWrap.on("click",
                        function() {
                            $(this).hasClass("active") || (i._questionTagAddWrap.addClass("active"), e.focus())
                        }),
                    i._questionTagAddWrap.on("click", ".tag-submit-btn", i._submitTagAdd.bind(i)),
                    i._questionTagAddWrap.on("keydown",
                        function(t) {
                            13 === t.keyCode && i._submitTagAdd()
                        })
            },
            _submitTagAdd: function() {
                var t, e, n, i, s = this,
                    a = s._questionTagAddWrap.find("input[name=tag]"),
                    d = s._questionTagAddWrap.find(".tag-input"),
                    o = a.val() || "";
                if ("" === o && /^\d+,\d+$/.test(o)) return ! 1;
                t = o.split(","),
                    e = t[0],
                    n = t[1],
                    i = 33 === parseInt(n) ? 1 : 2,
                    s._questionTagAddWrap.find(".tag-name.dropdown").dropdown("get text"),
                    $.post(page.api_prefix + "/favorites/addV2", {
                            user: page.g_user_id,
                            user_code: page.g_user_code || "",
                            id: e,
                            type: n
                        },
                        function(t) {
                            1 === t.code && t.result ? ($.get(page.api_prefix + "/question/widgets/_subscribed_tag_ajax?tagId=" + e + "&tagType=" + i,
                                function(t) {
                                    s._questionTagAddWrap.before(t),
                                        r.initTopicCardPopup()
                                }).always(function() {
                                var t, i = document.createEvent("Event");
                                i.initEvent("subscribe", !0, !0),
                                (t = s._subscribedTagsPanel.find('.question-follow-btn[data-id="' + e + '"][data-type="' + n + '"]')) && 0 < t.length && t.get(0).dispatchEvent(i)
                            }), s._questionTagAddWrap.find(".tag-name.dropdown").dropdown("clear"), d.val(""), s._questionTagAddWrap.removeClass("active")) : $("body").toast({
                                type: "error",
                                content: t.message || "添加失败"
                            })
                        })
            },
            bindTopicCardLink: function() {
                this._subscribedTopicsPanel.on("click", ".question-topic-cards .topic-card",
                    function(t) {
                        var i = $(t.target),
                            e = $(this),
                            n = e.attr("data-url");
                        0 === i.parents(".card-action").length && n && "" !== n && window.open(n, "_blank")
                    })
            },
            register: function() {
                this.initSubscribedTags(),
                    this.initSubscribedTopics(),
                    this.initTagAdd(),
                    this.bindTopicCardLink()
            }
        },
            t
    });
OSCDefine("web-question-detail", ["question-common"],
    function() {
        var e = function() {
            this._questionDetailEl = $(".question-detail"),
                this._metaWrap = this._questionDetailEl.find(".meta-wrap"),
                this._questionCommentModal = $(".question-comment.modal"),
                this._commentsContainer = $("#commentsContainer"),
                this._answersList = this._commentsContainer.find(".comments-wrap")
        };
        return e.prototype = {
            constructor: e,
            initManagerMenu: function() {
                var u = $("#managerMenu");
                u.dropdown(),
                    u.on("click", "a.item.delete-btn",
                        function() {
                            var e = page.objId,
                                t = $(this).attr("data-hash-code") || "",
                                n = $(".delete-question.modal").modal({
                                    onApprove: function() {
                                        $.post(page.api_prefix + "/question/delete", {
                                                id: e,
                                                hash: t,
                                                user_code: page.g_user_code
                                            },
                                            function(e) {
                                                1 === e.code ? ($("body").toast({
                                                    type: "success",
                                                    content: "删除成功"
                                                }), setTimeout(function() {
                                                        location.href = page.questionRootURL
                                                    },
                                                    1e3)) : $("body").toast({
                                                    type: "error",
                                                    content: e.message || "删除失败"
                                                })
                                            })
                                    }
                                });
                            n.modal("show")
                        }),
                    u.on("click", "a.item.edit-tags-btn",
                        function() {
                            var a = $(".edit-tags.modal"),
                                e = a.find("#editTagsForm");
                            e.form({
                                inline: !0,
                                keyboardShortcuts: !1,
                                fields: {
                                    catalog: {
                                        rules: [{
                                            type: "empty",
                                            prompt: "请选择分类"
                                        }]
                                    }
                                }
                            }).api({
                                url: page.api_prefix + "/question/edit_tags",
                                method: "post",
                                serializeForm: !0,
                                beforeSend: function(e) {
                                    var t = e.data;
                                    return e.data = {
                                        id: page.objId,
                                        catalog: t.catalog,
                                        prj: t.prj,
                                        tags: t.tags,
                                        user_code: page.g_user_code || ""
                                    },
                                        e
                                },
                                onSuccess: function(e, t, n) {
                                    1 === e.code ? ($("body").toast({
                                        type: "success",
                                        content: "设置成功"
                                    }), a.modal("hide"), $(this).form("reset"), setTimeout(function() {
                                            location.reload()
                                        },
                                        1e3)) : $("body").toast({
                                        type: "error",
                                        content: e.message || "设置失败"
                                    })
                                },
                                onFailure: function(e, t) {
                                    $("body").toast({
                                        type: "error",
                                        content: "网络异常，请稍后再试"
                                    })
                                }
                            }),
                                e.find(".catalog.dropdown").dropdown(),
                                e.find(".project-name.dropdown").dropdown({
                                    allowAdditions: !0,
                                    maxSelections: 5,
                                    fields: {
                                        remoteValues: "results",
                                        value: "value",
                                        name: "name"
                                    },
                                    filterRemoteData: !1,
                                    apiSettings: {
                                        url: page.api_prefix + "/project/list_projects?q={query}",
                                        method: "get",
                                        dataType: "JSON",
                                        cache: !1,
                                        throttle: 200,
                                        interruptRequests: !0,
                                        onResponse: function(e) {
                                            var t = [];
                                            return 1 === e.code && Array.isArray(e.result) && 0 < e.result.length && (t = e.result.map(function(e) {
                                                return {
                                                    name: e.name,
                                                    value: e.name
                                                }
                                            })),
                                                {
                                                    results: t
                                                }
                                        }
                                    },
                                    onNoResults: function(e) {
                                        return !! (e && 0 < e.trim().length)
                                    }
                                }),
                                a.modal({
                                    autofocus: !1,
                                    onApprove: function() {
                                        return e.message("hideAll"),
                                            e.form("submit"),
                                            !1
                                    },
                                    onHide: function() {
                                        e.form("reset")
                                    }
                                }),
                                a.modal("show")
                        }),
                    u.on("click", ".item.mark-btn",
                        function() {
                            var n = $(this),
                                e = parseInt(n.attr("data-value")),
                                t = page.objId,
                                a = u.find(".item.mark-btn.mark-as-top-btn"),
                                o = 1 === e ? "置顶": "取消置顶",
                                i = 1 === e ? "取消置顶": "置顶",
                                s = 1 === e ? 0 : 1,
                                r = 1 === e ? "undo icon": "arrow up icon",
                                d = u.find(".item.mark-btn.mark-as-bottom-btn"),
                                c = -1 === e ? "置底": "取消置底",
                                m = -1 === e ? "取消置底": "置底",
                                l = -1 === e ? 0 : -1,
                                p = -1 === e ? "undo icon": "arrow down icon";
                            $.post(page.api_prefix + "/question/mark_as_top", {
                                    id: t,
                                    top: e,
                                    user_code: page.g_user_code
                                },
                                function(e) {
                                    var t = n.hasClass("mark-as-top-btn") ? o: c;
                                    1 === e.code ? ($("body").toast({
                                        type: "success",
                                        content: t + "成功"
                                    }), a.find("span").text(i), a.find("i").attr("class", r), a.attr("data-value", s), d.find("span").text(m), d.find("i").attr("class", p), d.attr("data-value", l)) : $("body").toast({
                                        type: "error",
                                        content: e.message || text + "失败"
                                    })
                                })
                        })
            },
            initAddRemarkBtn: function() {
                var o = this,
                    i = $(".add-remark.modal"),
                    s = $("#addRemarkForm");
                i.modal({
                    onShow: function() {
                        s.form("reset"),
                            s.message("hideAll")
                    },
                    onApprove: function() {
                        return s.message("hideAll"),
                            s.form("submit"),
                            !1
                    }
                }),
                    s.form({
                        inline: !0,
                        fields: {
                            body: {
                                identifier: "body",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入补充内容"
                                },
                                    {
                                        type: "maxLength[200]",
                                        prompt: "内容长度不能超过 {ruleValue} 个字"
                                    }]
                            }
                        }
                    }).api({
                        url: page.api_prefix + "/question/add_detail",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(e) {
                            return $(this).message("hideAll"),
                                e
                        },
                        onSuccess: function(e, t, n) {
                            if (1 !== e.code) return $(this).message({
                                type: "negative",
                                content: e.message || "发表失败"
                            }),
                                !1;
                            $(this).message({
                                type: "positive",
                                content: "发表成功"
                            }),
                                s.form("reset");
                            var a = page.objId || -1;
                            o.loadAdditionalRemarks(a,
                                function() {
                                    setTimeout(function() {
                                            i.modal("hide")
                                        },
                                        1e3)
                                })
                        },
                        onFailure: function(e, t) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    }),
                    s.on("keydown",
                        function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && i.find(".positive.button").click()
                        }),
                    o._metaWrap.on("click", ".item.add-remark-btn",
                        function() {
                            i.modal("show")
                        })
            },
            initAdditionalRemarkAction: function() {
                var s = this,
                    n = $(".additional-remarks");
                n.on("click", ".remark-item .remove-btn",
                    function() {
                        var e = $(this),
                            t = e.parents(".remark-item:eq(0)"),
                            n = t.attr("data-remark-id"),
                            a = page.objId || -1,
                            o = '<div class="ui mini delete-remark modal">    <div class="header">删除一条补充话题</div>    <div class="content">        <p>此补充话题删除后，数据将无法恢复</p>    </div>    <div class="actions">        <div class="ui cancel button">取消</div>        <div class="ui red ok button">确定</div>    </div></div>',
                            i = $(".delete-remark.modal");
                        0 === i.length && ($("body").append(o), i = $(i.selector)),
                            i.modal({
                                onApprove: function() {
                                    $.post(page.api_prefix + "/question/delete_detail", {
                                            id: n,
                                            user_code: page.g_user_code
                                        },
                                        function(e) {
                                            1 === e.code ? ($("body").toast({
                                                type: "success",
                                                content: "删除成功"
                                            }), s.loadAdditionalRemarks(a)) : $("body").toast({
                                                type: "error",
                                                content: e.message || "删除失败"
                                            })
                                        })
                                }
                            }),
                            i.modal("show")
                    }),
                    n.on("click", ".view-all-button",
                        function() {
                            var e = $(this),
                                t = n.find(".remark-item");
                            e.hide(),
                                t.removeClass("hide")
                        })
            },
            loadAdditionalRemarks: function(e, t) {
                var n = $(".additional-remarks");
                $.post("/question/widgets/_additional_remarks", {
                        qid: e
                    },
                    function(e) {
                        n.html(e)
                    }).always(function() {
                    t && $.isFunction(t) && t()
                })
            },
            shareMenu: function() {
                this._questionDetailEl.find(".share.dropdown").dropdown()
            },
            hightlight: function() {
                $("pre, pre code").each(function(e, t) {
                    var n, a = $(this),
                        o = a.attr("class") || "",
                        i = o.match(/language-(.*)/);
                    i && 1 < i.length && (n = i[i.length - 1], a.attr("class", "hljs " + n)),
                        hljs.highlightBlock(t)
                })
            },
            answersListPJAX: function() {
                var e = this,
                    t = $("#commentsContainer"),
                    n = $(".comments-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".pagination a, .comments-title .tab, .comments-header-tabs .menu > .item", "#commentsContainer .comments-wrap", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            n.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function() {
                            e.parseEmoticon(),
                                e.hightlight(),
                                n.removeClass("active"),
                                $("html, body").stop().animate({
                                        scrollTop: t.offset().top - 50
                                    },
                                    500, "swing")
                        })
            },
            answerReplies: function() {
                var o = this,
                    e = this._answersList;
                e.on("click", ".comment.answer > .answer-content-wrap > .replies-wrap .page-link",
                    function(e) {
                        var t = $(this),
                            n = t.attr("data-page"),
                            a = t.attr("data-answer-id");
                        o.loadCommentReplies(a, n)
                    })
            },
            loadComments: function() {
                var t = this;
                $.get(page.fetchCommentsUrl,
                    function(e) {
                        t._answersList.html(e),
                            t.parseEmoticon(),
                            t.hightlight()
                    })
            },
            loadCommentReplies: function(n, a, e) {
                var o = this;
                a = parseInt(a) || 1,
                    $.post(page.getCommentRepliesUrl, {
                            answer: n,
                            rp: a
                        },
                        function(e) {
                            var t = o._answersList.find(".comment.answer[data-answer-id=" + n + "] > .answer-content-wrap > .replies-wrap");
                            t && (t.html(e), t.attr("data-page", a), o.parseEmoticon())
                        }).always(function() {
                        e && $.isFunction(e) && e()
                    })
            },
            commentForm: function() {
                var o = this,
                    a = $(".comment.form"),
                    i = null,
                    e = {
                        height: 160,
                        resize_maxHeight: 400,
                        toolbar: [{
                            name: "links",
                            items: ["Link", "Unlink"]
                        },
                            {
                                name: "insert",
                                items: ["Image", "Table"]
                            },
                            {
                                name: "basicstyles",
                                items: ["Bold", "Italic", "Strike"]
                            },
                            {
                                name: "paragraph",
                                items: ["NumberedList", "BulletedList"]
                            },
                            {
                                name: "clipboard",
                                items: ["Undo", "Redo"]
                            },
                            {
                                name: "align",
                                items: ["JustifyLeft", "JustifyCenter"]
                            },
                            {
                                name: "styles",
                                items: ["Blockquote", "CodeSnippet", "Format"]
                            },
                            {
                                name: "source",
                                items: ["Source", "Maximize"]
                            }],
                        removePlugins: "elementspath",
                        uploadUrl: page.api_prefix + "/question/ckeditor_dialog_img_upload",
                        filebrowserUploadUrl: page.api_prefix + "/question/ckeditor_dialog_img_upload"
                    };
                a.find("textarea[name=body]").on("focus",
                    function() {
                        var n = this; (i = CKEDITOR.replace(n, e)).on("instanceReady",
                            function(e) {
                                CKEDITOR.instances.body.focus()
                            }),
                            i.on("change",
                                function(e) {
                                    $(n).val(e.editor.getData())
                                }),
                            i.on("fileUploadResponse",
                                function(e) {
                                    setTimeout(function() {
                                            $(n).val(e.editor.getData())
                                        },
                                        0)
                                }),
                            i.on("mode",
                                function(e) {
                                    if ("source" === this.mode) {
                                        var t = i.editable();
                                        t.attachListener(t, "input",
                                            function() {
                                                $(n).val(e.editor.getData())
                                            })
                                    }
                                }),
                            i.on("key",
                                function(e) {
                                    var t = e.data.domEvent.$; (t.metaKey || t.ctrlKey) && 13 === t.keyCode && a.form("submit")
                                })
                    }),
                    a.form({
                        inline: !0,
                        fields: {
                            body: {
                                identifier: "body",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入回答内容"
                                }]
                            }
                        }
                    }).api({
                        url: page.api_prefix + "/question/answer",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(e) {
                            return $(this).message("hideAll"),
                                e
                        },
                        onSuccess: function(e, t, n) {
                            if (1 === e.code) {
                                i.setData("");
                                var a = e.result.id || -1;
                                0 < a && $.post(page.getCommentUrl, {
                                        _answer_id: a
                                    },
                                    function(e) {
                                        o._answersList.find(".answers-list").append(e),
                                            o.parseEmoticon(),
                                            o.hightlight(),
                                            o._setAnswersCount(1)
                                    })
                            } else $(this).message({
                                type: "negative",
                                content: e.message || "发布失败",
                                disappear: 2e3
                            })
                        },
                        onFailure: function(e, t) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    })
            },
            _setAnswersCount: function(e) {
                var t, n, a;
                e = parseInt(e) || 0,
                (n = (t = this._questionDetailEl.find("span[data-article-reply-count]")).first()) && 0 < n.length && (a = parseInt(n.text()) || 0, t.text(a + e))
            },
            _setAnswerRepliesCount: function(e, t) {
                var n, a, o, i = this;
                if ((e = e || -1) <= 0) return ! 1;
                t = parseInt(t) || 0,
                (n = i._answersList.find(".comment.answer[data-answer-id=" + e + "]")) && 0 < n.length && (a = n.find(".actions > a.reply > span.reply-count"), o = parseInt(a.text()) || 0, a.text(o + t))
            },
            questionComment: function() {
                var e, o = this,
                    i = this._questionCommentModal,
                    s = $("#questionCommentForm");
                i.modal({
                    onShow: function() {
                        var e, t;
                        s.form("reset"),
                            s.message("hideAll"),
                            e = $(this).attr("data-answer-id") || -1,
                            s.find("input[name=parent]").val(e),
                        0 < (t = (t = $(this).attr("data-atwho") || "").trim()).length && s.find("textarea[name=body]").val("回复 @" + t + " : ")
                    },
                    onApprove: function() {
                        return s.message("hideAll"),
                            s.form("submit"),
                            !1
                    }
                }),
                    s.form({
                        inline: !0,
                        fields: {
                            body: {
                                identifier: "body",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入评论内容"
                                },
                                    {
                                        type: "maxLength[200]",
                                        prompt: "内容长度不能超过 {ruleValue} 个字"
                                    }]
                            }
                        }
                    }).api({
                        url: page.api_prefix + "/question/reply_to_post",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(e) {
                            return $(this).message("hideAll"),
                                e
                        },
                        onSuccess: function(e, t, n) {
                            if (1 !== e.code) return $(this).message({
                                type: "negative",
                                content: e.message || "评论失败"
                            }),
                                !1;
                            $(this).message({
                                type: "positive",
                                content: "评论成功"
                            });
                            var a = s.find("input[name=parent]").val();
                            s.form("reset"),
                                o.loadCommentReplies(a, 1,
                                    function() {
                                        setTimeout(function() {
                                                i.modal("hide")
                                            },
                                            1e3)
                                    }),
                                o._setAnswerRepliesCount(a, 1)
                        },
                        onFailure: function(e, t) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    }),
                    i.on("keydown",
                        function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && i.find(".positive.button").click()
                        }),
                    (e = this._answersList).on("click", ".comment.answer > .answer-content-wrap > .content > .actions a.reply",
                        function(e) {
                            var t;
                            if (e.stopPropagation(), !window.common.checkLogin()) return ! 1;
                            t = $(e.target).parents(".comment.answer:eq(0)").attr("data-answer-id"),
                                i.attr("data-answer-id", t),
                                i.attr("data-atwho", ""),
                                i.modal("show")
                        }),
                    e.on("click", ".comment.reply > .content > .actions a.reply",
                        function(e) {
                            var t, n;
                            if (e.stopPropagation(), !window.common.checkLogin()) return ! 1;
                            t = $(e.target).parents(".comment.answer:eq(0)").attr("data-answer-id"),
                                n = $(this).attr("data-atwho"),
                                i.attr("data-answer-id", t),
                                i.attr("data-atwho", n),
                                i.modal("show")
                        })
            },
            deleteAnswer: function() {
                var a = this;
                $(".delete-answer.modal").modal({
                    onApprove: function() {
                        var e = $(this).attr("data-answer-id"),
                            t = $(this).attr("data-answer-hash"),
                            n = a._answersList.find(".comment.answer[data-answer-id=" + e + "]");
                        $.post(page.api_prefix + "/question/delete_answer", {
                                id: e,
                                hash: t,
                                user_code: page.g_user_code
                            },
                            function(e) {
                                1 === e.code ? (n.fadeOut(function() {
                                    n.remove()
                                }), a._setAnswersCount( - 1)) : $("body").toast({
                                    type: "error",
                                    content: e.message || "删除失败"
                                })
                            })
                    }
                }),
                    this._answersList.on("click", ".comment.answer > .answer-content-wrap > .content > .actions a.remove",
                        function(e) {
                            var t, n, a, o;
                            e.stopPropagation(),
                                n = (t = $(e.target).parents(".comment:eq(0)")).attr("data-answer-id"),
                                a = t.attr("data-answer-hash"),
                                (o = $(".delete-answer.modal")).attr("data-answer-id", n),
                                o.attr("data-answer-hash", a),
                                o.modal("show")
                        })
            },
            deleteComment: function() {
                var a = this;
                $(".delete-comment.modal").modal({
                    onApprove: function() {
                        var e = $(this).attr("data-reply-answer-id"),
                            t = $(this).attr("data-reply-answer-hash"),
                            n = $(this).attr("data-answer-id");
                        $(this).attr("data-page-index");
                        $.post(page.api_prefix + "/question/delete_answer", {
                                id: e,
                                hash: t,
                                user_code: page.g_user_code
                            },
                            function(e) {
                                1 === e.code ? (a.loadCommentReplies(n, 1), a._setAnswerRepliesCount(n, -1)) : $("body").toast({
                                    type: "error",
                                    content: e.message || "删除失败"
                                })
                            })
                    }
                }),
                    this._answersList.on("click", ".comment.reply > .content > .actions a.remove",
                        function(e) {
                            var t, n, a, o, i, s;
                            e.stopPropagation(),
                                n = (t = $(e.target).parents(".comment:eq(0)")).attr("data-answer-id"),
                                a = t.attr("data-answer-hash"),
                                o = $(e.target).parents(".comment:eq(1)").attr("data-answer-id"),
                                i = $(e.target).parents(".replies-wrap:eq(0)").attr("data-page-index"),
                                (s = $(".delete-comment.modal")).attr("data-reply-answer-id", n),
                                s.attr("data-reply-answer-hash", a),
                                s.attr("data-answer-id", o),
                                s.attr("data-page-index", i),
                                s.modal("show")
                        })
            },
            answerVote: function() {
                function s(t, e, n) {
                    var a = t.parent().find(".vote-count");
                    parseInt(a.text().match(/\d+/)[0]);
                    $.post(page.api_prefix + "/question/vote_answer", {
                            user: page.g_user_id,
                            user_code: page.g_user_code,
                            id: e,
                            vote: n
                        },
                        function(e) {
                            0 !== e.code ? (n && e.result, a.text(e.result.vote), t.toggleClass("active")) : $("body").toast({
                                type: "error",
                                content: e.message || "投票失败"
                            })
                        })
                }
                this._commentsContainer.on("click", ".comment.answer > .answer-left > .vote-wrap > .vote-btn",
                    function(e) {
                        var t = $(this),
                            n = t.hasClass("vote-up"),
                            a = 0 < t.parent().find(".vote-btn.active").length,
                            o = $(e.target).parents(".comment:eq(0)"),
                            i = o.attr("data-answer-id");
                        o.attr("data-answer-hash");
                        if (!window.common.checkLogin()) return ! 1;
                        t.hasClass("active") ? s(t, i, n) : a ? $("body").toast({
                            type: "error",
                            content: "您已经对此问题投过票了，不能重复投票"
                        }) : n ? s(t, i, !0) : $(".vote-confirm.modal").modal({
                            onApprove: function() {
                                s(t, i, !1)
                            }
                        }).modal("show")
                    })
            },
            markBestAnswer: function() {
                var i = this;
                this._answersList.on("click", ".comment.answer > .answer-content-wrap > .content > .actions a.mark-best-answer",
                    function(e) {
                        var t, n = $(e.target).parents(".comment:eq(0)"),
                            a = n.attr("data-answer-id"),
                            o = n.hasClass("best-answer");
                        if (!window.common.checkLogin()) return ! 1;
                        t = function() {
                            $.post(page.api_prefix + "/question/mark_as_best_v2", {
                                    id: a,
                                    user_code: page.g_user_code
                                },
                                function(e) {
                                    1 === e.code ? (i.loadComments(), $("body").toast({
                                        type: "success",
                                        content: "操作成功"
                                    })) : $("body").toast({
                                        type: "error",
                                        content: e.message || "操作失败"
                                    })
                                })
                        },
                            o ? $(".cancel-best-answer.modal").modal({
                                onApprove: t
                            }).modal("show") : $(".best-answer.modal").modal({
                                onApprove: t
                            }).modal("show")
                    })
            },
            parseEmoticon: function() {
                $(function() {
                    $("[data-emoji-render]").emoticon()
                })
            },
            initPoll: function() {
                var t, n, a, o = this,
                    e = $(".poll-wrap"),
                    i = e.find(".vote-form"),
                    s = i.find(".poll-options");
                s.find(".option-progress .ui.progress").progress(),
                    t = i.find('input[name="multiple"]').val() || "",
                    t = 1 === parseInt(t),
                    n = e.find('input[name="maxSelect"]').val(),
                    n = parseInt(n) || 0,
                    a = "true" === (a = e.find('input[name="isVoted"]').val()),
                    s.find("input[type=checkbox]").on("change",
                        function() {
                            var e = s.find("input[type=checkbox]:checked").length;
                            t && 0 < n && (n <= e ? s.find("input[type=checkbox]:not(:checked)").parents(".option-item.field").addClass("disabled") : s.find(".option-item.field").removeClass("disabled"))
                        }),
                    i.on("click", ".submit.button",
                        function() {
                            return !! window.common.checkLogin() && (a ? ($("body").toast({
                                type: "error",
                                content: "您已投过票，感谢参与"
                            }), !1) : !(e = t ? s.find("input[type=checkbox]:checked") : s.find("input[type=radio]:checked")) || e.length <= 0 ? ($("body").toast({
                                type: "error",
                                content: "您还没有选择任何一项"
                            }), !1) : void $.post(page.api_prefix + "/pool/vote", i.serialize(),
                                function(e) {
                                    1 === e.code ? ($("body").toast({
                                        type: "success",
                                        content: "投票成功"
                                    }), o.loadPollWrapAJAX()) : $("body").toast({
                                        type: "error",
                                        content: e.message || "投票失败"
                                    })
                                }));
                            var e
                        })
            }, loadPollWrapAJAX: function() {
                var t = this,
                    n = $(".poll-wrap");
                $.get("/question/widgets/_detail_poll?qid=" + page.objId,
                    function(e) {
                        n.html(e),
                            t.initPoll()
                    })
            },
            register: function() {
                this.initManagerMenu(),
                    this.initAddRemarkBtn(),
                    this.initAdditionalRemarkAction(),
                    this.shareMenu(),
                    this.hightlight(),
                    this.parseEmoticon(),
                    this.answersListPJAX(),
                    this.answerReplies(),
                    this.commentForm(),
                    this.questionComment(),
                    this.deleteAnswer(),
                    this.deleteComment(),
                    this.answerVote(),
                    this.markBestAnswer(),
                    this.initPoll()
            }
        },
            e
    });
OSCDefine("web-question-ask",
    function() {
        var e = function() {
            var n, e, r = $(".new-question.form"),
                t = r.find("input[name=subject]"),
                o = r.find("textarea[name=body]"),
                a = {
                    height: 350,
                    resize_minHeight: 423,
                    resize_maxHeight: 1e3,
                    uploadUrl: page.api_prefix + "/question/ckeditor_dialog_img_upload",
                    filebrowserUploadUrl: page.api_prefix + "/question/ckeditor_dialog_img_upload"
                },
                i = function() {
                    var i = CKEDITOR.replace(o[0], a);
                    i.on("change",
                        function(e) {
                            o.val(e.editor.getData())
                        }),
                        i.on("fileUploadResponse",
                            function(e) {
                                setTimeout(function() {
                                        o.val(e.editor.getData())
                                    },
                                    0)
                            }),
                        i.on("mode",
                            function(e) {
                                if ("source" === this.mode) {
                                    var t = i.editable();
                                    t.attachListener(t, "input",
                                        function() {
                                            o.val(e.editor.getData())
                                        })
                                }
                            })
                };
            r.find(".checkbox").checkbox(),
                $(".catalog.menu .item").on("click",
                    function() {
                        r.find("input[name=catalog]").val($(this).data("value")),
                            $(this).addClass("active").closest(".ui.menu").find(".item").not($(this)).removeClass("active")
                    }),
                n = new OSCCaptcha({
                    imgSelector: ".new-question.form .captcha img",
                    refreshSelector: ".new-question.form .captcha",
                    inputSelector: ".new-question.form input[name=verifyCode]",
                    captchaUrl: page.api_prefix + "/user/captcha"
                }),
                $.fn.form.settings.rules.expertName = function(e) {
                    return ! r.find("input[name=expertPresent]").is(":checked") || /^@\S+$/.test(e)
                },
                e = r.find("input[name=expertName]"),
                r.find("input[name=expertPresent]").on("change",
                    function() {
                        $(this).is(":checked") ? e.show() : (e.hide(), r.form("validate field", "expertName"), r.find("input[name=expertName]").val(""))
                    }),
                r.find(".project-name.dropdown").dropdown({
                    allowAdditions: !0,
                    maxSelections: 5,
                    fields: {
                        remoteValues: "results",
                        value: "value",
                        name: "name"
                    },
                    filterRemoteData: !1,
                    apiSettings: {
                        url: page.api_prefix + "/project/list_projects?q={query}",
                        method: "get",
                        dataType: "JSON",
                        cache: !1,
                        throttle: 200,
                        interruptRequests: !0,
                        onResponse: function(e) {
                            var t = [];
                            return 1 === e.code && Array.isArray(e.result) && 0 < e.result.length && (t = e.result.map(function(e) {
                                return {
                                    name: e.name,
                                    value: e.name
                                }
                            })),
                                {
                                    results: t
                                }
                        }
                    },
                    onNoResults: function(e) {
                        return !! (e && 0 < e.trim().length)
                    }
                }),
                r.form({
                    inline: !0,
                    fields: {
                        catalog: {
                            identifier: "catalog",
                            rules: [{
                                type: "empty",
                                prompt: "请选择板块"
                            }]
                        },
                        subject: {
                            identifier: "subject",
                            rules: [{
                                type: "empty",
                                prompt: "请输入标题"
                            },
                                {
                                    type: "maxLength[120]",
                                    prompt: "标题长度不能超过 {ruleValue} 个字符"
                                }]
                        },
                        body: {
                            identifier: "body",
                            rules: [{
                                type: "empty",
                                prompt: "请输入描述"
                            },
                                {
                                    type: "minLength[10]",
                                    prompt: "描述内容长度不能少于 {ruleValue} 个字符"
                                }]
                        },
                        expertName: {
                            identifier: "expertName",
                            rules: [{
                                type: "expertName",
                                prompt: "请输入正确的格式：@昵称"
                            }]
                        },
                        verifyCode: {
                            identifier: "verifyCode",
                            rules: [{
                                type: "empty",
                                prompt: "请输入验证码"
                            }]
                        }
                    }
                }).api({
                    url: page.api_prefix + "/question/newAsk",
                    method: "post",
                    serializeForm: !0,
                    beforeSend: function(e) {
                        var t, i, n, a, o;
                        return $(this).message("hideAll"),
                            i = {
                                user_code: (t = e.data).user_code,
                                userId: t.userId,
                                id: t.id,
                                askUserId: t.askUserId,
                                tag: t.tag,
                                tag_type: t.tag_type,
                                subject: t.subject,
                                catalog: t.catalog,
                                prj: t.prj,
                                body: t.body,
                                notifyMethod: t.notifyMethod,
                                closeAnswer: t.closeAnswer,
                                expertPresent: t.expertPresent,
                                expertName: t.expertName,
                                togglePoll: t.togglePoll,
                                independentPoll: t.independentPoll,
                                expiration: t.expiration,
                                visible: t.visible,
                                scoreLimit: t.scoreLimit,
                                postsLimit: t.postsLimit,
                                multiple: t.multiple,
                                maxSelect: t.maxSelect,
                                verifyCode: t.verifyCode || ""
                            },
                            n = $.param(i),
                            a = [],
                        1 === parseInt(i.togglePoll) && (r.find(".poll-detail-settings .options-list .option-item").each(function(e, t) {
                            var i = $(t),
                                n = i.find('input[name="pollOptionId"]').val(),
                                o = i.find('input[name="pollOption"]').val();
                            o && "" !== o.trim() && a.push({
                                pollOptionId: n,
                                pollOption: o
                            })
                        }), 0 < (o = a.map(function(e) {
                            return $.param(e)
                        }).join("&")).length && (n = n + "&" + o)),
                            e.data = n,
                            e
                    },
                    onSuccess: function(e, t, i) {
                        1 === e.code ? ($(this).message({
                            type: "positive",
                            content: page.is_edit ? "保存成功": "发布成功"
                        }), window.onbeforeunload = null, window.location.href = page.question_url + "/" + page.question_user_id + "_" + e.result.questionId) : ($(this).message({
                            type: "negative",
                            content: e.message || "操作失败",
                            disappear: 2e3
                        }), n.refresh())
                    },
                    onFailure: function(e, t) {
                        $(this).message({
                            type: "negative",
                            content: "网络错误，请稍后再试"
                        })
                    }
                }),
                $(function() {
                    i(),
                        t.focus(),
                        window.onbeforeunload = function() {
                            var e = r.find("input[name=subject]").val().trim(),
                                t = o.val().trim();
                            if ("" !== e || "" !== t) return "确认放弃此问题"
                        }
                })
        };
        return e.prototype = {
            constructor: e,
            initPollSettings: function() {
                var e, t, i, o = $(".poll-settings");
                if (!o || 0 === o.length) return ! 1;
                t = (e = o.find(".poll-detail-settings")).find(".options-wrap"),
                    i = t.find(".options-list"),
                    o.find("input[name=togglePoll]").on("change",
                        function() {
                            $(this).is(":checked") ? e.show() : e.hide()
                        }),
                    e.on("click", ".options-wrap .add-option",
                        function() {
                            var e = $("#optionItemTemplate");
                            i.append(e.html())
                        }),
                    e.on("click", ".options-wrap .remove-option",
                        function(e) {
                            var t = $(e.target).parents(".option-item:eq(0)"),
                                i = o.find('input[name="pollId"]').val(),
                                n = t.find('input[name="pollOptionId"]').val();
                            t.find('input[name="pollOption"]').val();
                            page.is_edit && 0 < n ? $(".delete-poll-option.modal").modal({
                                onApprove: function() {
                                    $.post(page.api_prefix + "/pool/del_option", {
                                            id: page.question_id,
                                            pid: i,
                                            opid: n
                                        },
                                        function(e) {
                                            1 === e.code ? t.remove() : $("body").toast({
                                                type: "error",
                                                content: "删除失败，请重试"
                                            })
                                        })
                                }
                            }).modal("show") : t.remove()
                        })
            },
            register: function() {
                this.initPollSettings()
            }
        },
            e
    }); !
    function() {
        function n(t) {
            var n, r, a, s, e, h, i, l, d, g, o, m, c, u, p = t.element || null,
                f = t.getIndex || null,
                w = t.bigImgArr || [],
                v = t.smallImgArr || [],
                I = t.rawImgArr || [],
                b = t.showBigImgCallback,
                S = t.isBigImgMode;
            w.length <= 0 && v <= 0 && p.find('[data-multi-image-raw="item"] img').each(function(t, a) {
                var i = $(a).attr("data-big-img"),
                    e = $(a).attr("data-small-img"),
                    n = $(a).attr("data-raw-img");
                w.push(i),
                    v.push(e),
                    I.push(n)
            }),
                n = {
                    createMultiImageWrapper: function(t) {
                        t = t || [];
                        var n = $("<div>").attr("data-multi-image", "wrapper");
                        return t.forEach(function(t) {
                            var a = $("<div>").attr("data-multi-image", "item"),
                                i = $("<img>").attr("src", t),
                                e = $("<div>").addClass("loading-gif");
                            a.append(e).append(i),
                                n.append(a)
                        }),
                            n
                    },
                    createStageWrapper: function(t) {
                        t = t || [];
                        var e = $("<div>").attr("data-multi-image-stage", "wrapper");
                        return 1 < t.length && t.forEach(function(t) {
                            var a = $("<div>").attr("data-multi-image-stage", "item"),
                                i = $("<img>").attr("src", t);
                            a.append(i),
                                e.append(a)
                        }),
                            e
                    },
                    createToolbarWrapper: function() {
                        var t, a, i, e, n = $("<div>").attr("data-multi-image", "toolbar");
                        return S ? (e = $("<span>").attr("data-multi-image-tools", "show_big_img").html('<i class="icon-svg icon-enlarge-gray"></i>查看原图'), n.append(e)) : (t = $("<a>").attr({
                            href: "",
                            target: "_blank",
                            "data-multi-image-tools": "show_big_img"
                        }).html('<i class="icon-svg icon-enlarge-gray"></i>查看原图'), a = $("<span>").attr("data-multi-image-tools", "rotate_left").html('<i class="icon-svg icon-redo-gray"></i>向左旋转'), i = $("<span>").attr("data-multi-image-tools", "rotate_right").html('<i class="icon-svg icon-rotate-right-gray"></i>向右旋转'), n.append(t).append(a).append(i)),
                            n
                    }
                },
                this.init = function() {
                    var t, a = n.createMultiImageWrapper(I),
                        i = n.createStageWrapper(v),
                        e = n.createToolbarWrapper();
                    S ? ((t = $("<div>").attr("data-multi-image-big", "wrapper")).append(e).append(a).append(i), $("body").append(t)) : ((t = $("<div>").attr("data-multi-image", "panel")).append(e).append(a).append(i), p.append(t), t.show())
                },
            "false" === (p.attr("data-init-multiImage") || "false") && (this.init(), p.attr("data-init-multiImage", "true")),
                e = p.find('[data-multi-image="panel"]'),
                h = e.find('[data-multi-image="wrapper"]'),
                i = p.find('[data-multi-image-raw="list"]'),
                l = h.find('[data-multi-image="item"]'),
                d = l.length,
                g = e.find('[data-multi-image-stage="wrapper"]'),
                o = g.find('[data-multi-image-stage="item"]'),
                m = 0,
                c = h.width(),
                h.height(),
                u = {
                    left: .4 * c,
                    right: .6 * c
                },
                s = {
                    closePanel: function() {
                        i.show(),
                            e.hide()
                    },
                    showPanel: function() {
                        i.hide(),
                            e.show()
                    }
                },
                a = {
                    showCursor: function() {
                        h.delegate('[data-multi-image="item"]', "mousemove",
                            function(t) {
                                var a, i, e = $(this).find("img");
                                0 < e.length && (a = e.width(), (i = t.pageX - e.offset().left) <= (u = {
                                    left: .35 * a,
                                    right: .65 * a
                                }).left && 0 < m ? h.attr("data-cursor", "left") : i >= u.right && m < d - 1 ? h.attr("data-cursor", "right") : h.attr("data-cursor", "small"))
                            })
                    },
                    switchImage: function() {
                        h.delegate('[data-multi-image="item"]', "mousedown",
                            function(t) {
                                var a, i, e = $(this).find("img");
                                0 < e.length && 3 !== t.which && (a = t.pageX - e.offset().left, i = e.width(), a <= (u = {
                                    left: .35 * i,
                                    right: .65 * i
                                }).left && 0 < m ? r.switchToPrev() : a >= u.right && m < d - 1 ? r.switchToNext() : s.closePanel())
                            })
                    },
                    switchByStage: function() {
                        g.delegate('[data-multi-image-stage="item"]', "click",
                            function(t) {
                                var a = $(this).index() || 0;
                                $(this).addClass("active").siblings('[data-multi-image-stage="item"]').removeClass("active"),
                                    r.switchSlide(a)
                            })
                    },
                    rotateLeft: function() {
                        var i = this;
                        e.delegate('[data-multi-image-tools="rotate_left"]', "click",
                            function() {
                                var t = l.eq(m),
                                    a = t.find("img");
                                i.rotateImg(a, t, "left")
                            })
                    },
                    rotateRight: function() {
                        var i = this;
                        e.delegate('[data-multi-image-tools="rotate_right"]', "click",
                            function() {
                                var t = l.eq(m),
                                    a = t.find("img");
                                i.rotateImg(a, t, "right")
                            })
                    },
                    rotateImg: function(t, a, i) {
                        var e, n, r, s = t.attr("data-isAppendWrapper") || "false",
                            l = t.attr("data-rotate-count") || 0,
                            d = 0,
                            g = 0,
                            o = 0;
                        $(a).width(),
                            $(a).height();
                        if (t) {
                            switch (e = {
                                width: t.width() >= h.width() ? h.width() : t.width(),
                                height: t.height()
                            },
                                "left" === i ? l--:"right" === i && l++, n = 90 * l, l % 4) {
                                case 0:
                                    g = d = 0,
                                        o = e.height;
                                    break;
                                case - 1 : d = (e.width - e.height) / 2,
                                    g = e.width,
                                    o = e.width;
                                    break;
                                case - 2 : d = e.width,
                                    g = e.height,
                                    o = e.height;
                                    break;
                                case - 3 : d = (e.width + e.height) / 2,
                                    g = 0,
                                    o = e.width;
                                    break;
                                case - 4 : g = 0,
                                    d = e.height / 2,
                                    o = e.width;
                                    break;
                                case 1:
                                    d = (e.width + e.height) / 2,
                                        g = 0,
                                        o = e.width;
                                    break;
                                case 2:
                                    d = e.width,
                                        g = e.height,
                                        o = e.height;
                                    break;
                                case 3:
                                    d = (e.width - e.height) / 2,
                                        g = e.width,
                                        o = e.width;
                                    break;
                                case 4:
                                    d = -e.width / 2,
                                        g = 0,
                                        o = e.height
                            }
                            t.css({
                                "transform-origin": "0 0",
                                transform: "rotateZ(" + n + "deg)"
                            }),
                                t.attr("data-rotate-count", l),
                                "false" == s ? ((r = $("<div>").height(o).css({
                                    left: d,
                                    top: g,
                                    position: "relative"
                                }).addClass("image-rotate-wrapper")).append(t), a.append(r), t.attr("data-isAppendWrapper", "true")) : t.parents(".image-rotate-wrapper").height(o).css({
                                    left: d,
                                    top: g
                                })
                        }
                    },
                    showOriginImg: function() {
                        e.delegate('[data-multi-image-tools="show_big_img"]', "click",
                            function() {
                                l.eq(m).find("img");
                                "function" == typeof b && b(m)
                            })
                    }
                },
                r = {
                    switchToNext: function() {
                        m < d - 1 ? m++:m = d - 1,
                            this.switchSlide(m)
                    },
                    switchToPrev: function() {
                        0 < m ? m--:m = 0,
                            this.switchSlide(m)
                    },
                    switchToCur: function() {
                        m = m,
                            this.switchSlide(m)
                    },
                    switchSlide: function(t) {
                        m = t,
                            l.eq(t).addClass("active").siblings('[data-multi-image="item"]').removeClass("active").removeClass("active-opacity"),
                            o.eq(t).addClass("active").siblings('[data-multi-image-stage="item"]').removeClass("active"),
                            e.find('[data-multi-image-tools="show_big_img"]').attr("href", I[t]),
                            setTimeout(function() {
                                    l.eq(t).addClass("active-opacity")
                                },
                                0),
                        "function" == typeof f && f(t)
                    }
                },
                this.switchIndex = function(t) {
                    r.switchSlide && r.switchSlide(t)
                },
                this.closePanel = function() {
                    s.closePanel()
                },
                this.showPanel = function() {
                    s.showPanel()
                },
                $('[data-multi-image="item"] img').each(function(t, a) {
                    a.onload = function() {
                        $(this).parents('[data-multi-image="item"]').find(".loading-gif").remove()
                    }
                }),
                this.register = (a.showCursor(), a.switchImage(), a.switchByStage(), a.rotateLeft(), a.rotateRight(), void r.switchSlide(m))
        }
        var t = {
            showMultiImages: {},
            initShowMultiImages: function(t, a) {
                var i = t.attr("data-optlog-id") || 0,
                    e = t.attr("data-init-multiImage") || "false";
                "false" === e && (this.showMultiImages[i] = new n({
                    element: t
                }), t.attr("data-init-multiImage", "true")),
                    this.showMultiImages[i].switchIndex(a),
                    this.showMultiImages[i].showPanel()
            },
            initSmallImages: function() {
                var i = function(t) {
                    var a = $(t).data("max-height"),
                        i = $(t).data("max-width"),
                        e = t.naturalWidth,
                        n = t.naturalHeight;
                    n < e ? ($(t).css("width", "auto"), $(t).css("max-height", a)) : ($(t).css("max-width", i), $(t).css("height", "auto"))
                };
                $('[data-multi-image-raw="item"] img').each(function(t, a) {
                    $(a).data("init") || ($(a).data("init", !0), a.onload = function() {
                        i(a)
                    },
                    a.complete && i(a))
                })
            },
            bindSmallImages: function() {
                var i = this;
                $("body").delegate('[data-multi-image-raw="wrapper"] [data-multi-image-raw="item"]', "click",
                    function() {
                        var t = $(this).parents('[data-multi-image-raw="wrapper"]'),
                            a = $(this).index() || 0;
                        i.initShowMultiImages(t, a)
                    })
            }
        };
        t.bindSmallImages(),
            $(function() {
                t.initSmallImages()
            }),
            window.OSCMultipleImageViewer = t
    } ();
OSCPlugin("tweet-publish-form",
    function() {
        return function() {
            var t, e, a = new Vue({
                el: "#tweetForm",
                data: function() {
                    return {
                        tweetMaxLength: 160,
                        tweetContent: page.tweetTopicPrefix || "",
                        tweetPublishLoading: !1,
                        tipMessage: {
                            show: !1,
                            content: "",
                            className: ""
                        },
                        curEmojiType: "People",
                        emojiList: [{
                            type: "People",
                            items: ["bowtie", "smile", "laughing", "blush", "smiley", "relaxed", "smirk", "heart_eyes", "kissing_heart", "kissing_closed_eyes", "flushed", "relieved", "satisfied", "grin", "wink", "stuck_out_tongue_winking_eye", "stuck_out_tongue_closed_eyes", "grinning", "kissing", "kissing_smiling_eyes", "stuck_out_tongue", "sleeping", "worried", "frowning", "anguished", "open_mouth", "grimacing", "confused", "hushed", "expressionless", "unamused", "sweat_smile", "sweat", "disappointed_relieved", "weary", "pensive", "disappointed", "confounded", "fearful", "cold_sweat", "persevere", "cry", "sob", "joy", "astonished", "scream", "neckbeard", "tired_face", "angry", "rage", "triumph", "sleepy", "yum", "mask", "sunglasses", "dizzy_face", "imp", "smiling_imp", "neutral_face", "no_mouth", "innocent", "alien", "yellow_heart", "blue_heart", "purple_heart", "heart", "green_heart", "broken_heart", "heartbeat", "heartpulse", "two_hearts", "revolving_hearts", "cupid", "sparkling_heart", "sparkles", "star", "star2", "dizzy", "boom", "collision", "anger", "exclamation", "question", "grey_exclamation", "grey_question", "zzz", "dash", "sweat_drops", "notes", "musical_note", "fire", "hankey", "poop", "shit", "+1", "thumbsup", "-1", "thumbsdown", "ok_hand", "punch", "facepunch", "fist", "v", "wave", "hand", "raised_hand", "open_hands", "point_up", "point_down", "point_left", "point_right", "raised_hands", "pray", "point_up_2", "clap", "muscle", "metal", "fu", "walking", "runner", "running", "couple", "family", "two_men_holding_hands", "two_women_holding_hands", "dancer", "dancers", "ok_woman", "no_good", "information_desk_person", "raising_hand", "bride_with_veil", "person_with_pouting_face", "person_frowning", "bow", "couplekiss", "couple_with_heart", "massage", "haircut", "nail_care", "boy", "girl", "woman", "man", "baby", "older_woman", "older_man", "person_with_blond_hair", "man_with_gua_pi_mao", "man_with_turban", "construction_worker", "cop", "angel", "princess", "smiley_cat", "smile_cat", "heart_eyes_cat", "kissing_cat", "smirk_cat", "scream_cat", "crying_cat_face", "joy_cat", "pouting_cat", "japanese_ogre", "japanese_goblin", "see_no_evil", "hear_no_evil", "speak_no_evil", "guardsman", "skull", "feet", "lips", "kiss", "droplet", "ear", "eyes", "nose", "tongue", "love_letter", "bust_in_silhouette", "busts_in_silhouette", "speech_balloon", "thought_balloon", "feelsgood", "finnadie", "goberserk", "godmode", "hurtrealbad", "rage1", "rage2", "rage3", "rage4", "suspect", "trollface"]
                        },
                            {
                                type: "Nature",
                                items: ["sunny", "umbrella", "cloud", "snowflake", "snowman", "zap", "cyclone", "foggy", "ocean", "cat", "dog", "mouse", "hamster", "rabbit", "wolf", "frog", "tiger", "koala", "bear", "pig", "pig_nose", "cow", "boar", "monkey_face", "monkey", "horse", "racehorse", "camel", "sheep", "elephant", "panda_face", "snake", "bird", "baby_chick", "hatched_chick", "hatching_chick", "chicken", "penguin", "turtle", "bug", "honeybee", "ant", "beetle", "snail", "octopus", "tropical_fish", "fish", "whale", "whale2", "dolphin", "cow2", "ram", "rat", "water_buffalo", "tiger2", "rabbit2", "dragon", "goat", "rooster", "dog2", "pig2", "mouse2", "ox", "dragon_face", "blowfish", "crocodile", "dromedary_camel", "leopard", "cat2", "poodle", "paw_prints", "bouquet", "cherry_blossom", "tulip", "four_leaf_clover", "rose", "sunflower", "hibiscus", "maple_leaf", "leaves", "fallen_leaf", "herb", "mushroom", "cactus", "palm_tree", "evergreen_tree", "deciduous_tree", "chestnut", "seedling", "blossom", "ear_of_rice", "shell", "globe_with_meridians", "sun_with_face", "full_moon_with_face", "new_moon_with_face", "new_moon", "waxing_crescent_moon", "first_quarter_moon", "waxing_gibbous_moon", "full_moon", "waning_gibbous_moon", "last_quarter_moon", "waning_crescent_moon", "last_quarter_moon_with_face", "first_quarter_moon_with_face", "moon", "earth_africa", "earth_americas", "earth_asia", "volcano", "milky_way", "partly_sunny", "octocat", "squirrel"]
                            },
                            {
                                type: "Objects",
                                items: ["bamboo", "gift_heart", "dolls", "school_satchel", "mortar_board", "flags", "fireworks", "sparkler", "wind_chime", "rice_scene", "jack_o_lantern", "ghost", "santa", "christmas_tree", "gift", "bell", "no_bell", "tanabata_tree", "tada", "confetti_ball", "balloon", "crystal_ball", "cd", "dvd", "floppy_disk", "camera", "video_camera", "movie_camera", "computer", "tv", "iphone", "phone", "telephone", "telephone_receiver", "pager", "fax", "minidisc", "vhs", "sound", "speaker", "mute", "loudspeaker", "mega", "hourglass", "hourglass_flowing_sand", "alarm_clock", "watch", "radio", "satellite", "loop", "mag", "mag_right", "unlock", "lock", "lock_with_ink_pen", "closed_lock_with_key", "key", "bulb", "flashlight", "high_brightness", "low_brightness", "electric_plug", "battery", "calling", "email", "mailbox", "postbox", "bath", "bathtub", "shower", "toilet", "wrench", "nut_and_bolt", "hammer", "seat", "moneybag", "yen", "dollar", "pound", "euro", "credit_card", "money_with_wings", "e-mail", "inbox_tray", "outbox_tray", "envelope", "incoming_envelope", "postal_horn", "mailbox_closed", "mailbox_with_mail", "mailbox_with_no_mail", "package", "door", "smoking", "bomb", "gun", "hocho", "pill", "syringe", "page_facing_up", "page_with_curl", "bookmark_tabs", "bar_chart", "chart_with_upwards_trend", "chart_with_downwards_trend", "scroll", "clipboard", "calendar", "date", "card_index", "file_folder", "open_file_folder", "scissors", "pushpin", "paperclip", "black_nib", "pencil2", "straight_ruler", "triangular_ruler", "closed_book", "green_book", "blue_book", "orange_book", "notebook", "notebook_with_decorative_cover", "ledger", "books", "bookmark", "name_badge", "microscope", "telescope", "newspaper", "football", "basketball", "soccer", "baseball", "tennis", "8ball", "rugby_football", "bowling", "golf", "mountain_bicyclist", "bicyclist", "horse_racing", "snowboarder", "swimmer", "surfer", "ski", "spades", "hearts", "clubs", "diamonds", "gem", "ring", "trophy", "musical_score", "musical_keyboard", "violin", "space_invader", "video_game", "black_joker", "flower_playing_cards", "game_die", "dart", "mahjong", "clapper", "memo", "pencil", "book", "art", "microphone", "headphones", "trumpet", "saxophone", "guitar", "shoe", "sandal", "high_heel", "lipstick", "boot", "shirt", "tshirt", "necktie", "womans_clothes", "dress", "running_shirt_with_sash", "jeans", "kimono", "bikini", "ribbon", "tophat", "crown", "womans_hat", "mans_shoe", "closed_umbrella", "briefcase", "handbag", "pouch", "purse", "eyeglasses", "fishing_pole_and_fish", "coffee", "tea", "sake", "baby_bottle", "beer", "beers", "cocktail", "tropical_drink", "wine_glass", "fork_and_knife", "pizza", "hamburger", "fries", "poultry_leg", "meat_on_bone", "spaghetti", "curry", "fried_shrimp", "bento", "sushi", "fish_cake", "rice_ball", "rice_cracker", "rice", "ramen", "stew", "oden", "dango", "egg", "bread", "doughnut", "custard", "icecream", "ice_cream", "shaved_ice", "birthday", "cake", "cookie", "chocolate_bar", "candy", "lollipop", "honey_pot", "apple", "green_apple", "tangerine", "lemon", "cherries", "grapes", "watermelon", "strawberry", "peach", "melon", "banana", "pear", "pineapple", "sweet_potato", "eggplant", "tomato", "corn"]
                            },
                            {
                                type: "Places",
                                items: ["house", "house_with_garden", "school", "office", "post_office", "hospital", "bank", "convenience_store", "love_hotel", "hotel", "wedding", "church", "department_store", "european_post_office", "city_sunrise", "city_sunset", "japanese_castle", "european_castle", "tent", "factory", "tokyo_tower", "japan", "mount_fuji", "sunrise_over_mountains", "sunrise", "stars", "statue_of_liberty", "bridge_at_night", "carousel_horse", "rainbow", "ferris_wheel", "fountain", "roller_coaster", "ship", "speedboat", "boat", "sailboat", "rowboat", "anchor", "rocket", "airplane", "helicopter", "steam_locomotive", "tram", "mountain_railway", "bike", "aerial_tramway", "suspension_railway", "mountain_cableway", "tractor", "blue_car", "oncoming_automobile", "car", "red_car", "taxi", "oncoming_taxi", "articulated_lorry", "bus", "oncoming_bus", "rotating_light", "police_car", "oncoming_police_car", "fire_engine", "ambulance", "minibus", "truck", "train", "station", "train2", "bullettrain_front", "bullettrain_side", "light_rail", "monorail", "railway_car", "trolleybus", "ticket", "fuelpump", "vertical_traffic_light", "traffic_light", "warning", "construction", "beginner", "atm", "slot_machine", "busstop", "barber", "hotsprings", "checkered_flag", "crossed_flags", "izakaya_lantern", "moyai", "circus_tent", "performing_arts", "round_pushpin", "triangular_flag_on_post", "jp", "kr", "cn", "us", "fr", "es", "it", "ru", "gb", "uk", "de"]
                            },
                            {
                                type: "Symbols",
                                items: ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "keycap_ten", "1234", "zero", "hash", "symbols", "arrow_backward", "arrow_down", "arrow_forward", "arrow_left", "capital_abcd", "abcd", "abc", "arrow_lower_left", "arrow_lower_right", "arrow_right", "arrow_up", "arrow_upper_left", "arrow_upper_right", "arrow_double_down", "arrow_double_up", "arrow_down_small", "arrow_heading_down", "arrow_heading_up", "leftwards_arrow_with_hook", "arrow_right_hook", "left_right_arrow", "arrow_up_down", "arrow_up_small", "arrows_clockwise", "arrows_counterclockwise", "rewind", "fast_forward", "information_source", "ok", "twisted_rightwards_arrows", "repeat", "repeat_one", "new", "top", "up", "cool", "free", "ng", "cinema", "koko", "signal_strength", "u5272", "u5408", "u55b6", "u6307", "u6708", "u6709", "u6e80", "u7121", "u7533", "u7a7a", "u7981", "sa", "restroom", "mens", "womens", "baby_symbol", "no_smoking", "parking", "wheelchair", "metro", "baggage_claim", "accept", "wc", "potable_water", "put_litter_in_its_place", "secret", "congratulations", "m", "passport_control", "left_luggage", "customs", "ideograph_advantage", "cl", "sos", "id", "no_entry_sign", "underage", "no_mobile_phones", "do_not_litter", "non-potable_water", "no_bicycles", "no_pedestrians", "children_crossing", "no_entry", "eight_spoked_asterisk", "sparkle", "eight_pointed_black_star", "heart_decoration", "vs", "vibration_mode", "mobile_phone_off", "chart", "currency_exchange", "aries", "taurus", "gemini", "cancer", "leo", "virgo", "libra", "scorpius", "sagittarius", "capricorn", "aquarius", "pisces", "ophiuchus", "six_pointed_star", "negative_squared_cross_mark", "a", "b", "ab", "o2", "diamond_shape_with_a_dot_inside", "recycle", "end", "back", "on", "soon", "clock1", "clock130", "clock10", "clock1030", "clock11", "clock1130", "clock12", "clock1230", "clock2", "clock230", "clock3", "clock330", "clock4", "clock430", "clock5", "clock530", "clock6", "clock630", "clock7", "clock730", "clock8", "clock830", "clock9", "clock930", "heavy_dollar_sign", "copyright", "registered", "tm", "x", "heavy_exclamation_mark", "bangbang", "interrobang", "o", "heavy_multiplication_x", "heavy_plus_sign", "heavy_minus_sign", "heavy_division_sign", "white_flower", "100", "heavy_check_mark", "ballot_box_with_check", "radio_button", "link", "curly_loop", "wavy_dash", "part_alternation_mark", "trident", "black_small_square", "white_small_square", "black_medium_small_square", "white_medium_small_square", "black_medium_square", "white_medium_square", "black_large_square", "white_large_square", "white_check_mark", "black_square_button", "white_square_button", "black_circle", "white_circle", "red_circle", "large_blue_circle", "large_blue_diamond", "large_orange_diamond", "small_blue_diamond", "small_orange_diamond", "small_red_triangle", "small_red_triangle_down", "shipit"]
                            }],
                        uploadAttachmentId: 0,
                        uploadFileCount: 0,
                        uploadFileMax: 9,
                        uploadDropzone: null,
                        uploadDropzoneProgress: !1,
                        pictureLocalError: "",
                        pictureNetwork: !1,
                        pictureNetworkUrl: "",
                        pictureNetworkImgUrl: "",
                        pictureNetworkError: "",
                        pictureNetworkUploading: !1,
                        codeEditable: !0,
                        codeLanguage: "",
                        codeSnippet: ""
                    }
                },
                computed: {
                    uploadFileAvaluableCount: function() {
                        return this.uploadFileMax - this.uploadFileCount
                    },
                    curEmojiItems: function() {
                        for (var e = 0,
                                 t = this.emojiList.length; e < t; e++) if (this.emojiList[e].type === this.curEmojiType) return this.emojiList[e].items;
                        return this.emojiList[0].items
                    },
                    tweetContentIsEmpty: function() {
                        return 0 === this.tweetContent.length
                    },
                    tweetCountText: function() {
                        return this.tweetContent.length + "/" + this.tweetMaxLength
                    }
                },
                mounted: function() {
                    var t = this;
                    t.__$data = ObjHelper.copy(t.$data),
                        t.initDropzone(),
                        document.addEventListener("click",
                            function(e) {
                                0 !== $(".tweet-form .toolbox-popup.toolbox-picture").find(e.target).length || 0 !== $('a[data-popup="toolbox-picture"]').find(e.target).length || $(e.target).hasClass("dz-hidden-input") || $(e.target).is(".tweet-form .toolbox-popup.toolbox-picture") || $(e.target).is('a[data-popup="toolbox-picture"]') || 0 === t.uploadFileCount && "" === t.pictureNetworkImgUrl && $(t.$refs.showPictureToolBox).popup("hide")
                            }),
                        t.initPasteUploadPicture()
                },
                methods: {
                    insertEmoji: function(e) {
                        this.clearMessage();
                        var t = ":" + e + ":";
                        this.insertContent(t),
                            $(this.$refs.showEmojiBox).popup("hide")
                    },
                    initDropzone: function() {
                        var r = this;
                        r.uploadDropzone = new Dropzone("#dropzone", {
                            parallelUploads: 1,
                            maxFilesize: 1,
                            paramName: "resource",
                            addRemoveLinks: !0,
                            acceptedFiles: "image/png,image/jpeg,image/gif",
                            maxFiles: r.uploadFileMax,
                            url: "/tweet/upload_multi_image",
                            accept: function(e, t) {
                                r.pictureLocalError = "",
                                    r.uploadDropzoneProgress = !0,
                                    t()
                            }
                        }),
                            r.uploadDropzone.on("queuecomplete",
                                function() {
                                    r.uploadDropzoneProgress = !1
                                }),
                            r.uploadDropzone.on("removedfile",
                                function(e) {
                                    r.pictureLocalError = "",
                                    r.uploadAttachmentId && e.attachmentId && $.post(page.api_prefix + "/tweet/delete_tweet_image", {
                                            id: e.attachmentId,
                                            lastId: r.uploadAttachmentId,
                                            user_code: page.g_user_code || ""
                                        },
                                        function(e) {
                                            1 === e.code ? r.uploadFileCount = r.uploadDropzone.getAcceptedFiles().length: r.pictureLocalError = e.message
                                        })
                                }),
                            r.uploadDropzone.on("addedfile",
                                function(t) {
                                    r.pictureLocalError = "",
                                        r.uploadDropzone.getAcceptedFiles().forEach(function(e) {
                                            e.name === t.name && e.size === t.size && e.lastModified === t.lastModified && (r.uploadDropzone.removeFile(t), r.pictureLocalError = "图片( " + t.name + " )已存在，请勿重复上传!")
                                        })
                                }),
                            r.uploadDropzone.on("sending",
                                function(e, t, o) {
                                    o.append("photoId", r.uploadAttachmentId)
                                }),
                            r.uploadDropzone.on("success",
                                function(e, t) {
                                    var o, a;
                                    r.pictureLocalError = "",
                                        1 === t.code ? (a = (o = t.result).id > r.uploadAttachmentId ? o.id: r.uploadAttachmentId, e.attachmentId = a, r.uploadAttachmentId = a, r.uploadFileCount = r.uploadDropzone.getAcceptedFiles().length) : r.pictureLocalError = t.message
                                })
                    },
                    insertNetworkPicture: function() {
                        var o = this;
                        if (o.pictureNetworkError = "", !$(".upload-picture-network.form").form("validate form")) return ! 1;
                        o.pictureNetworkUploading = !0,
                            $.post("/tweet/insert_img", {
                                    source: 2,
                                    url: o.pictureNetworkUrl
                                },
                                function(e) {
                                    if (1 === e.code) {
                                        var t = e.result;
                                        o.pictureNetworkImgUrl = t.view,
                                            o.uploadAttachmentId = t.id > o.uploadAttachmentId ? t.id: o.uploadAttachmentId
                                    } else o.pictureNetworkError = e.message || "上传图片失败"
                                }).fail(function() {
                                o.pictureNetworkError = "网络错误，请稍后再试！"
                            }).always(function() {
                                o.pictureNetworkUploading = !1
                            })
                    },
                    initPasteUploadPicture: function() {
                        this.$el && this.$el.addEventListener("paste", this._pasteUpload.bind(this))
                    },
                    _pasteUpload: function(e) {
                        var t, o, a, r, i, n = this,
                            s = e.clipboardData;
                        if (s) {
                            if (! (t = s.items)) return;
                            for (a = s.types || [], r = 0; r < a.length; r++) if ("Files" === a[r]) {
                                o = t[r];
                                break
                            }
                            if (o && "file" === o.kind && o.type.match(/^image\//i)) {
                                if (! (i = o.getAsFile())) return ! 1;
                                if (n.uploadFileCount >= n.uploadFileMax) return ! 1;
                                n.uploadDropzone.addFile(i),
                                    $(n.$refs.showPictureToolBox).popup("show")
                            }
                        }
                    },
                    insertTopic: function() {
                        var e, t, o;
                        this.clearMessage(),
                            e = "#此处输入话题#",
                        this.insertContent(e) && (o = (t = selectRange.of(this.$refs.tweetTextarea)).getCurPos(), t.setSelectText(o - (e.length - 1), o - 1))
                    },
                    saveCodeSnippet: function() {
                        if (!$(".code-editor.form").form("validate form")) return ! 1;
                        this.codeEditable = !1,
                            $(".code-editor pre code").each(function(e, t) {
                                hljs.highlightBlock(t)
                            })
                    },
                    deleteCodeSnippet: function() {
                        this.codeEditable = !0,
                            this.codeSnippet = ""
                    },
                    reset: function() {
                        var e = this;
                        ObjHelper.set(e.$data, e.__$data),
                            e.uploadDropzone.removeAllFiles(),
                            $(e.$refs.showPictureToolBox).popup("hide"),
                            $(e.$refs.codeLanguageDropdown).dropdown("clear")
                    },
                    publishTweet: function() {
                        var r, e;
                        if (r = this, !window.common.checkLogin()) return ! 1;
                        r.tweetPublishLoading || (r.clearMessage(), r.tweetContentIsEmpty ? r.showMessage("error", "内容不能为空", 2e3) : r.tweetContent.length > r.tweetMaxLength ? r.showMessage("error", "最多只能输入" + r.tweetMaxLength + "个字符！", 2e3) : (r.tweetPublishLoading = !0, e = {
                            userId: page.g_user_id || "",
                            user_code: page.g_user_code || "",
                            content: r.tweetContent,
                            code_snippet: r.codeSnippet,
                            code_brush: r.codeLanguage,
                            attachment: r.uploadAttachmentId
                        },
                            $.post("/tweet/pubForwardTweet", e,
                                function(e) {
                                    var o, a;
                                    1 === e.code ? (r.showMessage("success", "动弹发布成功！", 2e3), r.tweetPublishLoading = !1, r.reset(), e.result && void 0 !== e.result.log && 0 < (o = $(".tweets-list-container[data-tweets-list]")).length && (a = e.result.log, $.get("/tweets/widgets/_tweet_list_item_ajax?tweetId=" + a,
                                        function(e) {
                                            if (e) {
                                                if (0 === $(e).filter('.tweet-item[data-tweet-id="' + a + '"]').length) return void r.showMessage("error", "网络错误，请稍后再试！");
                                                var t = o.find(".empty-tips");
                                                0 < t.length && t.remove(),
                                                    o.prepend(e),
                                                    $(function() {
                                                        $("[data-emoji-render]").emoticon()
                                                    }),
                                                OSCMultipleImageViewer && OSCMultipleImageViewer.initSmallImages()
                                            }
                                        }))) : r.showMessage("error", e.message || "发布失败")
                                }).fail(function() {
                                r.showMessage("error", "网络错误，请稍后再试！")
                            }).always(function() {
                                r.tweetPublishLoading = !1
                            })))
                    },
                    tweetContentOnKeyDown: function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && this.publishTweet()
                    },
                    addTopic: function(e) {
                        var t = e.target.innerText + " ";
                        this.insertContent(t)
                    },
                    showPictureToolBox: function(e) {
                        $(this.$refs.showPictureToolBox).popup("is visible") ? $(this.$refs.showPictureToolBox).popup("hide") : $(this.$refs.showPictureToolBox).popup("show")
                    },
                    insertContent: function(e) {
                        return ! this.tweetPublishLoading && (this.tweetContent.length >= this.tweetMaxLength || this.tweetContent.length + e.length > this.tweetMaxLength ? (this.showMessage("error", "最多只能输入" + this.tweetMaxLength + "个字符！", 2e3), !1) : (selectRange.of(this.$refs.tweetTextarea).insertAfterText(e), this.tweetContent = this.$refs.tweetTextarea.value, !0))
                    },
                    showMessage: function(e, t, o) {
                        var a, r = this;
                        r.tipMessage.className = "success" === e ? "positive": "negative",
                            r.tipMessage.content = t,
                            a = parseInt(o) || 0,
                            r.tipMessage.show = !0,
                        0 < a && setTimeout(function() {
                                r.clearMessage()
                            },
                            a)
                    },
                    clearMessage: function() {
                        this.tipMessage.className = "",
                            this.tipMessage.content = "",
                            this.tipMessage.show = !1
                    }
                }
            });
            $("#tweetForm.tweet-form .toolbox > .item[data-popup]").each(function(e, t) {
                var o = $(t),
                    a = $(o).parent(),
                    r = a.find(".toolbox-popup." + o.attr("data-popup"));
                o.popup({
                    position: "bottom left",
                    popup: r,
                    on: "toolbox-picture" === o.attr("data-popup") ? "manual": "click",
                    exclusive: !0,
                    onShow: function() {
                        if (!window.common.checkLogin()) return ! 1
                    }
                })
            }),
                $(".tweet-form .toolbox .toolbox-code .dropdown").dropdown(),
                $(".upload-picture-network.form").form({
                    inline: !0,
                    fields: {
                        pictureNetworkUrl: {
                            identifier: "pictureNetworkUrl",
                            rules: [{
                                type: "empty",
                                prompt: "请输入图片网址"
                            },
                                {
                                    type: "regExp",
                                    value: /(https?:\/\/[^\s\.]+\.[^\s]{2,}\/[^\s]+\.(jpeg|gif|jpg|png|bmp|svg|webp)$)/i,
                                    prompt: "请输入正确的图片网址"
                                }]
                        }
                    }
                }),
                $(".code-editor.form").form({
                    inline: !0,
                    fields: {
                        codeLanguage: {
                            identifier: "codeLanguage",
                            rules: [{
                                type: "empty",
                                prompt: "请选择编程语言"
                            }]
                        },
                        codeSnippet: {
                            identifier: "codeSnippet",
                            rules: [{
                                type: "empty",
                                prompt: "请输入代码"
                            }]
                        }
                    }
                }),
                t = function(e) {
                    if (Array.isArray(e) && 0 < e.length) {
                        var t = $("#tweetForm .tweet-textarea");
                        t.atwho({
                            at: "@",
                            data: e,
                            headerTpl: '<div class="atwho-header">我的关注 <small>↑&nbsp;↓&nbsp;</small></div>',
                            searchKey: "searchKey",
                            insertTpl: "${atwho-at}${name}",
                            displayTpl: "<li>${name}</li>",
                            limit: 10
                        }),
                            t.on("inserted.atwho",
                                function(e, t, o) {
                                    a.tweetContent = a.$refs.tweetTextarea.value
                                }),
                            window.__PUBLISH_FORM_ATWHO_INIT = !0
                    }
                },
                e = function(o) {
                    $.post("/tweet/atwho",
                        function(e) {
                            var t = e;
                            Array.isArray(t) && 0 < t.length && (window.__USER_FRIENDS = t, o(t))
                        })
                },
            page.g_user && 768 <= window.innerWidth && !window.__PUBLISH_FORM_ATWHO_INIT && (window.__USER_FRIENDS ? t(window.__USER_FRIENDS) : e(function(e) {
                t(e)
            }))
        }
    });
OSCDefine("web-tweet-index", ["tweet-publish-form"],
    function() {
        var t = function() {
            this.tweetList = $(".tweet-list")
        };
        return t.prototype = {
            constructor: t,
            initTweetInfiniteScroll: function() {
                var t = this,
                    e = {
                        tweetList: new OSCInfiniteScroll({
                            pagePath: function() {
                                return $(".pagination__next").attr("href")
                            },
                            checkLastPage: ".pagination__next",
                            containerSelector: "#tweetList",
                            itemListSelector: ".tweets-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 10,
                            itemSelector: ".tweet-item",
                            loadOnScroll: !0,
                            onLoad: function(t, e) {
                                var i, n = t.querySelector(".pagination__next");
                                n && (i = n.getAttribute("href"), $(".pagination__next").attr("href", i))
                            },
                            onAppend: function() {
                                t.parseEmoticon(),
                                OSCMultipleImageViewer && OSCMultipleImageViewer.initSmallImages()
                            }
                        })
                    };
                e.tweetList.init(),
                    AOS.init({
                        duration: 300,
                        once: !0
                    })
            },
            initDeleteTweet: function() {
                var n = this;
                $(".delete-tweet.modal").modal({
                    onApprove: function() {
                        var i = $(this).attr("data-tweet-id") || 0;
                        $.post(page.api_prefix + "/tweet/deleteTweet", {
                                id: i,
                                user_code: page.g_user_code || ""
                            },
                            function(t) {
                                if (1 === t.code) {
                                    $("body").toast({
                                        type: "success",
                                        content: "删除成功"
                                    });
                                    var e = n.tweetList.find('.tweet-item[data-tweet-id="' + i + '"]');
                                    e.fadeOut(function() {
                                        e.remove()
                                    })
                                } else $("body").toast({
                                    type: "error",
                                    content: t.message || "删除失败"
                                })
                            })
                    }
                }),
                    n.tweetList.on("click", ".tweet-item .meta a.remove",
                        function(t) {
                            var e = $(this),
                                i = e.parents(".tweet-item:eq(0)"),
                                n = i.attr("data-tweet-id"),
                                o = $(".delete-tweet.modal");
                            o.attr("data-tweet-id", n),
                                o.modal("show")
                        })
            },
            parseEmoticon: function() {
                $(function() {
                    $("[data-emoji-render]").emoticon()
                })
            },
            initMobileClick: function() {
                this.tweetList.on("click", ".tweet-item",
                    function(t) {
                        var e, i = $(t.target),
                            n = 0 < i.parents(".meta").length,
                            o = "a" === t.target.nodeName.toLowerCase() || 0 < i.parents("a").length;
                        n || o || (e = $(this), window.open(e.find(".meta a.view").attr("href"), "_blank"), t.stopPropagation())
                    })
            },
            register: function() {
                this.initTweetInfiniteScroll(),
                    this.initDeleteTweet(),
                    this.parseEmoticon(),
                window.innerWidth < 768 && this.initMobileClick()
            }
        },
            t
    });
OSCDefine("web-tweet-topic", ["tweet-publish-form"],
    function() {
        var t = function() {
            this.tweetList = $(".tweet-list")
        };
        return t.prototype = {
            constructor: t,
            initTweetInfiniteScroll: function() {
                var t = this,
                    e = {
                        tweetList: new OSCInfiniteScroll({
                            pagePath: function() {
                                return $(".pagination__next").attr("href")
                            },
                            checkLastPage: ".pagination__next",
                            containerSelector: "#tweetList",
                            itemListSelector: ".tweets-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 10,
                            itemSelector: ".tweet-item",
                            loadOnScroll: !0,
                            onLoad: function(t, e) {
                                var i, n = t.querySelector(".pagination__next");
                                n && (i = n.getAttribute("href"), $(".pagination__next").attr("href", i))
                            },
                            onAppend: function() {
                                t.parseEmoticon(),
                                OSCMultipleImageViewer && OSCMultipleImageViewer.initSmallImages()
                            }
                        })
                    };
                e.tweetList.init(),
                    AOS.init({
                        duration: 300,
                        once: !0
                    })
            },
            initDeleteTweet: function() {
                var n = this;
                $(".delete-tweet.modal").modal({
                    onApprove: function() {
                        var i = $(this).attr("data-tweet-id") || 0;
                        $.post(page.space_user_url + "/tweet/deleteTweet", {
                                id: i,
                                user_code: page.g_user_code || ""
                            },
                            function(t) {
                                if (1 === t.code) {
                                    var e = n.tweetList.find('.tweet-item[data-tweet-id="' + i + '"]');
                                    e.attr("data-aos", "zoom-out"),
                                        setTimeout(function() {
                                                e.remove()
                                            },
                                            500)
                                } else $("body").toast({
                                    type: "error",
                                    content: t.message || "删除失败"
                                })
                            })
                    }
                }),
                    n.tweetList.on("click", ".tweet-item .meta a.remove",
                        function(t) {
                            var e = $(this),
                                i = e.parents(".tweet-item:eq(0)"),
                                n = i.attr("data-tweet-id"),
                                o = $(".delete-tweet.modal");
                            o.attr("data-tweet-id", n),
                                o.modal("show")
                        })
            },
            parseEmoticon: function() {
                $(function() {
                    $("[data-emoji-render]").emoticon()
                })
            },
            initMobileClick: function() {
                this.tweetList.on("click", ".tweet-item",
                    function(t) {
                        var e, i = $(t.target),
                            n = 0 < i.parents(".meta").length,
                            o = "a" === t.target.nodeName.toLowerCase() || 0 < i.parents("a").length;
                        n || o || (e = $(this), window.open(e.find(".meta a.view").attr("href"), "_blank"), t.stopPropagation())
                    })
            },
            register: function() {
                this.initTweetInfiniteScroll(),
                    this.initDeleteTweet(),
                    this.parseEmoticon(),
                window.innerWidth < 768 && this.initMobileClick()
            }
        },
            t
    });
OSCDefine("web-blog-index",
    function() {
        var t = function() {
            this._blogListWrap = $(".blog-list-wrap")
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t, e, o = this,
                    i = {
                        recommendArticleList: 1,
                        dailyArticleList: 1,
                        newestArticleList: 1
                    },
                    n = {
                        recommendArticleList: new OSCInfiniteScroll({
                            pagePath: ".recommend-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#recommendArticleList",
                            itemListSelector: ".blog-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.blog-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                o.optimizeImgShow()
                            }
                        }),
                        dailyArticleList: new OSCInfiniteScroll({
                            pagePath: ".daily-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#dailyArticleList",
                            itemListSelector: ".blog-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.blog-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                o.optimizeImgShow()
                            }
                        }),
                        newestArticleList: new OSCInfiniteScroll({
                            pagePath: ".newest-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#newestArticleList",
                            itemListSelector: ".blog-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.blog-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                o.optimizeImgShow()
                            }
                        })
                    },
                    a = "recommendArticleList",
                    l = $(".article-list.active.tab");
                0 < l.length && (t = l.attr("data-tab") || "") && n[t] && (a = t),
                    n[a].init(),
                    e = a,
                    $(".blog-tab.menu .item").tab({
                        onLoad: function(t) {
                            e !== t && (n[e]._infScroll && (i[e] = n[e]._infScroll.pageIndex), n[e].destroy(), n[t].init(), n[t]._infScroll && (n[t]._infScroll.pageIndex = i[t]), e = t)
                        }
                    })
            },
            bindDeleteBlog: function() {
                this._blogListWrap.on("click", ".blog-item .delete-btn",
                    function() {
                        var e = $(this).parents(".blog-item:eq(0)"),
                            t = e.attr("data-id"),
                            o = $(".delete-blog.modal");
                        o.modal({
                            onApprove: function() {
                                $.post(page.api_prefix + "/blog/delete", {
                                        id: t,
                                        user_code: page.g_user_code || ""
                                    },
                                    function(t) {
                                        1 === t.code ? ($("body").toast({
                                            type: "success",
                                            content: "删除成功"
                                        }), e.fadeOut(function() {
                                            e.remove()
                                        })) : $("body").toast({
                                            type: "error",
                                            content: t.message || "删除失败"
                                        })
                                    }).fail(function() {
                                    $("body").toast({
                                        type: "error",
                                        content: "网络错误，请稍后再试"
                                    })
                                })
                            }
                        }).modal("show")
                    })
            },
            initMobileClick: function() {
                this._blogListWrap.on("click", ".blog-item",
                    function(t) {
                        var e, o = $(t.target),
                            i = "a" === t.target.nodeName.toLowerCase() || 0 < o.parents("a").length;
                        i || (e = $(this), window.open(e.find("a.header").attr("href"), "_blank"), t.stopPropagation())
                    })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.optimizeImgShow(),
                window.innerWidth < 768 && this.initMobileClick()
            }
        },
            t
    });
OSCDefine("web-blog-recommend",
    function() {
        var t = function() {
            this._blogListWrap = $(".blog-list-wrap")
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t = this,
                    e = {
                        recommendArticleList: new OSCInfiniteScroll({
                            pagePath: ".recommend-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#recommendArticleList",
                            itemListSelector: ".blog-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.blog-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                t.optimizeImgShow()
                            }
                        })
                    };
                e.recommendArticleList.init()
            },
            bindDeleteBlog: function() {
                this._blogListWrap.on("click", ".blog-item .delete-btn",
                    function() {
                        var e = $(this).parents(".blog-item:eq(0)"),
                            t = e.attr("data-id"),
                            o = $(".delete-blog.modal");
                        o.modal({
                            onApprove: function() {
                                $.post(page.api_prefix + "/blog/delete", {
                                        id: t,
                                        user_code: page.g_user_code || ""
                                    },
                                    function(t) {
                                        1 === t.code ? ($("body").toast({
                                            type: "success",
                                            content: "删除成功"
                                        }), e.fadeOut(function() {
                                            e.remove()
                                        })) : $("body").toast({
                                            type: "error",
                                            content: t.message || "删除失败"
                                        })
                                    }).fail(function() {
                                    $("body").toast({
                                        type: "error",
                                        content: "网络错误，请稍后再试"
                                    })
                                })
                            }
                        }).modal("show")
                    })
            },
            initMobileClick: function() {
                this._blogListWrap.on("click", ".blog-item",
                    function(t) {
                        var e, o = $(t.target),
                            i = "a" === t.target.nodeName.toLowerCase() || 0 < o.parents("a").length;
                        i || (e = $(this), window.open(e.find("a.header").attr("href"), "_blank"), t.stopPropagation())
                    })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.optimizeImgShow(),
                window.innerWidth < 768 && this.initMobileClick()
            }
        },
            t
    });
OSCDefine("web-blog-daily",
    function() {
        var t = function() {
            this._blogListWrap = $(".blog-list-wrap")
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t = this,
                    e = {
                        dailyArticleList: new OSCInfiniteScroll({
                            pagePath: ".daily-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#dailyArticleList",
                            itemListSelector: ".blog-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 3,
                            itemSelector: ".item.blog-item",
                            loadOnScroll: !0,
                            onAppend: function() {
                                t.optimizeImgShow()
                            }
                        })
                    };
                e.dailyArticleList.init()
            },
            bindDeleteBlog: function() {
                this._blogListWrap.on("click", ".blog-item .delete-btn",
                    function() {
                        var e = $(this).parents(".blog-item:eq(0)"),
                            t = e.attr("data-id"),
                            i = $(".delete-blog.modal");
                        i.modal({
                            onApprove: function() {
                                $.post(page.api_prefix + "/blog/delete", {
                                        id: t,
                                        user_code: page.g_user_code || ""
                                    },
                                    function(t) {
                                        1 === t.code ? ($("body").toast({
                                            type: "success",
                                            content: "删除成功"
                                        }), e.fadeOut(function() {
                                            e.remove()
                                        })) : $("body").toast({
                                            type: "error",
                                            content: t.message || "删除失败"
                                        })
                                    }).fail(function() {
                                    $("body").toast({
                                        type: "error",
                                        content: "网络错误，请稍后再试"
                                    })
                                })
                            }
                        }).modal("show")
                    })
            },
            initMobileClick: function() {
                this._blogListWrap.on("click", ".blog-item",
                    function(t) {
                        var e, i = $(t.target),
                            o = "a" === t.target.nodeName.toLowerCase() || 0 < i.parents("a").length;
                        o || (e = $(this), window.open(e.find("a.header").attr("href"), "_blank"), t.stopPropagation())
                    })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.optimizeImgShow(),
                window.innerWidth < 768 && this.initMobileClick()
            }
        },
            t
    });
OSCDefine("web-translate-index",
    function() {
        var t = function() {
            this._translateEl = $(".web-translate"),
                this._translateListContainer = $(".translate-list-container"),
                this._currentInfiniteScroll = "";
            var t = this;
            this._articleInfiniteScroll = {
                completed: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#completedList",
                    itemListSelector: ".translate-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.translate-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow()
                    }
                }),
                pending: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#pendingList",
                    itemListSelector: ".translate-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.translate-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow()
                    }
                }),
                none: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#noneList",
                    itemListSelector: ".translate-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.translate-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t, e = this;
                e._articleInfiniteScroll[e._currentInfiniteScroll] && e._articleInfiniteScroll[e._currentInfiniteScroll].destroy(),
                    t = e._translateEl.find("input[name=currentTab]").val(),
                e._articleInfiniteScroll[t] && (e._articleInfiniteScroll[t].init(), e._currentInfiniteScroll = t)
            },
            initPJAX: function() {
                var e = this,
                    n = $(".translate-list-container-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".translate-tab a.item, .translate-tab .sort-type a", ".translate-list-container", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            n.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(t) {
                            $(t.relatedTarget);
                            n.removeClass("active"),
                                e.initArticleInfiniteScroll(),
                                e.optimizeImgShow()
                        })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            initDeliverArticleModal: function() {
                var i = $(".deliver-article.modal"),
                    t = i.find("#deliverArticleForm");
                t.form({
                    inline: !0,
                    keyboardShortcuts: !1,
                    fields: {
                        title_en: {
                            rules: [{
                                type: "empty",
                                prompt: "请输入英文标题"
                            }]
                        },
                        title_cn: {
                            rules: [{
                                type: "empty",
                                prompt: "请输入中文标题"
                            }]
                        },
                        link_en: {
                            rules: [{
                                type: "empty",
                                prompt: "请输入文章原文链接"
                            },
                                {
                                    type: "url",
                                    prompt: "请输入正确的原文链接"
                                }]
                        },
                        category: {
                            rules: [{
                                type: "empty",
                                prompt: "请选择分类"
                            }]
                        }
                    }
                }).api({
                    url: page.api_prefix + "/translate/deliver_article",
                    method: "post",
                    serializeForm: !0,
                    beforeSend: function(t) {
                        $(this).message("hideAll");
                        var e = t.data;
                        return t.data = {
                            title_en: e.title_en,
                            title_cn: e.title_cn,
                            link_en: e.link_en,
                            category: e.category
                        },
                            t
                    },
                    onSuccess: function(t, e, n) {
                        1 === t.code ? ($("body").toast({
                            type: "success",
                            content: "投递成功"
                        }), i.modal("hide"), $(this).form("reset")) : $("body").toast({
                            type: "error",
                            content: t.message || "投递失败"
                        })
                    },
                    onFailure: function(t, e) {
                        $("body").toast({
                            type: "error",
                            content: "网络异常，请稍后再试"
                        })
                    }
                }),
                    t.find(".category.dropdown").dropdown(),
                    i.modal({
                        onApprove: function() {
                            return t.message("hideAll"),
                                t.form("submit"),
                                !1
                        }
                    }),
                    this._translateEl.on("click", ".deliver-article-btn",
                        function() {
                            if (!window.common.checkLogin()) return ! 1;
                            i.modal("show")
                        })
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.initPJAX(),
                    this.optimizeImgShow(),
                    this.initDeliverArticleModal()
            }
        },
            t
    });
OSCDefine("web-translate-tags",
    function() {
        var t = function() {
            this._tagsWrap = $("#tagsContainer .tags-wrapper")
        };
        return t.prototype = {
            constructor: t,
            initListPJAX: function() {
                var t, a;
                t = this,
                    a = $(".tags-loader"),
                    $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".pagination a", "#tagsContainer .tags-wrapper", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            a.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function() {
                            a.removeClass("active"),
                                $("html, body").stop().animate({
                                        scrollTop: t._tagsWrap.offset().top - 80
                                    },
                                    500, "swing")
                        })
            },
            register: function() {
                this.initListPJAX()
            }
        },
            t
    });
OSCDefine("web-translate-tag",
    function() {
        var t = function() {
            this._translateEl = $(".translate-tag-detail"),
                this._translateListContainer = $(".translate-list-container"),
                this._currentInfiniteScroll = "";
            var t = this;
            this._articleInfiniteScroll = {
                completed: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#completedList",
                    itemListSelector: ".translate-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.translate-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow()
                    }
                }),
                pending: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#pendingList",
                    itemListSelector: ".translate-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.translate-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow()
                    }
                }),
                none: new OSCInfiniteScroll({
                    pagePath: ".pagination__next",
                    checkLastPage: !0,
                    containerSelector: "#noneList",
                    itemListSelector: ".translate-list-container",
                    loadMoreBtnSelector: ".load-more-button",
                    statusSelector: ".page-load-status",
                    defaultAutoLoadPageCount: 3,
                    itemSelector: ".item.translate-item",
                    loadOnScroll: !0,
                    onAppend: function() {
                        t.optimizeImgShow()
                    }
                })
            }
        };
        return t.prototype = {
            constructor: t,
            initArticleInfiniteScroll: function() {
                var t, e = this;
                e._articleInfiniteScroll[e._currentInfiniteScroll] && e._articleInfiniteScroll[e._currentInfiniteScroll].destroy(),
                    t = e._translateEl.find("input[name=currentTab]").val(),
                e._articleInfiniteScroll[t] && (e._articleInfiniteScroll[t].init(), e._currentInfiniteScroll = t)
            },
            initPJAX: function() {
                var e = this,
                    n = $(".translate-list-container-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".translate-tab a.item, .translate-tab .sort-type a", ".translate-list-container", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            n.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(t) {
                            $(t.relatedTarget);
                            n.removeClass("active"),
                                e.initArticleInfiniteScroll(),
                                e.optimizeImgShow()
                        })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.initPJAX(),
                    this.optimizeImgShow()
            }
        },
            t
    });
OSCPlugin("translate-detail-comments",
    function() {
        return function() {
            var t = {
                    config: {
                        objId: 0,
                        fetchCommentsUrl: "",
                        publishCommentUrl: "",
                        replyCommentUrl: "",
                        deleteCommentUrl: ""
                    },
                    init: function(e) {
                        this._commentsContainer = $("#commentsContainer"),
                            this._commentsWrap = this._commentsContainer.find(".comments-wrap"),
                            this.config = $.isPlainObject(e) ? $.extend(!0, {},
                                this.config, e) : $.extend({},
                                this.config)
                    },
                    loadComments: function() {
                        var t = this;
                        $.get(t.config.fetchCommentsUrl,
                            function(e) {
                                t._commentsWrap.html(e),
                                    t.parseEmoticon()
                            })
                    },
                    initCommentForm: function() {
                        var a = this;
                        a.commentFormVue = new Vue({
                            el: "#commentForm",
                            data: function() {
                                return {
                                    commentMaxLength: 1e3,
                                    commentContent: "",
                                    commentPublishLoading: !1,
                                    tipMessage: {
                                        show: !1,
                                        content: "",
                                        className: ""
                                    },
                                    curEmojiType: "People",
                                    emojiList: [{
                                        type: "People",
                                        items: ["bowtie", "smile", "laughing", "blush", "smiley", "relaxed", "smirk", "heart_eyes", "kissing_heart", "kissing_closed_eyes", "flushed", "relieved", "satisfied", "grin", "wink", "stuck_out_tongue_winking_eye", "stuck_out_tongue_closed_eyes", "grinning", "kissing", "kissing_smiling_eyes", "stuck_out_tongue", "sleeping", "worried", "frowning", "anguished", "open_mouth", "grimacing", "confused", "hushed", "expressionless", "unamused", "sweat_smile", "sweat", "disappointed_relieved", "weary", "pensive", "disappointed", "confounded", "fearful", "cold_sweat", "persevere", "cry", "sob", "joy", "astonished", "scream", "neckbeard", "tired_face", "angry", "rage", "triumph", "sleepy", "yum", "mask", "sunglasses", "dizzy_face", "imp", "smiling_imp", "neutral_face", "no_mouth", "innocent", "alien", "yellow_heart", "blue_heart", "purple_heart", "heart", "green_heart", "broken_heart", "heartbeat", "heartpulse", "two_hearts", "revolving_hearts", "cupid", "sparkling_heart", "sparkles", "star", "star2", "dizzy", "boom", "collision", "anger", "exclamation", "question", "grey_exclamation", "grey_question", "zzz", "dash", "sweat_drops", "notes", "musical_note", "fire", "hankey", "poop", "shit", "+1", "thumbsup", "-1", "thumbsdown", "ok_hand", "punch", "facepunch", "fist", "v", "wave", "hand", "raised_hand", "open_hands", "point_up", "point_down", "point_left", "point_right", "raised_hands", "pray", "point_up_2", "clap", "muscle", "metal", "fu", "walking", "runner", "running", "couple", "family", "two_men_holding_hands", "two_women_holding_hands", "dancer", "dancers", "ok_woman", "no_good", "information_desk_person", "raising_hand", "bride_with_veil", "person_with_pouting_face", "person_frowning", "bow", "couplekiss", "couple_with_heart", "massage", "haircut", "nail_care", "boy", "girl", "woman", "man", "baby", "older_woman", "older_man", "person_with_blond_hair", "man_with_gua_pi_mao", "man_with_turban", "construction_worker", "cop", "angel", "princess", "smiley_cat", "smile_cat", "heart_eyes_cat", "kissing_cat", "smirk_cat", "scream_cat", "crying_cat_face", "joy_cat", "pouting_cat", "japanese_ogre", "japanese_goblin", "see_no_evil", "hear_no_evil", "speak_no_evil", "guardsman", "skull", "feet", "lips", "kiss", "droplet", "ear", "eyes", "nose", "tongue", "love_letter", "bust_in_silhouette", "busts_in_silhouette", "speech_balloon", "thought_balloon", "feelsgood", "finnadie", "goberserk", "godmode", "hurtrealbad", "rage1", "rage2", "rage3", "rage4", "suspect", "trollface"]
                                    },
                                        {
                                            type: "Nature",
                                            items: ["sunny", "umbrella", "cloud", "snowflake", "snowman", "zap", "cyclone", "foggy", "ocean", "cat", "dog", "mouse", "hamster", "rabbit", "wolf", "frog", "tiger", "koala", "bear", "pig", "pig_nose", "cow", "boar", "monkey_face", "monkey", "horse", "racehorse", "camel", "sheep", "elephant", "panda_face", "snake", "bird", "baby_chick", "hatched_chick", "hatching_chick", "chicken", "penguin", "turtle", "bug", "honeybee", "ant", "beetle", "snail", "octopus", "tropical_fish", "fish", "whale", "whale2", "dolphin", "cow2", "ram", "rat", "water_buffalo", "tiger2", "rabbit2", "dragon", "goat", "rooster", "dog2", "pig2", "mouse2", "ox", "dragon_face", "blowfish", "crocodile", "dromedary_camel", "leopard", "cat2", "poodle", "paw_prints", "bouquet", "cherry_blossom", "tulip", "four_leaf_clover", "rose", "sunflower", "hibiscus", "maple_leaf", "leaves", "fallen_leaf", "herb", "mushroom", "cactus", "palm_tree", "evergreen_tree", "deciduous_tree", "chestnut", "seedling", "blossom", "ear_of_rice", "shell", "globe_with_meridians", "sun_with_face", "full_moon_with_face", "new_moon_with_face", "new_moon", "waxing_crescent_moon", "first_quarter_moon", "waxing_gibbous_moon", "full_moon", "waning_gibbous_moon", "last_quarter_moon", "waning_crescent_moon", "last_quarter_moon_with_face", "first_quarter_moon_with_face", "moon", "earth_africa", "earth_americas", "earth_asia", "volcano", "milky_way", "partly_sunny", "octocat", "squirrel"]
                                        },
                                        {
                                            type: "Objects",
                                            items: ["bamboo", "gift_heart", "dolls", "school_satchel", "mortar_board", "flags", "fireworks", "sparkler", "wind_chime", "rice_scene", "jack_o_lantern", "ghost", "santa", "christmas_tree", "gift", "bell", "no_bell", "tanabata_tree", "tada", "confetti_ball", "balloon", "crystal_ball", "cd", "dvd", "floppy_disk", "camera", "video_camera", "movie_camera", "computer", "tv", "iphone", "phone", "telephone", "telephone_receiver", "pager", "fax", "minidisc", "vhs", "sound", "speaker", "mute", "loudspeaker", "mega", "hourglass", "hourglass_flowing_sand", "alarm_clock", "watch", "radio", "satellite", "loop", "mag", "mag_right", "unlock", "lock", "lock_with_ink_pen", "closed_lock_with_key", "key", "bulb", "flashlight", "high_brightness", "low_brightness", "electric_plug", "battery", "calling", "email", "mailbox", "postbox", "bath", "bathtub", "shower", "toilet", "wrench", "nut_and_bolt", "hammer", "seat", "moneybag", "yen", "dollar", "pound", "euro", "credit_card", "money_with_wings", "e-mail", "inbox_tray", "outbox_tray", "envelope", "incoming_envelope", "postal_horn", "mailbox_closed", "mailbox_with_mail", "mailbox_with_no_mail", "package", "door", "smoking", "bomb", "gun", "hocho", "pill", "syringe", "page_facing_up", "page_with_curl", "bookmark_tabs", "bar_chart", "chart_with_upwards_trend", "chart_with_downwards_trend", "scroll", "clipboard", "calendar", "date", "card_index", "file_folder", "open_file_folder", "scissors", "pushpin", "paperclip", "black_nib", "pencil2", "straight_ruler", "triangular_ruler", "closed_book", "green_book", "blue_book", "orange_book", "notebook", "notebook_with_decorative_cover", "ledger", "books", "bookmark", "name_badge", "microscope", "telescope", "newspaper", "football", "basketball", "soccer", "baseball", "tennis", "8ball", "rugby_football", "bowling", "golf", "mountain_bicyclist", "bicyclist", "horse_racing", "snowboarder", "swimmer", "surfer", "ski", "spades", "hearts", "clubs", "diamonds", "gem", "ring", "trophy", "musical_score", "musical_keyboard", "violin", "space_invader", "video_game", "black_joker", "flower_playing_cards", "game_die", "dart", "mahjong", "clapper", "memo", "pencil", "book", "art", "microphone", "headphones", "trumpet", "saxophone", "guitar", "shoe", "sandal", "high_heel", "lipstick", "boot", "shirt", "tshirt", "necktie", "womans_clothes", "dress", "running_shirt_with_sash", "jeans", "kimono", "bikini", "ribbon", "tophat", "crown", "womans_hat", "mans_shoe", "closed_umbrella", "briefcase", "handbag", "pouch", "purse", "eyeglasses", "fishing_pole_and_fish", "coffee", "tea", "sake", "baby_bottle", "beer", "beers", "cocktail", "tropical_drink", "wine_glass", "fork_and_knife", "pizza", "hamburger", "fries", "poultry_leg", "meat_on_bone", "spaghetti", "curry", "fried_shrimp", "bento", "sushi", "fish_cake", "rice_ball", "rice_cracker", "rice", "ramen", "stew", "oden", "dango", "egg", "bread", "doughnut", "custard", "icecream", "ice_cream", "shaved_ice", "birthday", "cake", "cookie", "chocolate_bar", "candy", "lollipop", "honey_pot", "apple", "green_apple", "tangerine", "lemon", "cherries", "grapes", "watermelon", "strawberry", "peach", "melon", "banana", "pear", "pineapple", "sweet_potato", "eggplant", "tomato", "corn"]
                                        },
                                        {
                                            type: "Places",
                                            items: ["house", "house_with_garden", "school", "office", "post_office", "hospital", "bank", "convenience_store", "love_hotel", "hotel", "wedding", "church", "department_store", "european_post_office", "city_sunrise", "city_sunset", "japanese_castle", "european_castle", "tent", "factory", "tokyo_tower", "japan", "mount_fuji", "sunrise_over_mountains", "sunrise", "stars", "statue_of_liberty", "bridge_at_night", "carousel_horse", "rainbow", "ferris_wheel", "fountain", "roller_coaster", "ship", "speedboat", "boat", "sailboat", "rowboat", "anchor", "rocket", "airplane", "helicopter", "steam_locomotive", "tram", "mountain_railway", "bike", "aerial_tramway", "suspension_railway", "mountain_cableway", "tractor", "blue_car", "oncoming_automobile", "car", "red_car", "taxi", "oncoming_taxi", "articulated_lorry", "bus", "oncoming_bus", "rotating_light", "police_car", "oncoming_police_car", "fire_engine", "ambulance", "minibus", "truck", "train", "station", "train2", "bullettrain_front", "bullettrain_side", "light_rail", "monorail", "railway_car", "trolleybus", "ticket", "fuelpump", "vertical_traffic_light", "traffic_light", "warning", "construction", "beginner", "atm", "slot_machine", "busstop", "barber", "hotsprings", "checkered_flag", "crossed_flags", "izakaya_lantern", "moyai", "circus_tent", "performing_arts", "round_pushpin", "triangular_flag_on_post", "jp", "kr", "cn", "us", "fr", "es", "it", "ru", "gb", "uk", "de"]
                                        },
                                        {
                                            type: "Symbols",
                                            items: ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "keycap_ten", "1234", "zero", "hash", "symbols", "arrow_backward", "arrow_down", "arrow_forward", "arrow_left", "capital_abcd", "abcd", "abc", "arrow_lower_left", "arrow_lower_right", "arrow_right", "arrow_up", "arrow_upper_left", "arrow_upper_right", "arrow_double_down", "arrow_double_up", "arrow_down_small", "arrow_heading_down", "arrow_heading_up", "leftwards_arrow_with_hook", "arrow_right_hook", "left_right_arrow", "arrow_up_down", "arrow_up_small", "arrows_clockwise", "arrows_counterclockwise", "rewind", "fast_forward", "information_source", "ok", "twisted_rightwards_arrows", "repeat", "repeat_one", "new", "top", "up", "cool", "free", "ng", "cinema", "koko", "signal_strength", "u5272", "u5408", "u55b6", "u6307", "u6708", "u6709", "u6e80", "u7121", "u7533", "u7a7a", "u7981", "sa", "restroom", "mens", "womens", "baby_symbol", "no_smoking", "parking", "wheelchair", "metro", "baggage_claim", "accept", "wc", "potable_water", "put_litter_in_its_place", "secret", "congratulations", "m", "passport_control", "left_luggage", "customs", "ideograph_advantage", "cl", "sos", "id", "no_entry_sign", "underage", "no_mobile_phones", "do_not_litter", "non-potable_water", "no_bicycles", "no_pedestrians", "children_crossing", "no_entry", "eight_spoked_asterisk", "sparkle", "eight_pointed_black_star", "heart_decoration", "vs", "vibration_mode", "mobile_phone_off", "chart", "currency_exchange", "aries", "taurus", "gemini", "cancer", "leo", "virgo", "libra", "scorpius", "sagittarius", "capricorn", "aquarius", "pisces", "ophiuchus", "six_pointed_star", "negative_squared_cross_mark", "a", "b", "ab", "o2", "diamond_shape_with_a_dot_inside", "recycle", "end", "back", "on", "soon", "clock1", "clock130", "clock10", "clock1030", "clock11", "clock1130", "clock12", "clock1230", "clock2", "clock230", "clock3", "clock330", "clock4", "clock430", "clock5", "clock530", "clock6", "clock630", "clock7", "clock730", "clock8", "clock830", "clock9", "clock930", "heavy_dollar_sign", "copyright", "registered", "tm", "x", "heavy_exclamation_mark", "bangbang", "interrobang", "o", "heavy_multiplication_x", "heavy_plus_sign", "heavy_minus_sign", "heavy_division_sign", "white_flower", "100", "heavy_check_mark", "ballot_box_with_check", "radio_button", "link", "curly_loop", "wavy_dash", "part_alternation_mark", "trident", "black_small_square", "white_small_square", "black_medium_small_square", "white_medium_small_square", "black_medium_square", "white_medium_square", "black_large_square", "white_large_square", "white_check_mark", "black_square_button", "white_square_button", "black_circle", "white_circle", "red_circle", "large_blue_circle", "large_blue_diamond", "large_orange_diamond", "small_blue_diamond", "small_orange_diamond", "small_red_triangle", "small_red_triangle_down", "shipit"]
                                        }]
                                }
                            },
                            computed: {
                                curEmojiItems: function() {
                                    for (var e = 0,
                                             t = this.emojiList.length; e < t; e++) if (this.emojiList[e].type === this.curEmojiType) return this.emojiList[e].items;
                                    return this.emojiList[0].items
                                },
                                commentContentIsEmpty: function() {
                                    return 0 === this.commentContent.length
                                },
                                commentCountText: function() {
                                    return this.commentContent.length + "/" + this.commentMaxLength
                                }
                            },
                            methods: {
                                insertEmoji: function(e) {
                                    this.clearMessage();
                                    var t = ":" + e + ":";
                                    this.insertContent(t),
                                        $(this.$refs.showEmojiBox).popup("hide")
                                },
                                insertProject: function() {
                                    var e, t, o;
                                    this.clearMessage(),
                                        e = "#此处输入软件#",
                                    this.insertContent(e) && (o = (t = selectRange.of(this.$refs.commentTextarea)).getCurPos(), t.setSelectText(o - (e.length - 1), o - 1))
                                },
                                publishComment: function() {
                                    var n, e; (n = this).tweetPublishLoading || (n.clearMessage(), n.commentContentIsEmpty ? n.showMessage("error", "内容不能为空", 2e3) : n.commentContent.length > n.commentMaxLength ? n.showMessage("error", "最多只能输入" + n.commentMaxLength + "个字符！", 2e3) : (n.commentPublishLoading = !0, e = {
                                        article: a.config.objId,
                                        content: n.commentContent
                                    },
                                        $.post(a.config.publishCommentUrl, e,
                                            function(e) {
                                                var t, o;
                                                1 === e.code ? (n.commentContent = "", a.loadComments(), t = $(".float-menu .comment-btn"), e.result && void 0 !== e.result.replyCount && (o = e.result.replyCount, $("[data-article-reply-count]").html(o), t.attr("title", "共有 " + o + " 条评论")), t.find(".icon").removeClass("outline"), $("html, body").stop().animate({
                                                        scrollTop: a._commentsWrap.offset().top - 80
                                                    },
                                                    500, "swing")) : n.showMessage("error", e.message || "发布失败", 2e3)
                                            }).fail(function() {
                                            n.showMessage("error", "网络错误，请稍后再试！", 2e3)
                                        }).always(function() {
                                            n.commentPublishLoading = !1
                                        })))
                                },
                                commentContentOnKeyDown: function(e) { (e.metaKey || e.ctrlKey) && 13 == e.keyCode && this.publishComment()
                                },
                                insertContent: function(e) {
                                    return ! this.commentPublishLoading && (this.commentContent.length >= this.commentMaxLength || this.commentContent.length + e.length > this.commentMaxLength ? void this.showMessage("error", "最多只能输入" + this.commentMaxLength + "个字符！", 2e3) : (selectRange.of(this.$refs.commentTextarea).insertAfterText(e), this.commentContent = this.$refs.commentTextarea.value, !0))
                                },
                                showMessage: function(e, t, o) {
                                    var n, a = this;
                                    a.tipMessage.className = "success" === e ? "positive": "negative",
                                        a.tipMessage.content = t,
                                        n = parseInt(o) || 0,
                                        a.tipMessage.show = !0,
                                    0 < n && setTimeout(function() {
                                            a.clearMessage()
                                        },
                                        n)
                                },
                                clearMessage: function() {
                                    var e = this;
                                    e.tipMessage.className = "",
                                        e.tipMessage.content = "",
                                        e.tipMessage.show = !1
                                }
                            }
                        }),
                            $("#commentForm").find(".comment-form .toolbox > .item[data-popup]").each(function(e, t) {
                                var o = $(t),
                                    n = $(o).parent(),
                                    a = n.find(".toolbox-popup." + o.attr("data-popup"));
                                o.popup({
                                    position: "bottom left",
                                    popup: a,
                                    on: "toolbox-picture" === o.attr("data-popup") ? "manual": "click",
                                    exclusive: !0
                                })
                            })
                    },
                    initCommentDeleteModal: function() {
                        var s = this,
                            o = $(".delete-comment.modal");
                        o.modal({
                            onDeny: function() {
                                var e = $(this).attr("data-comment-id"),
                                    i = s._commentsWrap.find("div.comment[data-comment-id=" + e + "]");
                                i.attr("data-comment-user-id"),
                                    $.post(s.config.deleteCommentUrl, {
                                            article: page.objId,
                                            cmt: e
                                        },
                                        function(e) {
                                            var t, o, n, a, r;
                                            1 === e.code ? ($("body").toast({
                                                type: "success",
                                                content: "删除成功"
                                            }), i.fadeOut(function() {
                                                i.remove()
                                            }), o = (t = s._commentsWrap.find("> .header span")).text(), n = $("[data-article-reply-count]"), a = $(".float-menu .comment-btn"), o ? (r = parseInt(o) - (1 + i.find("div.comment").length), t.text(r), n.html(r), a.attr("title", "共有 " + r + " 条评论")) : (t.text(0), n.html(0), a.attr("title", "共有 0 条评论")), e.result && void 0 !== e.result.selfCommentCount && e.result.selfCommentCount <= 0 && a.find(".icon").addClass("outline")) : $("body").toast({
                                                type: "error",
                                                content: e.message || "删除失败"
                                            })
                                        })
                            }
                        }),
                            s._commentsWrap.on("click", ".actions a.remove",
                                function(e) {
                                    var t;
                                    e.stopPropagation(),
                                        t = $(e.target).parents(".comment:eq(0)").attr("data-comment-id"),
                                        o.attr("data-comment-id", t),
                                        o.modal("show")
                                })
                    },
                    initReplyCommentModal: function() {
                        var r = this,
                            i = $(".reply-comment.modal"),
                            s = $("#replyCommentForm");
                        i.modal({
                            onShow: function() {
                                var e, t;
                                s.form("reset"),
                                    s.message("hideAll"),
                                    e = $(this).attr("data-comment-user-id") || -1,
                                    t = $(this).attr("data-comment-id") || -1,
                                    s.find("input[name=reply_id]").val(e + "_" + t)
                            },
                            onApprove: function() {
                                return s.message("hideAll"),
                                    s.form("submit"),
                                    !1
                            }
                        }),
                            s.form({
                                inline: !0,
                                fields: {
                                    content: {
                                        rules: [{
                                            type: "empty",
                                            prompt: "请输入评论内容"
                                        },
                                            {
                                                type: "maxLength[1000]",
                                                prompt: "内容长度不能超过 {ruleValue} 个字"
                                            }]
                                    }
                                }
                            }).api({
                                url: r.config.replyCommentUrl,
                                method: "post",
                                serializeForm: !0,
                                beforeSend: function(e) {
                                    $(this).message("hideAll");
                                    var t = e.data;
                                    return e.data = {
                                        article: r.config.objId,
                                        reply_id: t.reply_id,
                                        content: t.content
                                    },
                                        e
                                },
                                onSuccess: function(e, t, o) {
                                    var n, a;
                                    1 === e.code ? ($(this).message({
                                        type: "positive",
                                        content: "评论回复成功"
                                    }), s.form("reset"), r.loadComments(), n = $(".float-menu .comment-btn"), e.result && void 0 !== e.result.replyCount && (a = e.result.replyCount, $("[data-article-reply-count]").html(a), n.attr("title", "共有 " + a + " 条评论")), n.find(".icon").removeClass("outline"), setTimeout(function() {
                                            i.modal("hide")
                                        },
                                        2e3)) : $(this).message({
                                        type: "negative",
                                        content: e.message || "回复失败"
                                    })
                                },
                                onFailure: function(e, t) {
                                    $(this).message({
                                        type: "negative",
                                        content: "网络错误，请稍后再试"
                                    })
                                }
                            }),
                            i.on("keydown",
                                function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && i.find(".positive.button").click()
                                }),
                            r._commentsWrap.on("click", ".actions a.reply",
                                function(e) {
                                    var t, o, n;
                                    if (e.stopPropagation(), !window.common.checkLogin()) return ! 1;
                                    o = (t = $(e.target).parents(".comment:eq(0)")).attr("data-comment-user-id"),
                                        n = t.attr("data-comment-id"),
                                        i.attr("data-comment-user-id", o),
                                        i.attr("data-comment-id", n),
                                        i.modal("show")
                                })
                    },
                    bindReplyBtn: function() {
                        var i = this;
                        i._commentsWrap.on("click", ".actions a.reply",
                            function(e) {
                                var n, a, r, t;
                                return e.stopPropagation(),
                                !!window.common.checkLogin() && (n = $(e.target).parents(".comment:eq(0)"), a = n.attr("data-comment-user-id"), r = n.attr("data-comment-id"), 0 < n.find("[data-rely-comment-form]").length ? ((t = n.find("[data-rely-comment-form]").get(0)).vueInstance && t.vueInstance.focus(), !1) : ($("[data-rely-comment-form]").each(function(e, t) {
                                    var o = $(t);
                                    t.vueInstance && t.vueInstance.$destroy(),
                                        o.remove()
                                }), void(0 === $('[data-reply-comment-form][data-comment-id="' + r + '"]').length && !0 !== window.oscReplyCommentFormLoading && (window.oscReplyCommentFormLoading = !0, $.get("/widgets/comments_reply_form",
                                    function(e) {
                                        var t, o = document.createElement("div");
                                        o.innerHTML = e,
                                            $(o).find("[data-reply-comment-form]").attr("data-comment-id", r),
                                            n.children(".content").append(o),
                                            (t = new OSCCommentForm({
                                                commentFormSelector: "#replyCommentForm",
                                                commentsWrapEl: i._commentsWrap,
                                                toggleLoadComments: function() {
                                                    i.loadComments()
                                                },
                                                url: i.config.replyCommentUrl,
                                                params: {
                                                    article: page.objId,
                                                    reply_id: a + "_" + r
                                                },
                                                contentField: "content"
                                            })).init(),
                                            t.focus()
                                    }).always(function() {
                                    window.oscReplyCommentFormLoading = !1
                                })))))
                            })
                    },
                    initCommentsListPJAX: function() {
                        var t = this,
                            o = $(".comments-loader");
                        $.pjax.defaults.timeout = 1e4,
                            $.pjax.defaults.maxCacheLength = 20,
                            $(document).pjax("#commentsContainer .comments-wrap .pagination a", "#commentsContainer .comments-wrap", {
                                scrollTo: !1
                            }),
                            $(document).on("pjax:send",
                                function(e) {
                                    $(e.target),
                                    "comments-wrap" === e.target.className && o.addClass("active")
                                }),
                            $(document).on("pjax:complete",
                                function(e) {
                                    $(e.target),
                                    "comments-wrap" === e.target.className && (t.parseEmoticon(), o.removeClass("active"), $("html, body").stop().animate({
                                            scrollTop: t._commentsWrap.offset().top - 80
                                        },
                                        500, "swing"))
                                })
                    },
                    parseEmoticon: function() {
                        $(function() {
                            $("[data-emoji-render]").emoticon()
                        })
                    }
                },
                e = new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js"],
                    function() {
                        var e = window.page;
                        t.init({
                            objId: e.objId,
                            fetchCommentsUrl: e.fetchCommentsUrl,
                            publishCommentUrl: e.publishCommentUrl,
                            replyCommentUrl: e.replyCommentUrl,
                            deleteCommentUrl: e.deleteCommentUrl
                        }),
                            t.initCommentForm(),
                            t.initCommentDeleteModal(),
                            t.bindReplyBtn(),
                            t.initCommentsListPJAX(),
                            t.parseEmoticon()
                    });
            e.loadFiles()
        }
    });
OSCDefine("web-translate-detail", ["translate-detail-comments"],
    function() {
        var a = function() {
            this._translateDetailEl = $(".translate-detail"),
                this._headerWrap = this._translateDetailEl.find(".header-wrap"),
                this._paragraphsContainer = this._translateDetailEl.find("#paragraphsContainer"),
                this._paragraphsWrap = this._paragraphsContainer.find(".paragraphs-wrap")
        };
        return a.prototype = {
            constructor: a,
            initFloatMenu: function() {
                $("#floatMenu").sticky({
                    context: ".float-menu-content",
                    offset: 200
                })
            },
            hightlight: function() {
                $("pre, pre code").each(function(a, t) {
                    var e, r = $(this),
                        n = r.attr("class") || "",
                        o = n.match(/language-(.*)/);
                    o && 1 < o.length && (e = o[o.length - 1], r.attr("class", "hljs " + e)),
                        hljs.highlightBlock(t)
                })
            },
            initManagerMenu: function() {
                var a = $("#managerMenu");
                a.dropdown(),
                    a.on("click", "a.item.edit-tags-btn",
                        function() {
                            var r = $(".edit-tags.modal"),
                                a = r.find("#editTagsForm");
                            a.form({
                                inline: !0,
                                keyboardShortcuts: !1,
                                fields: {
                                    category: {
                                        rules: [{
                                            type: "empty",
                                            prompt: "请选择分类"
                                        }]
                                    }
                                }
                            }).api({
                                url: page.api_prefix + "/translate/edit_tags",
                                method: "post",
                                serializeForm: !0,
                                beforeSend: function(a) {
                                    var t = a.data;
                                    return a.data = {
                                        id: page.objId,
                                        category: t.category,
                                        prj: t.prj,
                                        tags: t.tags,
                                        user_code: page.g_user_code || ""
                                    },
                                        a
                                },
                                onSuccess: function(a, t, e) {
                                    1 === a.code ? ($("body").toast({
                                        type: "success",
                                        content: "设置成功"
                                    }), r.modal("hide"), $(this).form("reset"), setTimeout(function() {
                                            location.reload()
                                        },
                                        1e3)) : $("body").toast({
                                        type: "error",
                                        content: a.message || "设置失败"
                                    })
                                },
                                onFailure: function(a, t) {
                                    $("body").toast({
                                        type: "error",
                                        content: "网络异常，请稍后再试"
                                    })
                                }
                            }),
                                a.find(".category.dropdown").dropdown(),
                                a.find(".project-name.dropdown").dropdown({
                                    allowAdditions: !0,
                                    maxSelections: 5,
                                    fields: {
                                        remoteValues: "results",
                                        value: "value",
                                        name: "name"
                                    },
                                    filterRemoteData: !1,
                                    apiSettings: {
                                        url: page.api_prefix + "/project/list_projects?q={query}",
                                        method: "get",
                                        dataType: "JSON",
                                        cache: !1,
                                        throttle: 200,
                                        interruptRequests: !0,
                                        onResponse: function(a) {
                                            var t = [];
                                            return 1 === a.code && Array.isArray(a.result) && 0 < a.result.length && (t = a.result.map(function(a) {
                                                return {
                                                    name: a.name,
                                                    value: a.name
                                                }
                                            })),
                                                {
                                                    results: t
                                                }
                                        }
                                    },
                                    onNoResults: function(a) {
                                        return !! (a && 0 < a.trim().length)
                                    }
                                }),
                                r.modal({
                                    autofocus: !1,
                                    onApprove: function() {
                                        return a.message("hideAll"),
                                            a.form("submit"),
                                            !1
                                    },
                                    onHide: function() {
                                        a.form("reset")
                                    }
                                }),
                                r.modal("show")
                        })
            },
            initParagraphListPJAX: function() {
                var r = this,
                    n = $(".paragraph-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax("#paragraphsContainer .paragraphs-wrap .pagination a, .lang-switch-btn", "#paragraphsContainer .paragraphs-wrap", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function(a) {
                            $(a.target);
                            "paragraphs-wrap" === a.target.className && n.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(a) {
                            var t, e;
                            $(a.target);
                            "paragraphs-wrap" === a.target.className && (t = a.relatedTarget, (e = $(t).parent()).hasClass("pagination"), $(t).hasClass("lang-switch-btn") && (e.find(".lang-switch-btn").removeClass("active"), $(t).addClass("active")), n.removeClass("active"), $("html, body").stop().animate({
                                    scrollTop: r._paragraphsWrap.offset().top - 120
                                },
                                500, "swing"))
                        })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            initParagraphAction: function() {
                var r = this,
                    e = $(".delete-paragraph.modal").modal({
                        onApprove: function() {
                            var a = $(this).attr("data-paragraph-id"),
                                t = r._paragraphsWrap.find("div.translate-paragraph[data-paragraph-id=" + a + "]"),
                                e = r._paragraphsWrap.find("div.other-translated-wrap[data-paragraph-id=" + a + "]");
                            $.post(page.api_prefix + "/translate/delete_paragraph", {
                                    id: a
                                },
                                function(a) {
                                    1 === a.code ? ($("body").toast({
                                        type: "success",
                                        content: "删除成功"
                                    }), t.fadeOut(function() {
                                        t.remove()
                                    }), e.fadeOut(function() {
                                        e.remove()
                                    })) : $("body").toast({
                                        type: "error",
                                        content: a.message || "删除失败"
                                    })
                                }).fail(function() {
                                $("body").toast({
                                    type: "error",
                                    content: "网络异常，请稍后再试"
                                })
                            })
                        }
                    });
                this._paragraphsContainer.on("click", ".actions a.item.delete-btn",
                    function(a) {
                        var t;
                        a.stopPropagation(),
                            t = $(a.target).parents(".translate-paragraph:eq(0)").attr("data-paragraph-id"),
                            e.attr("data-paragraph-id", t),
                            e.modal("show")
                    }),
                    this._paragraphsContainer.on("click", ".vote-up-btn",
                        function(a) {
                            var t, e, r, n;
                            if (a.stopPropagation(), !window.common.checkLogin()) return ! 1; (t = $(a.target).parents(".translate-paragraph:eq(0)")).attr("data-paragraph-id"),
                                e = $(this).attr("data-translated-paragraph-id"),
                                r = t.find(".vote-count"),
                                n = parseInt(r.text()),
                                $.post(page.api_prefix + "/translate/vote_block", {
                                        id: e,
                                        user: page.g_user_id
                                    },
                                    function(a) {
                                        1 === a.code ? r.text(n + 1) : $("body").toast({
                                            type: "error",
                                            content: a.message || "点赞失败"
                                        })
                                    }).fail(function() {
                                    $("body").toast({
                                        type: "error",
                                        content: "网络异常，请稍后再试"
                                    })
                                })
                        })
            },
            initParagraphOtherTranslated: function() {
                var o = this;
                this._paragraphsContainer.on("click", ".show-other-translated-btn",
                    function(a) {
                        var t, e, r, n;
                        if (a.stopPropagation(), e = (t = $(a.target).parents(".translate-paragraph:eq(0)")).attr("data-paragraph-id"), r = t.attr("data-translated-paragraph-id"), !(n = o._paragraphsContainer.find('.other-translated-wrap[data-paragraph-id="' + e + '"]')) || n.length <= 0) return ! 1;
                        "block" === n.css("display") ? n.slideUp() : (n.slideDown(), n.data("load") || $.get("/translate/widgets/_translate_detail_paragraph_chs_others_ajax?pid=" + e + "&ppid=" + r,
                            function(a) {
                                n.html(a),
                                    n.data("load", !0),
                                    o.hightlight()
                            }).fail(function() {
                            $("body").toast({
                                type: "error",
                                content: "网络异常，请稍后再试"
                            }),
                                setTimeout(function() {
                                        n.slideUp()
                                    },
                                    2e3)
                        }))
                    }),
                    this._paragraphsContainer.on("click", ".collapse-other-translated-btn",
                        function(a) {
                            var t, e, r;
                            if (a.stopPropagation(), e = (t = $(a.target).parents(".translate-paragraph:eq(0)")).attr("data-paragraph-id"), t.attr("data-translated-paragraph-id"), !(r = o._paragraphsContainer.find('.other-translated-wrap[data-paragraph-id="' + e + '"]')) || r.length <= 0) return ! 1;
                            "block" === r.css("display") && r.slideUp()
                        })
            },
            initArticleVote: function() {
                var a = this._headerWrap.find(".translate-vote-btn"),
                    t = this._headerWrap.find(".vote-count"),
                    e = parseInt(t.text());
                a.on("click",
                    function() {
                        if (!window.common.checkLogin()) return ! 1;
                        $.post(page.api_prefix + "/translate/vote_article", {
                                id: page.objId,
                                user: page.g_user_id
                            },
                            function(a) {
                                1 === a.code ? t.text(e + 1) : $("body").toast({
                                    type: "error",
                                    content: a.message || "操作失败"
                                })
                            }).fail(function() {
                            $("body").toast({
                                type: "error",
                                content: "网络异常，请稍后再试"
                            })
                        })
                    })
            },
            register: function() {
                this.initFloatMenu(),
                    this.hightlight(),
                    this.initManagerMenu(),
                    this.initParagraphListPJAX(),
                    this.initParagraphAction(),
                    this.initParagraphOtherTranslated(),
                    this.optimizeImgShow(),
                    this.initArticleVote()
            }
        },
            a
    });
OSCDefine("web-translate-detail-compare",
    function() {
        var a = function() {
            this._translateDetailEl = $(".translate-detail-compare"),
                this._paragraphsContainer = this._translateDetailEl.find("#paragraphsContainer"),
                this._paragraphsWrap = this._paragraphsContainer.find(".paragraphs-wrap")
        };
        return a.prototype = {
            constructor: a,
            hightlight: function() {
                $("pre, pre code").each(function(a, t) {
                    var r, n = $(this),
                        p = n.attr("class") || "",
                        e = p.match(/language-(.*)/);
                    e && 1 < e.length && (r = e[e.length - 1], n.attr("class", "hljs " + r)),
                        hljs.highlightBlock(t)
                })
            },
            initParagraphListPJAX: function() {
                var r = $(".paragraph-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax("#paragraphsContainer .paragraphs-wrap .pagination a", "#paragraphsContainer .paragraphs-wrap", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function(a) {
                            $(a.target);
                            "paragraphs-wrap" === a.target.className && r.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(a) {
                            var t;
                            $(a.target);
                            "paragraphs-wrap" === a.target.className && (t = a.relatedTarget, $(t).parent().hasClass("pagination"), r.removeClass("active"), $("html, body").stop().animate({
                                    scrollTop: 0
                                },
                                500, "swing"))
                        })
            },
            initTranslatorPopup: function() {
                this._paragraphsWrap.find(".popup-translator").popup({
                    on: "click"
                })
            },
            initParagraphAction: function() {
                this._paragraphsContainer.on("click", ".vote-paragraph",
                    function(a) {
                        var t, r, n, p;
                        if (a.stopPropagation(), !window.common.checkLogin()) return ! 1;
                        $(a.target).parents(".translate-paragraph:eq(0)").attr("data-paragraph-id"),
                            r = (t = $(a.target).parents(".translated-paragraph:eq(0)")).attr("data-translated-paragraph-id"),
                            n = t.find(".vote-count"),
                            p = parseInt(n.text()),
                            $.post(page.api_prefix + "/translate/vote_block", {
                                    id: r,
                                    user: page.g_user_id
                                },
                                function(a) {
                                    1 === a.code ? n.text(p + 1) : $("body").toast({
                                        type: "error",
                                        content: a.message || "点赞失败"
                                    })
                                }).fail(function() {
                                $("body").toast({
                                    type: "error",
                                    content: "网络异常，请稍后再试"
                                })
                            })
                    })
            },
            initSwitchOtherParagraph: function() {
                this._paragraphsContainer.on("click", ".switch-other-paragraph-btn",
                    function(a) {
                        var t, r, n;
                        a.stopPropagation(),
                            (t = $(a.target).parents(".translate-paragraph:eq(0)")).attr("data-paragraph-id"),
                            $(a.target).parents(".translated-paragraph:eq(0)").attr("data-translated-paragraph-id"),
                            r = $(this).attr("data-translated-paragraph-id"),
                        (n = t.find('.translated-paragraph[data-translated-paragraph-id="' + r + '"]')) && 0 < n.length && (t.find(".column.translated-paragraph").hide(), n.show())
                    })
            },
            register: function() {
                this.hightlight(),
                    this.initParagraphListPJAX(),
                    this.initTranslatorPopup(),
                    this.initParagraphAction(),
                    this.initSwitchOtherParagraph()
            }
        },
            a
    });
OSCDefine("web-translate-paragraph-edit",
    function() {
        var t = function() {
            this._translatePageEl = $(".translate-paragraph-edit"),
                this._paragraphEditForm = this._translatePageEl.find(".paragraph-edit-form"),
                this._paragraphContentTextarea = this._paragraphEditForm.find("textarea[name=content]"),
                this._initContent = this._paragraphContentTextarea.val().trim()
        };
        return t.prototype = {
            constructor: t,
            hightlight: function() {
                $("pre, pre code").each(function(t, a) {
                    var e, n = $(this),
                        i = n.attr("class") || "",
                        r = i.match(/language-(.*)/);
                    r && 1 < r.length && (e = r[r.length - 1], n.attr("class", "hljs " + e)),
                        hljs.highlightBlock(a)
                })
            },
            initParagraphForm: function() {
                var t, a, n = this,
                    e = 556;
                window.innerWidth < 768 && (e = 456),
                    t = {
                        height: e,
                        resize_enabled: !1,
                        removePlugins: "elementspath",
                        uploadUrl: page.api_prefix + "/translate/ckeditor_dialog_img_upload",
                        filebrowserUploadUrl: page.api_prefix + "/translate/ckeditor_dialog_img_upload",
                        toolbar: [{
                            name: "basicstyles",
                            items: ["Bold", "Italic", "Underline", "Strike"]
                        },
                            {
                                name: "links",
                                items: ["Link", "Unlink"]
                            },
                            {
                                name: "insert",
                                items: ["Image", "Flash", "Table"]
                            },
                            {
                                name: "colors",
                                items: ["TextColor", "BGColor"]
                            },
                            {
                                name: "paragraph",
                                items: ["NumberedList", "BulletedList", "-", "JustifyLeft", "JustifyCenter", "-", "Blockquote", "CodeSnippet"]
                            },
                            {
                                name: "styles",
                                items: ["Format"]
                            }]
                    },
                    a = function() {
                        var e = CKEDITOR.replace(n._paragraphContentTextarea[0], t);
                        e.on("instanceReady",
                            function(t) {
                                e.focus()
                            }),
                            e.on("change",
                                function(t) {
                                    n._paragraphContentTextarea.val(t.editor.getData())
                                }),
                            e.on("fileUploadResponse",
                                function(t) {
                                    setTimeout(function() {
                                            n._paragraphContentTextarea.val(t.editor.getData())
                                        },
                                        0)
                                }),
                            e.on("mode",
                                function(t) {
                                    if ("source" === this.mode) {
                                        var a = e.editable();
                                        a.attachListener(a, "input",
                                            function() {
                                                n._paragraphContentTextarea.val(t.editor.getData())
                                            })
                                    }
                                })
                    },
                    n._paragraphEditForm.form({
                        inline: !0,
                        fields: {
                            content: {
                                identifier: "content",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入内容"
                                }]
                            }
                        }
                    }).api({
                        url: page.api_prefix + page.submitUrl,
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(t) {
                            var a = t.data;
                            return t.data = {
                                id: page.paragraphId,
                                article: page.articleId,
                                content: a.content
                            },
                                t
                        },
                        onSuccess: function(t, a, e) {
                            1 === t.code ? ($("body").toast({
                                type: "success",
                                content: "提交成功"
                            }), window.onbeforeunload = null, setTimeout(function() {
                                    window.location.href = page.successUrl
                                },
                                2e3)) : $("body").toast({
                                type: "error",
                                content: t.message || "提交失败"
                            })
                        },
                        onFailure: function(t, a) {
                            $("body").toast({
                                type: "error",
                                content: "网络错误，请稍后再试"
                            })
                        }
                    }),
                    n._translatePageEl.on("click", ".submit-btn",
                        function() {
                            n._paragraphEditForm.form("submit")
                        }),
                    $(function() {
                        a(),
                            window.onbeforeunload = function() {
                                if (n._paragraphContentTextarea.val().trim() !== n._initContent) return "确认放弃此内容"
                            }
                    })
            },
            initCopyOriginBtn: function() {
                var e = this,
                    t = function() {
                        var t = e._translatePageEl.find(".original-content-wrap .content").html(),
                            a = CKEDITOR.instances.content;
                        a && (a.setData(t), e._paragraphContentTextarea.val(t))
                    },
                    a = $(".copy-origin.modal").modal({
                        onApprove: function() {
                            t()
                        }
                    });
                this._translatePageEl.find(".copy-origin-btn").on("click",
                    function() {
                        "" === e._paragraphContentTextarea.val().trim() ? t() : a.modal("show")
                    })
            },
            register: function() {
                this.initParagraphForm(),
                    this.hightlight(),
                    this.initCopyOriginBtn()
            }
        },
            t
    }); !
    function(se, e, C, M) {
        "use strict";
        e = void 0 !== e && e.Math == Math ? e: "undefined" != typeof self && self.Math == Math ? self: Function("return this")(),
            se.fn.calendar = function(h) {
                var g, e = se(this),
                    m = (e.selector, (new Date).getTime()),
                    y = [],
                    D = h,
                    v = "string" == typeof D,
                    b = [].slice.call(arguments, 1);
                return e.each(function() {
                    var c, oe, re = se.isPlainObject(h) ? se.extend(!0, {},
                        se.fn.calendar.settings, h) : se.extend({},
                        se.fn.calendar.settings),
                        ie = re.className,
                        e = re.namespace,
                        t = re.selector,
                        le = re.formatter,
                        a = re.parser,
                        de = re.metadata,
                        l = re.error,
                        n = "." + e,
                        o = "module-" + e,
                        r = se(this),
                        i = r.find(t.input),
                        ue = r.find(t.popup),
                        d = r.find(t.activator),
                        u = this,
                        s = r.data(o),
                        f = !1,
                        p = !1;
                    oe = {
                        initialize: function() {
                            oe.debug("Initializing calendar for", u),
                                c = oe.get.isTouch(),
                                oe.setup.popup(),
                                oe.setup.inline(),
                                oe.setup.input(),
                                oe.setup.date(),
                                oe.create.calendar(),
                                oe.bind.events(),
                                oe.instantiate()
                        },
                        instantiate: function() {
                            oe.verbose("Storing instance of calendar"),
                                s = oe,
                                r.data(o, s)
                        },
                        destroy: function() {
                            oe.verbose("Destroying previous calendar for", u),
                                r.removeData(o),
                                oe.unbind.events()
                        },
                        setup: {
                            popup: function() {
                                var e, t, a, n, o;
                                if (!re.inline && (d.length || (d = r.children().first()).length)) {
                                    if (se.fn.popup === M) return void oe.error(l.popup);
                                    ue.length || (ue = se("<div/>").addClass(ie.popup).prependTo(d.parent())),
                                        ue.addClass(ie.calendar),
                                        e = re.onVisible,
                                        t = re.onHidden,
                                    i.length || (ue.attr("tabindex", "0"), e = function() {
                                        return oe.focus(),
                                            re.onVisible.apply(ue, arguments)
                                    },
                                        t = function() {
                                            return oe.blur(),
                                                re.onHidden.apply(ue, arguments)
                                        }),
                                        a = function() {
                                            return oe.set.focusDate(oe.get.date()),
                                                oe.set.mode(re.startMode),
                                                re.onShow.apply(ue, arguments)
                                        },
                                        n = re.on || (i.length ? "focus": "click"),
                                        o = se.extend({},
                                            re.popupOptions, {
                                                popup: ue,
                                                on: n,
                                                hoverable: "hover" === n,
                                                onShow: a,
                                                onVisible: e,
                                                onHide: re.onHide,
                                                onHidden: t
                                            }),
                                        oe.popup(o)
                                }
                            },
                            inline: function() {
                                d.length && !re.inline || (ue = se("<div/>").addClass(ie.calendar).appendTo(r), i.length || ue.attr("tabindex", "0"))
                            },
                            input: function() {
                                re.touchReadonly && i.length && c && i.prop("readonly", !0)
                            },
                            date: function() {
                                if (i.length) {
                                    var e = i.val(),
                                        t = a.date(e, re);
                                    oe.set.date(t, re.formatInput, !1)
                                }
                            }
                        },
                        create: {
                            calendar: function() {
                                var e, t, a, n, o, r, i, l, d, u, s, p, c, f, h, g, m, y, D, v, b, C, M, w, x, k, T, F, H, O, I, N, Y, R, E, j, A, S, V, P, q, K, J, W, z, L, B, U, Q, Z, G, X, $, _ = oe.get.mode(),
                                    ee = new Date,
                                    te = oe.get.date(),
                                    ae = oe.get.focusDate(),
                                    ne = ae || te || re.initialDate || ee;
                                for (ne = oe.helper.dateInRange(ne), ae || (ae = ne, oe.set.focusDate(ae, !1, !1)), l = "year" === _, d = "month" === _, u = "day" === _, s = "hour" === _, p = "minute" === _, c = "time" === re.type, f = Math.max(re.multiMonth, 1), h = u ? oe.get.monthOffset() : 0, g = ne.getMinutes(), m = ne.getHours(), y = ne.getDate(), D = ne.getMonth() + h, v = ne.getFullYear(), C = 7 === (b = u ? 7 : s ? 4 : 3) ? "seven": 4 === b ? "four": "three", M = u || s ? 6 : 4, w = u ? f: 1, (x = ue).empty(), 1 < w && (i = se("<div/>").addClass(ie.grid).appendTo(x)), n = 0; n < w; n++) {
                                    if (1 < w && (x = se("<div/>").addClass(ie.column).appendTo(i)), k = D + n, T = (new Date(v, k, 1).getDay() - re.firstDayOfWeek % 7 + 7) % 7, !re.constantHeight && u && (F = new Date(v, k + 1, 0).getDate() + T, M = Math.ceil(F / 7)), H = l ? 10 : d ? 1 : 0, O = u ? 1 : 0, I = s || p ? 1 : 0, N = s || p ? y: 1, Y = new Date(v - H, k - O, N - I, m), R = new Date(v + H, k + O, N + I, m), E = l ? new Date(10 * Math.ceil(v / 10) - 9, 0, 0) : d ? new Date(v, 0, 0) : u ? new Date(v, k, 0) : new Date(v, k, y, -1), j = l ? new Date(10 * Math.ceil(v / 10) + 1, 0, 1) : d ? new Date(v + 1, 0, 1) : u ? new Date(v, k + 1, 1) : new Date(v, k, y + 1), A = se("<table/>").addClass(ie.table).addClass(C + " column").addClass(_).appendTo(x), !c && (S = se("<thead/>").appendTo(A), o = se("<tr/>").appendTo(S), r = se("<th/>").attr("colspan", "" + b).appendTo(o), V = l || d ? new Date(v, 0, 1) : u ? new Date(v, k, 1) : new Date(v, k, y, m, g), (P = se("<span/>").addClass(ie.link).appendTo(r)).text(le.header(V, _, re)), q = d ? re.disableYear ? "day": "year": u ? re.disableMonth ? "year": "month": "day", P.data(de.mode, q), 0 === n && ((K = se("<span/>").addClass(ie.prev).appendTo(r)).data(de.focusDate, Y), K.toggleClass(ie.disabledCell, !oe.helper.isDateInRange(E, _)), se("<i/>").addClass(ie.prevIcon).appendTo(K)), n === w - 1 && ((J = se("<span/>").addClass(ie.next).appendTo(r)).data(de.focusDate, R), J.toggleClass(ie.disabledCell, !oe.helper.isDateInRange(j, _)), se("<i/>").addClass(ie.nextIcon).appendTo(J)), u)) for (o = se("<tr/>").appendTo(S), e = 0; e < b; e++)(r = se("<th/>").appendTo(o)).text(le.dayColumnHeader((e + re.firstDayOfWeek) % 7, re));
                                    for (W = se("<tbody/>").appendTo(A), e = l ? 10 * Math.ceil(v / 10) - 9 : u ? 1 - T: 0, t = 0; t < M; t++) for (o = se("<tr/>").appendTo(W), a = 0; a < b; a++, e++) z = l ? new Date(e, k, 1, m, g) : d ? new Date(v, e, 1, m, g) : u ? new Date(v, k, e, m, g) : s ? new Date(v, k, y, e) : new Date(v, k, y, m, 5 * e),
                                        L = l ? e: d ? re.text.monthsShort[e] : u ? z.getDate() : le.time(z, re, !0),
                                        (r = se("<td/>").addClass(ie.cell).appendTo(o)).text(L),
                                        r.data(de.date, z),
                                        U = (B = u && z.getMonth() !== (k + 12) % 12) || !oe.helper.isDateInRange(z, _) || re.isDisabled(z, _),
                                        Q = oe.helper.dateEqual(z, te, _),
                                        Z = oe.helper.dateEqual(z, ee, _),
                                        r.toggleClass(ie.adjacentCell, B),
                                        r.toggleClass(ie.disabledCell, U),
                                        r.toggleClass(ie.activeCell, Q && !B),
                                    s || p || r.toggleClass(ie.todayCell, !B && Z),
                                        G = {
                                            mode: _,
                                            adjacent: B,
                                            disabled: U,
                                            active: Q,
                                            today: Z
                                        },
                                        le.cell(r, z, G),
                                    oe.helper.dateEqual(z, ae, _) && oe.set.focusDate(z, !1, !1);
                                    re.today && (X = se("<tr/>").appendTo(W), ($ = se("<td/>").attr("colspan", "" + b).addClass(ie.today).appendTo(X)).text(le.today(re)), $.data(de.date, ee)),
                                        oe.update.focus(!1, A)
                                }
                            }
                        },
                        update: {
                            focus: function(e, t) {
                                t = t || ue;
                                var l = oe.get.mode(),
                                    a = oe.get.date(),
                                    d = oe.get.focusDate(),
                                    u = oe.get.startDate(),
                                    s = oe.get.endDate(),
                                    p = (e ? d: null) || a || (c ? null: d);
                                t.find("td").each(function() {
                                    var e, t, a, n, o, r = se(this),
                                        i = r.data(de.date);
                                    i && (e = r.hasClass(ie.disabledCell), t = r.hasClass(ie.activeCell), a = r.hasClass(ie.adjacentCell), n = oe.helper.dateEqual(i, d, l), o = !!p && ( !! u && oe.helper.isDateInRange(i, l, u, p) || !!s && oe.helper.isDateInRange(i, l, p, s)), r.toggleClass(ie.focusCell, n && (!c || f) && !a), r.toggleClass(ie.rangeCell, o && !t && !e))
                                })
                            }
                        },
                        refresh: function() {
                            oe.create.calendar()
                        },
                        bind: {
                            events: function() {
                                ue.on("mousedown" + n, oe.event.mousedown),
                                    ue.on("touchstart" + n, oe.event.mousedown),
                                    ue.on("mouseup" + n, oe.event.mouseup),
                                    ue.on("touchend" + n, oe.event.mouseup),
                                    ue.on("mouseover" + n, oe.event.mouseover),
                                    i.length ? (i.on("input" + n, oe.event.inputChange), i.on("focus" + n, oe.event.inputFocus), i.on("blur" + n, oe.event.inputBlur), i.on("click" + n, oe.event.inputClick), i.on("keydown" + n, oe.event.keydown)) : ue.on("keydown" + n, oe.event.keydown)
                            }
                        },
                        unbind: {
                            events: function() {
                                ue.off(n),
                                i.length && i.off(n)
                            }
                        },
                        event: {
                            mouseover: function(e) {
                                var t = se(e.target).data(de.date),
                                    a = 1 === e.buttons;
                                t && oe.set.focusDate(t, !1, !0, a)
                            },
                            mousedown: function(e) {
                                i.length && e.preventDefault(),
                                    f = 0 <= e.type.indexOf("touch");
                                var t = se(e.target).data(de.date);
                                t && oe.set.focusDate(t, !1, !0, !0)
                            },
                            mouseup: function(e) {
                                var t, a, n, o, r, i;
                                oe.focus(),
                                    e.preventDefault(),
                                    e.stopPropagation(),
                                    f = !1,
                                ((a = (t = se(e.target)).parent()).data(de.date) || a.data(de.focusDate) || a.data(de.mode)) && (t = a),
                                    n = t.data(de.date),
                                    o = t.data(de.focusDate),
                                    r = t.data(de.mode),
                                    n ? (i = t.hasClass(ie.today), oe.selectDate(n, i)) : o ? oe.set.focusDate(o) : r && oe.set.mode(r)
                            },
                            keydown: function(e) {
                                var t, a, n, o, r, i, l, d, u, s, p;
                                27 !== e.keyCode && 9 !== e.keyCode || oe.popup("hide"),
                                oe.popup("is visible") && (37 === e.keyCode || 38 === e.keyCode || 39 === e.keyCode || 40 === e.keyCode ? (a = "day" === (t = oe.get.mode()) ? 7 : "hour" === t ? 4 : 3, n = 37 === e.keyCode ? -1 : 38 === e.keyCode ? -a: 39 == e.keyCode ? 1 : a, n *= "minute" === t ? 5 : 1, r = (o = oe.get.focusDate() || oe.get.date() || new Date).getFullYear() + ("year" === t ? n: 0), i = o.getMonth() + ("month" === t ? n: 0), l = o.getDate() + ("day" === t ? n: 0), d = o.getHours() + ("hour" === t ? n: 0), u = o.getMinutes() + ("minute" === t ? n: 0), s = new Date(r, i, l, d, u), "time" === re.type && (s = oe.helper.mergeDateTime(o, s)), oe.helper.isDateInRange(s, t) && oe.set.focusDate(s)) : 13 === e.keyCode && (t = oe.get.mode(), (p = oe.get.focusDate()) && !re.isDisabled(p, t) && oe.selectDate(p), e.preventDefault(), e.stopPropagation())),
                                38 !== e.keyCode && 40 !== e.keyCode || (e.preventDefault(), oe.popup("show"))
                            },
                            inputChange: function() {
                                var e = i.val(),
                                    t = a.date(e, re);
                                oe.set.date(t, !1)
                            },
                            inputFocus: function() {
                                ue.addClass(ie.active)
                            },
                            inputBlur: function() {
                                if (ue.removeClass(ie.active), re.formatInput) {
                                    var e = oe.get.date(),
                                        t = le.datetime(e, re);
                                    i.val(t)
                                }
                            },
                            inputClick: function() {
                                oe.popup("show")
                            }
                        },
                        get: {
                            date: function() {
                                return r.data(de.date) || null
                            },
                            focusDate: function() {
                                return r.data(de.focusDate) || null
                            },
                            startDate: function() {
                                var e = oe.get.calendarModule(re.startCalendar);
                                return (e ? e.get.date() : r.data(de.startDate)) || null
                            },
                            endDate: function() {
                                var e = oe.get.calendarModule(re.endCalendar);
                                return (e ? e.get.date() : r.data(de.endDate)) || null
                            },
                            monthOffset: function() {
                                return r.data(de.monthOffset) || 0
                            },
                            mode: function() {
                                var e = r.data(de.mode) || re.startMode,
                                    t = oe.get.validModes();
                                return 0 <= se.inArray(e, t) ? e: "time" === re.type ? "hour": "month" === re.type ? "month": "year" === re.type ? "year": "day"
                            },
                            validModes: function() {
                                var e = [];
                                return "time" !== re.type && (re.disableYear && "year" !== re.type || e.push("year"), (!re.disableMonth && "year" !== re.type || "month" === re.type) && e.push("month"), 0 <= re.type.indexOf("date") && e.push("day")),
                                0 <= re.type.indexOf("time") && (e.push("hour"), re.disableMinute || e.push("minute")),
                                    e
                            },
                            isTouch: function() {
                                try {
                                    return C.createEvent("TouchEvent"),
                                        !0
                                } catch(e) {
                                    return ! 1
                                }
                            },
                            calendarModule: function(e) {
                                return e ? (e instanceof se || (e = r.parent().children(e).first()), e.data(o)) : null
                            }
                        },
                        set: {
                            date: function(e, t, a) {
                                var n, o, r;
                                return t = !1 !== t,
                                    a = !1 !== a,
                                    e = oe.helper.sanitiseDate(e),
                                    e = oe.helper.dateInRange(e),
                                    n = oe.get.mode(),
                                    o = le.datetime(e, re),
                                (!a || !1 !== re.onChange.call(u, e, o, n)) && (oe.set.focusDate(e), !re.isDisabled(e, n) && ((r = oe.get.endDate()) && e && r < e && oe.set.endDate(M), oe.set.dataKeyValue(de.date, e), void(t && i.length && i.val(o))))
                            },
                            startDate: function(e, t) {
                                e = oe.helper.sanitiseDate(e);
                                var a = oe.get.calendarModule(re.startCalendar);
                                a && a.set.date(e),
                                    oe.set.dataKeyValue(de.startDate, e, t)
                            },
                            endDate: function(e, t) {
                                e = oe.helper.sanitiseDate(e);
                                var a = oe.get.calendarModule(re.endCalendar);
                                a && a.set.date(e),
                                    oe.set.dataKeyValue(de.endDate, e, t)
                            },
                            focusDate: function(e, t, a, n) {
                                var o, r, i, l, d;
                                e = oe.helper.sanitiseDate(e),
                                    e = oe.helper.dateInRange(e),
                                    o = "day" === oe.get.mode(),
                                    r = oe.get.focusDate(),
                                o && e && r && (i = 12 * (e.getFullYear() - r.getFullYear()) + e.getMonth() - r.getMonth()) && (l = oe.get.monthOffset() - i, oe.set.monthOffset(l, !1)),
                                    d = oe.set.dataKeyValue(de.focusDate, e, t),
                                    a = !1 !== a && d && !1 === t || p != n,
                                    p = n,
                                a && oe.update.focus(n)
                            },
                            monthOffset: function(e, t) {
                                var a = Math.max(re.multiMonth, 1);
                                e = Math.max(1 - a, Math.min(0, e)),
                                    oe.set.dataKeyValue(de.monthOffset, e, t)
                            },
                            mode: function(e, t) {
                                oe.set.dataKeyValue(de.mode, e, t)
                            },
                            dataKeyValue: function(e, t, a) {
                                var n = r.data(e),
                                    o = n === t || n <= t && t <= n;
                                return t ? r.data(e, t) : r.removeData(e),
                                (a = !1 !== a && !o) && oe.create.calendar(),
                                    !o
                            }
                        },
                        selectDate: function(e, t) {
                            var a, n, o = oe.get.mode(),
                                r = t || "minute" === o || re.disableMinute && "hour" === o || "date" === re.type && "day" === o || "month" === re.type && "month" === o || "year" === re.type && "year" === o;
                            r ? !(!1 === oe.set.date(e)) && re.closable && (oe.popup("hide"), (a = oe.get.calendarModule(re.endCalendar)) && (a.popup("show"), a.focus())) : (n = "year" === o ? re.disableMonth ? "day": "month": "month" === o ? "day": "day" === o ? "hour": "minute", oe.set.mode(n), "hour" === o || "day" === o && oe.get.date() ? oe.set.date(e) : oe.set.focusDate(e))
                        },
                        changeDate: function(e) {
                            oe.set.date(e)
                        },
                        clear: function() {
                            oe.set.date(M)
                        },
                        popup: function() {
                            return d.popup.apply(d, arguments)
                        },
                        focus: function() {
                            i.length ? i.focus() : ue.focus()
                        },
                        blur: function() {
                            i.length ? i.blur() : ue.blur()
                        },
                        helper: {
                            sanitiseDate: function(e) {
                                return e ? (e instanceof Date || (e = a.date("" + e, re)), isNaN(e.getTime()) ? M: e) : M
                            },
                            dateDiff: function(e, t, a) {
                                a = a || "day";
                                var n = "time" === re.type,
                                    o = "year" === a,
                                    r = o || "month" === a,
                                    i = "minute" === a,
                                    l = i || "hour" === a;
                                return e = new Date(n ? 2e3: e.getFullYear(), n ? 0 : o ? 0 : e.getMonth(), n ? 1 : r ? 1 : e.getDate(), l ? e.getHours() : 0, i ? 5 * Math.floor(e.getMinutes() / 5) : 0),
                                (t = new Date(n ? 2e3: t.getFullYear(), n ? 0 : o ? 0 : t.getMonth(), n ? 1 : r ? 1 : t.getDate(), l ? t.getHours() : 0, i ? 5 * Math.floor(t.getMinutes() / 5) : 0)).getTime() - e.getTime()
                            },
                            dateEqual: function(e, t, a) {
                                return !! e && !!t && 0 === oe.helper.dateDiff(e, t, a)
                            },
                            isDateInRange: function(e, t, a, n) {
                                if (!a && !n) {
                                    var o = oe.get.startDate();
                                    a = o && re.minDate ? new Date(Math.max(o, re.minDate)) : o || re.minDate,
                                        n = re.maxDate
                                }
                                return a = a && new Date(a.getFullYear(), a.getMonth(), a.getDate(), a.getHours(), 5 * Math.ceil(a.getMinutes() / 5)),
                                    !(!e || a && 0 < oe.helper.dateDiff(e, a, t) || n && 0 < oe.helper.dateDiff(n, e, t))
                            },
                            dateInRange: function(e, t, a) {
                                var n, o;
                                return t || a || (t = (n = oe.get.startDate()) && re.minDate ? new Date(Math.max(n, re.minDate)) : n || re.minDate, a = re.maxDate),
                                    t = t && new Date(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours(), 5 * Math.ceil(t.getMinutes() / 5)),
                                    o = "time" === re.type,
                                    e ? t && 0 < oe.helper.dateDiff(e, t, "minute") ? o ? oe.helper.mergeDateTime(e, t) : t: a && 0 < oe.helper.dateDiff(a, e, "minute") ? o ? oe.helper.mergeDateTime(e, a) : a: e: e
                            },
                            mergeDateTime: function(e, t) {
                                return e && t ? new Date(e.getFullYear(), e.getMonth(), e.getDate(), t.getHours(), t.getMinutes()) : t
                            }
                        },
                        setting: function(e, t) {
                            if (oe.debug("Changing setting", e, t), se.isPlainObject(e)) se.extend(!0, re, e);
                            else {
                                if (t === M) return re[e];
                                se.isPlainObject(re[e]) ? se.extend(!0, re[e], t) : re[e] = t
                            }
                        },
                        internal: function(e, t) {
                            return oe.debug("Changing internal", e, t),
                                t === M ? oe[e] : void(se.isPlainObject(e) ? se.extend(!0, oe, e) : oe[e] = t)
                        },
                        debug: function() { ! re.silent && re.debug && (re.performance ? oe.performance.log(arguments) : (oe.debug = Function.prototype.bind.call(console.info, console, re.name + ":"), oe.debug.apply(console, arguments)))
                        },
                        verbose: function() { ! re.silent && re.verbose && re.debug && (re.performance ? oe.performance.log(arguments) : (oe.verbose = Function.prototype.bind.call(console.info, console, re.name + ":"), oe.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            re.silent || (oe.error = Function.prototype.bind.call(console.error, console, re.name + ":"), oe.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, a;
                                re.performance && (a = (t = (new Date).getTime()) - (m || t), m = t, y.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: u,
                                    "Execution Time": a
                                })),
                                    clearTimeout(oe.performance.timer),
                                    oe.performance.timer = setTimeout(oe.performance.display, 500)
                            },
                            display: function() {
                                re.name;
                                var a = 0;
                                m = !1,
                                    clearTimeout(oe.performance.timer),
                                    se.each(y,
                                        function(e, t) {
                                            a += t["Execution Time"]
                                        }),
                                (console.group !== M || console.table !== M) && 0 < y.length && (console.table || se.each(y,
                                    function(e, t) {})),
                                    y = []
                            }
                        },
                        invoke: function(n, e, t) {
                            var o, r, a, i = s;
                            return e = e || b,
                                t = u || t,
                            "string" == typeof n && i !== M && (n = n.split(/[\. ]/), o = n.length - 1, se.each(n,
                                function(e, t) {
                                    var a = e != o ? t + n[e + 1].charAt(0).toUpperCase() + n[e + 1].slice(1) : n;
                                    if (se.isPlainObject(i[a]) && e != o) i = i[a];
                                    else {
                                        if (i[a] !== M) return r = i[a],
                                            !1;
                                        if (!se.isPlainObject(i[t]) || e == o) return i[t] !== M ? r = i[t] : oe.error(l.method, n),
                                            !1;
                                        i = i[t]
                                    }
                                })),
                                se.isFunction(r) ? a = r.apply(t, e) : r !== M && (a = r),
                                se.isArray(g) ? g.push(a) : g !== M ? g = [g, a] : a !== M && (g = a),
                                r
                        }
                    },
                        v ? (s === M && oe.initialize(), oe.invoke(D)) : (s !== M && s.invoke("destroy"), oe.initialize())
                }),
                    g !== M ? g: this
            },
            se.fn.calendar.settings = {
                name: "Calendar",
                namespace: "calendar",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !1,
                type: "datetime",
                firstDayOfWeek: 0,
                constantHeight: !0,
                today: !1,
                closable: !0,
                monthFirst: !0,
                touchReadonly: !0,
                inline: !1,
                on: null,
                initialDate: null,
                startMode: !1,
                minDate: null,
                maxDate: null,
                ampm: !0,
                disableYear: !1,
                disableMonth: !1,
                disableMinute: !1,
                formatInput: !0,
                startCalendar: null,
                endCalendar: null,
                multiMonth: 1,
                popupOptions: {
                    position: "bottom left",
                    lastResort: "bottom left",
                    prefer: "opposite",
                    hideOnScroll: !1
                },
                text: {
                    days: ["S", "M", "T", "W", "T", "F", "S"],
                    months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                    monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                    today: "Today",
                    now: "Now",
                    am: "AM",
                    pm: "PM"
                },
                formatter: {
                    header: function(e, t, a) {
                        return "year" === t ? a.formatter.yearHeader(e, a) : "month" === t ? a.formatter.monthHeader(e, a) : "day" === t ? a.formatter.dayHeader(e, a) : "hour" === t ? a.formatter.hourHeader(e, a) : a.formatter.minuteHeader(e, a)
                    },
                    yearHeader: function(e, t) {
                        var a = 10 * Math.ceil(e.getFullYear() / 10);
                        return a - 9 + " - " + (a + 2)
                    },
                    monthHeader: function(e, t) {
                        return e.getFullYear()
                    },
                    dayHeader: function(e, t) {
                        return t.text.months[e.getMonth()] + " " + e.getFullYear()
                    },
                    hourHeader: function(e, t) {
                        return t.formatter.date(e, t)
                    },
                    minuteHeader: function(e, t) {
                        return t.formatter.date(e, t)
                    },
                    dayColumnHeader: function(e, t) {
                        return t.text.days[e]
                    },
                    datetime: function(e, t) {
                        if (!e) return "";
                        var a = "time" === t.type ? "": t.formatter.date(e, t),
                            n = t.type.indexOf("time") < 0 ? "": t.formatter.time(e, t, !1);
                        return a + ("datetime" === t.type ? " ": "") + n
                    },
                    date: function(e, t) {
                        if (!e) return "";
                        var a = e.getDate(),
                            n = t.text.months[e.getMonth()],
                            o = e.getFullYear();
                        return "year" === t.type ? o: "month" === t.type ? n + " " + o: (t.monthFirst ? n + " " + a: a + " " + n) + ", " + o
                    },
                    time: function(e, t, a) {
                        if (!e) return "";
                        var n = e.getHours(),
                            o = e.getMinutes(),
                            r = "";
                        return t.ampm && (r = " " + (n < 12 ? t.text.am: t.text.pm), n = 0 === n ? 12 : 12 < n ? n - 12 : n),
                        n + ":" + (o < 10 ? "0": "") + o + r
                    },
                    today: function(e) {
                        return "date" === e.type ? e.text.today: e.text.now
                    },
                    cell: function(e, t, a) {}
                },
                parser: {
                    date: function(e, t) {
                        var a, n, o, r, i, l, d, u, s, p, c, f, h, g, m, y, D, v;
                        if (!e) return null;
                        if (0 === (e = ("" + e).trim().toLowerCase()).length) return null;
                        if (u = d = l = i = r = -1, s = M, p = "time" === t.type, c = t.type.indexOf("time") < 0, f = e.split(t.regExp.dateWords), h = e.split(t.regExp.dateNumbers), !c) for (s = 0 <= se.inArray(t.text.am.toLowerCase(), f) || !(0 <= se.inArray(t.text.pm.toLowerCase(), f)) && M, a = 0; a < h.length; a++) if (0 <= (g = h[a]).indexOf(":")) {
                            if (i < 0 || r < 0) for (m = g.split(":"), o = 0; o < Math.min(2, m.length); o++) n = parseInt(m[o]),
                            isNaN(n) && (n = 0),
                                0 === o ? i = n % 24 : r = n % 60;
                            h.splice(a, 1)
                        }
                        if (!p) {
                            for (a = 0; a < f.length; a++) if (! ((y = f[a]).length <= 0)) {
                                for (y = y.substring(0, Math.min(y.length, 3)), n = 0; n < t.text.months.length; n++) if ((D = (D = t.text.months[n]).substring(0, Math.min(y.length, Math.min(D.length, 3))).toLowerCase()) === y) {
                                    d = n + 1;
                                    break
                                }
                                if (0 <= d) break
                            }
                            for (a = 0; a < h.length; a++) if (n = parseInt(h[a]), !isNaN(n) && 59 < n) {
                                u = n,
                                    h.splice(a, 1);
                                break
                            }
                            if (d < 0) for (a = 0; a < h.length; a++) if (o = 1 < a || t.monthFirst ? a: 1 === a ? 0 : 1, n = parseInt(h[o]), !isNaN(n) && 1 <= n && n <= 12) {
                                d = n,
                                    h.splice(o, 1);
                                break
                            }
                            for (a = 0; a < h.length; a++) if (n = parseInt(h[a]), !isNaN(n) && 1 <= n && n <= 31) {
                                l = n,
                                    h.splice(a, 1);
                                break
                            }
                            if (u < 0) for (a = h.length - 1; 0 <= a; a--) if (n = parseInt(h[a]), !isNaN(n)) {
                                n < 99 && (n += 2e3),
                                    u = n,
                                    h.splice(a, 1);
                                break
                            }
                        }
                        if (!c) {
                            if (i < 0) for (a = 0; a < h.length; a++) if (n = parseInt(h[a]), !isNaN(n) && 0 <= n && n <= 23) {
                                i = n,
                                    h.splice(a, 1);
                                break
                            }
                            if (r < 0) for (a = 0; a < h.length; a++) if (n = parseInt(h[a]), !isNaN(n) && 0 <= n && n <= 59) {
                                r = n,
                                    h.splice(a, 1);
                                break
                            }
                        }
                        return r < 0 && i < 0 && l < 0 && d < 0 && u < 0 ? null: (r < 0 && (r = 0), i < 0 && (i = 0), l < 0 && (l = 1), d < 0 && (d = 1), u < 0 && (u = (new Date).getFullYear()), s !== M && (s ? 12 === i && (i = 0) : i < 12 && (i += 12)), (v = new Date(u, d - 1, l, i, r)).getMonth() === d - 1 && v.getFullYear() === u || (v = new Date(u, d, 0, i, r)), isNaN(v.getTime()) ? null: v)
                    }
                },
                onChange: function(e, t, a) {
                    return ! 0
                },
                onShow: function() {},
                onVisible: function() {},
                onHide: function() {},
                onHidden: function() {},
                isDisabled: function(e, t) {
                    return ! 1
                },
                selector: {
                    popup: ".ui.popup",
                    input: "input",
                    activator: "input"
                },
                regExp: {
                    dateWords: /[^A-Za-z\u00C0-\u024F]+/g,
                    dateNumbers: /[^\d:]+/g
                },
                error: {
                    popup: "UI Popup, a required component is not included in this page",
                    method: "The method you called is not defined."
                },
                className: {
                    calendar: "calendar",
                    active: "active",
                    popup: "ui popup",
                    grid: "ui equal width grid",
                    column: "column",
                    table: "ui celled center aligned unstackable table",
                    prev: "prev link",
                    next: "next link",
                    prevIcon: "chevron left icon",
                    nextIcon: "chevron right icon",
                    link: "link",
                    cell: "link",
                    disabledCell: "disabled",
                    adjacentCell: "adjacent",
                    activeCell: "active",
                    rangeCell: "range",
                    focusCell: "focus",
                    todayCell: "today",
                    today: "today link"
                },
                metadata: {
                    date: "date",
                    focusDate: "focusDate",
                    startDate: "startDate",
                    endDate: "endDate",
                    mode: "mode",
                    monthOffset: "monthOffset"
                }
            }
    } (jQuery, window, document);
OSCDefine("web-translate-edit",
    function() {
        var a = function() {
            this._translateEditEl = $(".translate-edit"),
                this._baseTab = $(".base-tab.menu"),
                this._paragraphsContainer = this._translateEditEl.find("#paragraphsContainer"),
                this._paragraphsWrap = this._paragraphsContainer.find(".paragraphs-wrap"),
                this._baseInfoForm = $(".base-info.form"),
                this._addParagraphForm = $(".add-paragraph.form"),
                this._addParagraphContentTextarea = this._addParagraphForm.find("textarea[name=article_detail]")
        };
        return a.prototype = {
            constructor: a,
            hightlight: function() {
                $("pre, pre code").each(function(a, t) {
                    var e, r = $(this),
                        n = r.attr("class") || "",
                        i = n.match(/language-(.*)/);
                    i && 1 < i.length && (e = i[i.length - 1], r.attr("class", "hljs " + e)),
                        hljs.highlightBlock(t)
                })
            },
            initTab: function() {
                this._baseTab.find(".item").tab({
                    onLoad: function(a) {
                        if ("paragraph" === a) {
                            var t = CKEDITOR.instances.article_detail;
                            t && t.focus()
                        }
                    }
                })
            },
            initBaseInfoForm: function() {
                var t = this;
                this._baseInfoForm.find(".ui.checkbox").checkbox(),
                    this._baseInfoForm.find(".pub-time").calendar({
                        type: "date",
                        text: {
                            days: ["日", "一", "二", "三", "四", "五", "六"],
                            months: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
                            monthsShort: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
                            today: "今天",
                            now: "现在",
                            am: "上午",
                            pm: "下午"
                        },
                        formatter: {
                            date: function(a, t) {
                                var e;
                                return a ? (e = function(a) {
                                    return 9 < parseInt(a) ? a + "": "0" + a
                                })(a.getFullYear()) + "-" + e(a.getMonth() + 1) + "-" + e(a.getDate()) : ""
                            }
                        }
                    }),
                    this._baseInfoForm.find(".category.dropdown").dropdown(),
                    this._baseInfoForm.find(".project-name.dropdown").dropdown({
                        allowAdditions: !0,
                        maxSelections: 5,
                        fields: {
                            remoteValues: "results",
                            value: "value",
                            name: "name"
                        },
                        filterRemoteData: !1,
                        apiSettings: {
                            url: page.api_prefix + "/project/list_projects?q={query}",
                            method: "get",
                            dataType: "JSON",
                            cache: !1,
                            throttle: 200,
                            interruptRequests: !0,
                            onResponse: function(a) {
                                var t = [];
                                return 1 === a.code && Array.isArray(a.result) && 0 < a.result.length && (t = a.result.map(function(a) {
                                    return {
                                        name: a.name,
                                        value: a.name
                                    }
                                })),
                                    {
                                        results: t
                                    }
                            }
                        },
                        onNoResults: function(a) {
                            return !! (a && 0 < a.trim().length)
                        }
                    }),
                    this._baseInfoForm.form({
                        inline: !0,
                        keyboardShortcuts: !1,
                        fields: {
                            title_en: {
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入英文标题"
                                }]
                            },
                            title_cn: {
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入中文标题"
                                }]
                            },
                            link_en: {
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入英文链接"
                                }]
                            },
                            ident: {
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入URL标识"
                                }]
                            },
                            category: {
                                rules: [{
                                    type: "empty",
                                    prompt: "请选择分类"
                                }]
                            },
                            pub_time: {
                                rules: [{
                                    type: "empty",
                                    prompt: "请选择发布日期"
                                }]
                            }
                        }
                    }).api({
                        url: page.api_prefix + "/translate/edit_paying",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(a) {
                            $(this).message("hideAll");
                            var t = a.data;
                            return a.data = {
                                id: page.objId,
                                title_en: t.title_en,
                                title_cn: t.title_cn,
                                link_en: t.link_en,
                                ident: t.ident,
                                type: t.type,
                                fee: t.fee,
                                assign: t.assign,
                                category: t.category,
                                prj: t.prj,
                                tags: t.tags,
                                pub_time: t.pub_time,
                                user_name: t.user_name,
                                status: t.status,
                                trans_status: t.trans_status
                            },
                                a
                        },
                        onSuccess: function(a, t, e) {
                            var r, n, i;
                            1 === a.code ? (r = a.result.titleEN || "", n = a.result.url || "", i = "修改成功", r && n && (i = '文章修改成功：<a href="' + n + '" target="_blank">' + r + "</a>"), $(this).message({
                                type: "positive",
                                content: i,
                                disappear: 2e3
                            })) : $(this).message({
                                type: "negative",
                                content: a.message || "修改失败",
                                disappear: 2e3
                            })
                        },
                        onFailure: function(a, t) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试",
                                disappear: 2e3
                            })
                        }
                    }),
                    this._baseInfoForm.find(".check-title-btn").on("click",
                        function() {
                            if (t._baseInfoForm.form("validate field", "title_en")) {
                                var a = t._baseInfoForm.find('input[name="title_en"]').val() || "";
                                $.post(page.api_prefix + "/translate/check_article_title", {
                                        title: a
                                    },
                                    function(a) {
                                        1 === a.code ? $("body").toast({
                                            type: "success",
                                            content: a.message || "文章标题可用"
                                        }) : $("body").toast({
                                            type: "error",
                                            content: a.message || "文章标题已存在"
                                        })
                                    }).fail(function() {
                                    $("body").toast({
                                        type: "error",
                                        content: "网络异常，请稍后再试"
                                    })
                                })
                            }
                        })
            },
            initAddParagraphForm: function() {
                var n = this,
                    a = {
                        height: 300,
                        resize_enabled: !1,
                        removePlugins: "elementspath",
                        uploadUrl: page.api_prefix + "/translate/ckeditor_dialog_img_upload",
                        filebrowserUploadUrl: page.api_prefix + "/translate/ckeditor_dialog_img_upload"
                    },
                    t = function() {
                        var e = CKEDITOR.replace(n._addParagraphContentTextarea[0], a);
                        e.on("instanceReady",
                            function(a) {
                                e.focus()
                            }),
                            e.on("change",
                                function(a) {
                                    n._addParagraphContentTextarea.val(a.editor.getData())
                                }),
                            e.on("fileUploadResponse",
                                function(a) {
                                    setTimeout(function() {
                                            n._addParagraphContentTextarea.val(a.editor.getData())
                                        },
                                        0)
                                }),
                            e.on("mode",
                                function(a) {
                                    if ("source" === this.mode) {
                                        var t = e.editable();
                                        t.attachListener(t, "input",
                                            function() {
                                                n._addParagraphContentTextarea.val(a.editor.getData())
                                            })
                                    }
                                })
                    };
                t(),
                    n._addParagraphForm.form({
                        inline: !0,
                        fields: {
                            article_detail: {
                                identifier: "article_detail",
                                rules: [{
                                    type: "empty",
                                    prompt: "请输入内容"
                                }]
                            }
                        }
                    }).api({
                        url: page.api_prefix + "/translate/add_paragraph",
                        method: "post",
                        serializeForm: !0,
                        beforeSend: function(a) {
                            $(this).message("hideAll");
                            var t = a.data;
                            return a.data = {
                                id: page.objId,
                                article_detail: t.article_detail
                            },
                                a
                        },
                        onSuccess: function(a, t, e) {
                            if (1 === a.code) {
                                $(this).message({
                                    type: "positive",
                                    content: "添加成功",
                                    disappear: 2e3
                                }),
                                    n._translateEditEl.find(".switch-buttons .active.lang-switch-btn").click();
                                var r = CKEDITOR.instances.article_detail;
                                r && (r.setData(""), n._addParagraphContentTextarea.val(""))
                            } else $(this).message({
                                type: "negative",
                                content: a.message || "添加失败",
                                disappear: 2e3
                            })
                        },
                        onFailure: function(a, t) {
                            $(this).message({
                                type: "negative",
                                content: "网络错误，请稍后再试",
                                disappear: 2e3
                            })
                        }
                    })
            },
            initParagraphListPJAX: function() {
                var r = this,
                    n = $(".paragraph-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax("#paragraphsContainer .paragraphs-wrap .pagination a, .lang-switch-btn", "#paragraphsContainer .paragraphs-wrap", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function(a) {
                            $(a.target);
                            "paragraphs-wrap" === a.target.className && n.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(a) {
                            var t, e;
                            $(a.target);
                            "paragraphs-wrap" === a.target.className && (t = a.relatedTarget, (e = $(t).parent()).hasClass("pagination"), $(t).hasClass("lang-switch-btn") && (e.find(".lang-switch-btn").removeClass("active"), $(t).addClass("active")), n.removeClass("active"), $("html, body").stop().animate({
                                    scrollTop: r._paragraphsWrap.offset().top - 120
                                },
                                500, "swing"))
                        })
            },
            initParagraphAction: function() {
                var r = this,
                    e = $(".delete-paragraph.modal").modal({
                        onApprove: function() {
                            var a = $(this).attr("data-paragraph-id"),
                                t = r._paragraphsWrap.find("div.translate-paragraph[data-paragraph-id=" + a + "]"),
                                e = r._paragraphsWrap.find("div.other-translated-wrap[data-paragraph-id=" + a + "]");
                            $.post(page.api_prefix + "/translate/delete_paragraph", {
                                    id: a
                                },
                                function(a) {
                                    1 === a.code ? ($("body").toast({
                                        type: "success",
                                        content: "删除成功"
                                    }), t.fadeOut(function() {
                                        t.remove()
                                    }), e.fadeOut(function() {
                                        e.remove()
                                    })) : $("body").toast({
                                        type: "error",
                                        content: a.message || "删除失败"
                                    })
                                }).fail(function() {
                                $("body").toast({
                                    type: "error",
                                    content: "网络异常，请稍后再试"
                                })
                            })
                        }
                    });
                this._paragraphsContainer.on("click", ".actions a.item.delete-btn",
                    function(a) {
                        var t;
                        a.stopPropagation(),
                            t = $(a.target).parents(".translate-paragraph:eq(0)").attr("data-paragraph-id"),
                            e.attr("data-paragraph-id", t),
                            e.modal("show")
                    })
            },
            initParagraphOtherTranslated: function() {
                var i = this;
                this._paragraphsContainer.on("click", ".show-other-translated-btn",
                    function(a) {
                        var t, e, r, n;
                        if (a.stopPropagation(), e = (t = $(a.target).parents(".translate-paragraph:eq(0)")).attr("data-paragraph-id"), r = t.attr("data-translated-paragraph-id"), !(n = i._paragraphsContainer.find('.other-translated-wrap[data-paragraph-id="' + e + '"]')) || n.length <= 0) return ! 1;
                        "block" === n.css("display") ? n.slideUp() : (n.slideDown(), n.data("load") || $.get("/translate/widgets/_translate_detail_paragraph_chs_others_ajax?pid=" + e + "&ppid=" + r,
                            function(a) {
                                n.html(a),
                                    n.data("load", !0),
                                    i.hightlight()
                            }).fail(function() {
                            $("body").toast({
                                type: "error",
                                content: "网络异常，请稍后再试"
                            }),
                                setTimeout(function() {
                                        n.slideUp()
                                    },
                                    2e3)
                        }))
                    }),
                    this._paragraphsContainer.on("click", ".collapse-other-translated-btn",
                        function(a) {
                            var t, e, r;
                            if (a.stopPropagation(), e = (t = $(a.target).parents(".translate-paragraph:eq(0)")).attr("data-paragraph-id"), t.attr("data-translated-paragraph-id"), !(r = i._paragraphsContainer.find('.other-translated-wrap[data-paragraph-id="' + e + '"]')) || r.length <= 0) return ! 1;
                            "block" === r.css("display") && r.slideUp()
                        })
            },
            register: function() {
                this.initTab(),
                    this.initBaseInfoForm(),
                    this.initAddParagraphForm(),
                    this.initParagraphListPJAX(),
                    this.initParagraphAction(),
                    this.initParagraphOtherTranslated(),
                    this.hightlight()
            }
        },
            a
    });
OSCDefine("web-search",
    function() {
        var a = function() {
            this._searchEl = $(".web-search"),
                this._searchContainerWrap = this._searchEl.find(".search-container-wrap")
        };
        return a.prototype = {
            constructor: a,
            initPJAX: function() {
                var c = this,
                    s = c._searchContainerWrap.find(".search-container-loader");
                $.pjax.defaults.timeout = 1e4,
                    $.pjax.defaults.maxCacheLength = 20,
                    $(document).pjax(".search-container .search-tabs .item, .search-container .search-filter .dropdown .item, .search-container .search-list-wrap .pagination a", ".search-container", {
                        scrollTo: !1
                    }),
                    $(document).on("pjax:send",
                        function() {
                            s.addClass("active")
                        }),
                    $(document).on("pjax:complete",
                        function(a) {
                            var e, t, n, r, i, o;
                            $(a.target);
                            e = a.relatedTarget,
                                n = (t = $(e).parent()).hasClass("pagination"),
                                r = t.hasClass("search-tabs"),
                                s.removeClass("active"),
                                c.optimizeImgShow(),
                                c.initFilterToolBar(),
                            r && (i = $(e).data("scope") || "") && $('#headerNavMenu .search-item input[name="scope"]').val(i),
                            n && (0 <= (o = c._searchContainerWrap.offset().top) - 59 && (o -= 59), $("html, body").stop(!0).animate({
                                    scrollTop: o
                                },
                                500, "swing"))
                        })
            },
            initFilterToolBar: function() {
                this._searchContainerWrap.find(".search-filter .dropdown").dropdown(),
                    this._searchContainerWrap.find(".search-filter .checkbox").checkbox({
                        onChange: function() {
                            var a = $(this).parent(".checkbox"),
                                e = a.data("url");
                            $.pjax({
                                url: e,
                                container: ".search-container",
                                scrollTo: !1
                            })
                        }
                    })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize(110, 70)
                })
            },
            register: function() {
                this.initPJAX(),
                    this.initFilterToolBar()
            }
        },
            a
    });
OSCPlugin("feed-common",
    function() {
        var t = function() {
            this._feedPageCommon = $(".web-feed-common"),
                this._feedSidebar = $(".feed-sidebar"),
                this._feedListContainer = $(".feed-list-container"),
                this.followBtnStatusCode = {
                    UN_FOLLOW: 1,
                    FOLLOWED: 2
                },
                this.followBtnStatusConf = {
                    UN_FOLLOW: {
                        normal: {
                            selfRemoveClass: "basic",
                            selfAddClass: "basic",
                            text: "订阅",
                            icon: "plus icon",
                            textIcon: "+",
                            textIconClass: "plus"
                        },
                        hover: {
                            selfRemoveClass: "basic",
                            selfAddClass: "basic",
                            text: "订阅",
                            icon: "plus icon",
                            textIcon: "+",
                            textIconClass: "plus"
                        }
                    },
                    FOLLOWED: {
                        normal: {
                            selfRemoveClass: "basic",
                            selfAddClass: "",
                            text: "已订阅",
                            icon: "check icon",
                            textIcon: "×",
                            textIconClass: "check"
                        },
                        hover: {
                            selfRemoveClass: "basic",
                            selfAddClass: "",
                            text: "取消订阅",
                            icon: "check icon",
                            textIcon: "×",
                            textIconClass: "check"
                        }
                    }
                },
                this.register()
        };
        return t.prototype = {
            constructor: t,
            setFollowBtnStatus: function(t, o, s) {
                var e, n, a, i, l, c, d, r, f, u;
                switch (o = "normal" === o ? "normal": "hover", e = this, n = s.find(".text"), a = s.find("i"), i = s.find(".text-icon"), t) {
                    case e.followBtnStatusCode.UN_FOLLOW:
                        l = e.followBtnStatusConf.UN_FOLLOW[o],
                            s.attr("data-follow-status", e.followBtnStatusCode.UN_FOLLOW);
                        break;
                    case e.followBtnStatusCode.FOLLOWED:
                        l = e.followBtnStatusConf.FOLLOWED[o],
                            s.attr("data-follow-status", e.followBtnStatusCode.FOLLOWED)
                }
                n.html(l.text),
                    c = l.icon,
                    a.attr("class", c),
                    d = l.textIcon,
                    r = l.textIconClass,
                    i.text(d),
                    i.attr("class", "").addClass("text-icon").addClass(r),
                    f = l.selfRemoveClass,
                    u = l.selfAddClass,
                    s.removeClass(f).addClass(u)
            },
            setFollowBtnCount: function(t, o) {
                var s = o.find(".count"),
                    e = t;
                window.common && "function" == typeof window.common.formatNumberK && (e = window.common.formatNumberK(t)),
                    s.text(e)
            },
            bindFollowBtnHover: function() {
                var s = this;
                $(document).on("mouseenter", ".subscribe-btn",
                    function() {
                        var t = $(this),
                            o = parseInt(t.attr("data-follow-status"));
                        s.setFollowBtnStatus(o, "hover", t)
                    }),
                    $(document).on("mouseleave", ".subscribe-btn",
                        function() {
                            var t = $(this),
                                o = parseInt(t.attr("data-follow-status"));
                            s.setFollowBtnStatus(o, "normal", t)
                        })
            },
            bindFollowBtnClick: function() {
                var f = this;
                $(document).on("click", ".subscribe-btn",
                    function(t) {
                        var o, s, e, n, a, i, l, c, d, r;
                        t.preventDefault(),
                            o = $(this),
                            s = this,
                            e = parseInt(o.attr("data-follow-status")),
                            n = parseInt(o.attr("data-follow-count")),
                            a = o.attr("data-id"),
                            i = o.attr("data-type"),
                            l = $('.subscribe-btn[data-id="' + a + '"][data-type="' + i + '"]'),
                            c = 1 === e ? 2 : 1,
                            d = isNaN(n) ? -1 : n + (1 === c ? -1 : 1),
                            f.setFollowBtnStatus(c, "normal", l),
                            o.attr("data-follow-count", d),
                            r = new CustomEvent("subscribe", {
                                detail: {
                                    id: a,
                                    count: d
                                },
                                bubbles: !0,
                                cancelable: !0
                            }),
                            s.dispatchEvent(r)
                    })
            },
            bindVisitLinkRecord: function() {
                this._feedPageCommon.on("click", "a[data-visit-key]",
                    function() {
                        var t = $(this),
                            o = t.data("visit-key") + "";
                        o && "" !== o && $.post(page.api_prefix + "/feed/readingRecord", {
                                key: o
                            },
                            function(t) {
                                t.code
                            }).fail(function() {})
                    })
            },
            register: function() {
                this.bindFollowBtnHover(),
                    this.bindFollowBtnClick(),
                    this.bindVisitLinkRecord()
            }
        },
            t
    });
OSCDefine("web-feed-index", ["feed-common"],
    function() {
        var e = function() {
            var e = this;
            e._feedEl = $(".web-feed"),
                e._feedListContainerWrap = e._feedEl.find(".feed-list-container-wrap"),
                e._deliveryForm = e._feedEl.find(".delivery-form"),
                e._articleInfiniteScroll = {
                    feedList: new OSCInfiniteScroll({
                        pagePath: ".pagination__next",
                        checkLastPage: !0,
                        containerSelector: "#feedList",
                        itemListSelector: ".feed-list-container",
                        loadMoreBtnSelector: ".load-more-button",
                        statusSelector: ".page-load-status",
                        defaultAutoLoadPageCount: 5,
                        itemSelector: ".item.feed-item",
                        loadOnScroll: !0,
                        onAppend: function() {
                            e.optimizeImgShow()
                        }
                    })
                }
        };
        return e.prototype = {
            constructor: e,
            initArticleInfiniteScroll: function() {
                var e = this;
                e._articleInfiniteScroll.feedList && e._articleInfiniteScroll.feedList.destroy(),
                    e._articleInfiniteScroll.feedList.init()
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize()
                })
            },
            initDeliveryForm: function() {
                var n = this,
                    t = function() {
                        var e = n._deliveryForm.find(".delivery.button"),
                            t = n._deliveryForm.find('input[name="link"]'),
                            i = t.val();
                        return null == i || 0 === i.length ? ($("body").toast({
                            type: "negative",
                            content: "请输入文章链接"
                        }), !1) : /http(s?):\/\//.test(i) ? !!window.common.checkLogin() && (e.addClass("disabled"), void $.post(page.api_prefix + "/feed/addLink", {
                                link: i,
                                userId: page.g_user_id || ""
                            },
                            function(e) {
                                1 === e.code ? ($("body").toast({
                                    type: "positive",
                                    content: "投递成功"
                                }), t.val("")) : $("body").toast({
                                    type: "negative",
                                    content: e.message || "投递失败，请稍后再试"
                                })
                            }).fail(function() {
                            $("body").toast({
                                type: "negative",
                                content: "网络错误，请稍后再试"
                            })
                        }).always(function() {
                            e.removeClass("disabled")
                        })) : ($("body").toast({
                            type: "negative",
                            content: "请输入正确的 URL 地址"
                        }), !1)
                    };
                n._deliveryForm.on("click", ".delivery.button",
                    function() {
                        t()
                    }),
                    n._deliveryForm.keyup(function(e) {
                        13 === e.keyCode && t()
                    })
            },
            bindListRecommendTags: function() {
                this._feedListContainerWrap.on("subscribe",
                    function(e) {
                        var t = e.originalEvent.detail,
                            i = $(e.target),
                            n = i.parents(".card:eq(0)"),
                            o = n.find(".subscribe-info > .text > .count");
                        t && 0 <= t.count && o.text(t.count)
                    })
            },
            initArticleItemMoreAction: function() {
                this._feedListContainerWrap.find(".more.dropdown").dropdown({
                    action: "select"
                }),
                    this._feedListContainerWrap.find(".feed-item .right-action .item.more").popup({
                        position: "bottom right",
                        hoverable: !0,
                        on: "manual",
                        popup: ".popup-dislike-panel"
                    })
            },
            initArticleItemMoreDislikeAction: function() {
                this._feedListContainerWrap.on("click", ".feed-item .extra .dislike.item",
                    function() {
                        var e = $(this).parents(".feed-item:eq(0)");
                        e.attr("data-id"),
                            e.attr("data-key");
                        e.find(".right-action > .item.more").popup("show")
                    })
            },
            register: function() {
                this.initArticleInfiniteScroll(),
                    this.optimizeImgShow(),
                    this.initDeliveryForm(),
                    this.bindListRecommendTags()
            }
        },
            e
    });
OSCPlugin("feed-detail-comments",
    function() {
        return function() {
            var t = {
                    config: {
                        objId: 0,
                        fetchCommentsUrl: "",
                        publishCommentUrl: "",
                        replyCommentUrl: "",
                        deleteCommentUrl: ""
                    },
                    init: function(e) {
                        this._commentsContainer = $("#commentsContainer"),
                            this._commentsWrap = this._commentsContainer.find(".comments-wrap"),
                            this.config = $.isPlainObject(e) ? $.extend(!0, {},
                                this.config, e) : $.extend({},
                                this.config)
                    },
                    loadComments: function() {
                        var t = this;
                        $.get(t.config.fetchCommentsUrl,
                            function(e) {
                                t._commentsWrap.html(e),
                                    t.parseEmoticon()
                            })
                    },
                    initCommentForm: function() {
                        var a = this;
                        a.commentFormVue = new Vue({
                            el: "#commentForm",
                            data: function() {
                                return {
                                    commentMaxLength: 1e3,
                                    commentContent: "",
                                    commentPublishLoading: !1,
                                    tipMessage: {
                                        show: !1,
                                        content: "",
                                        className: ""
                                    },
                                    curEmojiType: "People",
                                    emojiList: [{
                                        type: "People",
                                        items: ["bowtie", "smile", "laughing", "blush", "smiley", "relaxed", "smirk", "heart_eyes", "kissing_heart", "kissing_closed_eyes", "flushed", "relieved", "satisfied", "grin", "wink", "stuck_out_tongue_winking_eye", "stuck_out_tongue_closed_eyes", "grinning", "kissing", "kissing_smiling_eyes", "stuck_out_tongue", "sleeping", "worried", "frowning", "anguished", "open_mouth", "grimacing", "confused", "hushed", "expressionless", "unamused", "sweat_smile", "sweat", "disappointed_relieved", "weary", "pensive", "disappointed", "confounded", "fearful", "cold_sweat", "persevere", "cry", "sob", "joy", "astonished", "scream", "neckbeard", "tired_face", "angry", "rage", "triumph", "sleepy", "yum", "mask", "sunglasses", "dizzy_face", "imp", "smiling_imp", "neutral_face", "no_mouth", "innocent", "alien", "yellow_heart", "blue_heart", "purple_heart", "heart", "green_heart", "broken_heart", "heartbeat", "heartpulse", "two_hearts", "revolving_hearts", "cupid", "sparkling_heart", "sparkles", "star", "star2", "dizzy", "boom", "collision", "anger", "exclamation", "question", "grey_exclamation", "grey_question", "zzz", "dash", "sweat_drops", "notes", "musical_note", "fire", "hankey", "poop", "shit", "+1", "thumbsup", "-1", "thumbsdown", "ok_hand", "punch", "facepunch", "fist", "v", "wave", "hand", "raised_hand", "open_hands", "point_up", "point_down", "point_left", "point_right", "raised_hands", "pray", "point_up_2", "clap", "muscle", "metal", "fu", "walking", "runner", "running", "couple", "family", "two_men_holding_hands", "two_women_holding_hands", "dancer", "dancers", "ok_woman", "no_good", "information_desk_person", "raising_hand", "bride_with_veil", "person_with_pouting_face", "person_frowning", "bow", "couplekiss", "couple_with_heart", "massage", "haircut", "nail_care", "boy", "girl", "woman", "man", "baby", "older_woman", "older_man", "person_with_blond_hair", "man_with_gua_pi_mao", "man_with_turban", "construction_worker", "cop", "angel", "princess", "smiley_cat", "smile_cat", "heart_eyes_cat", "kissing_cat", "smirk_cat", "scream_cat", "crying_cat_face", "joy_cat", "pouting_cat", "japanese_ogre", "japanese_goblin", "see_no_evil", "hear_no_evil", "speak_no_evil", "guardsman", "skull", "feet", "lips", "kiss", "droplet", "ear", "eyes", "nose", "tongue", "love_letter", "bust_in_silhouette", "busts_in_silhouette", "speech_balloon", "thought_balloon", "feelsgood", "finnadie", "goberserk", "godmode", "hurtrealbad", "rage1", "rage2", "rage3", "rage4", "suspect", "trollface"]
                                    },
                                        {
                                            type: "Nature",
                                            items: ["sunny", "umbrella", "cloud", "snowflake", "snowman", "zap", "cyclone", "foggy", "ocean", "cat", "dog", "mouse", "hamster", "rabbit", "wolf", "frog", "tiger", "koala", "bear", "pig", "pig_nose", "cow", "boar", "monkey_face", "monkey", "horse", "racehorse", "camel", "sheep", "elephant", "panda_face", "snake", "bird", "baby_chick", "hatched_chick", "hatching_chick", "chicken", "penguin", "turtle", "bug", "honeybee", "ant", "beetle", "snail", "octopus", "tropical_fish", "fish", "whale", "whale2", "dolphin", "cow2", "ram", "rat", "water_buffalo", "tiger2", "rabbit2", "dragon", "goat", "rooster", "dog2", "pig2", "mouse2", "ox", "dragon_face", "blowfish", "crocodile", "dromedary_camel", "leopard", "cat2", "poodle", "paw_prints", "bouquet", "cherry_blossom", "tulip", "four_leaf_clover", "rose", "sunflower", "hibiscus", "maple_leaf", "leaves", "fallen_leaf", "herb", "mushroom", "cactus", "palm_tree", "evergreen_tree", "deciduous_tree", "chestnut", "seedling", "blossom", "ear_of_rice", "shell", "globe_with_meridians", "sun_with_face", "full_moon_with_face", "new_moon_with_face", "new_moon", "waxing_crescent_moon", "first_quarter_moon", "waxing_gibbous_moon", "full_moon", "waning_gibbous_moon", "last_quarter_moon", "waning_crescent_moon", "last_quarter_moon_with_face", "first_quarter_moon_with_face", "moon", "earth_africa", "earth_americas", "earth_asia", "volcano", "milky_way", "partly_sunny", "octocat", "squirrel"]
                                        },
                                        {
                                            type: "Objects",
                                            items: ["bamboo", "gift_heart", "dolls", "school_satchel", "mortar_board", "flags", "fireworks", "sparkler", "wind_chime", "rice_scene", "jack_o_lantern", "ghost", "santa", "christmas_tree", "gift", "bell", "no_bell", "tanabata_tree", "tada", "confetti_ball", "balloon", "crystal_ball", "cd", "dvd", "floppy_disk", "camera", "video_camera", "movie_camera", "computer", "tv", "iphone", "phone", "telephone", "telephone_receiver", "pager", "fax", "minidisc", "vhs", "sound", "speaker", "mute", "loudspeaker", "mega", "hourglass", "hourglass_flowing_sand", "alarm_clock", "watch", "radio", "satellite", "loop", "mag", "mag_right", "unlock", "lock", "lock_with_ink_pen", "closed_lock_with_key", "key", "bulb", "flashlight", "high_brightness", "low_brightness", "electric_plug", "battery", "calling", "email", "mailbox", "postbox", "bath", "bathtub", "shower", "toilet", "wrench", "nut_and_bolt", "hammer", "seat", "moneybag", "yen", "dollar", "pound", "euro", "credit_card", "money_with_wings", "e-mail", "inbox_tray", "outbox_tray", "envelope", "incoming_envelope", "postal_horn", "mailbox_closed", "mailbox_with_mail", "mailbox_with_no_mail", "package", "door", "smoking", "bomb", "gun", "hocho", "pill", "syringe", "page_facing_up", "page_with_curl", "bookmark_tabs", "bar_chart", "chart_with_upwards_trend", "chart_with_downwards_trend", "scroll", "clipboard", "calendar", "date", "card_index", "file_folder", "open_file_folder", "scissors", "pushpin", "paperclip", "black_nib", "pencil2", "straight_ruler", "triangular_ruler", "closed_book", "green_book", "blue_book", "orange_book", "notebook", "notebook_with_decorative_cover", "ledger", "books", "bookmark", "name_badge", "microscope", "telescope", "newspaper", "football", "basketball", "soccer", "baseball", "tennis", "8ball", "rugby_football", "bowling", "golf", "mountain_bicyclist", "bicyclist", "horse_racing", "snowboarder", "swimmer", "surfer", "ski", "spades", "hearts", "clubs", "diamonds", "gem", "ring", "trophy", "musical_score", "musical_keyboard", "violin", "space_invader", "video_game", "black_joker", "flower_playing_cards", "game_die", "dart", "mahjong", "clapper", "memo", "pencil", "book", "art", "microphone", "headphones", "trumpet", "saxophone", "guitar", "shoe", "sandal", "high_heel", "lipstick", "boot", "shirt", "tshirt", "necktie", "womans_clothes", "dress", "running_shirt_with_sash", "jeans", "kimono", "bikini", "ribbon", "tophat", "crown", "womans_hat", "mans_shoe", "closed_umbrella", "briefcase", "handbag", "pouch", "purse", "eyeglasses", "fishing_pole_and_fish", "coffee", "tea", "sake", "baby_bottle", "beer", "beers", "cocktail", "tropical_drink", "wine_glass", "fork_and_knife", "pizza", "hamburger", "fries", "poultry_leg", "meat_on_bone", "spaghetti", "curry", "fried_shrimp", "bento", "sushi", "fish_cake", "rice_ball", "rice_cracker", "rice", "ramen", "stew", "oden", "dango", "egg", "bread", "doughnut", "custard", "icecream", "ice_cream", "shaved_ice", "birthday", "cake", "cookie", "chocolate_bar", "candy", "lollipop", "honey_pot", "apple", "green_apple", "tangerine", "lemon", "cherries", "grapes", "watermelon", "strawberry", "peach", "melon", "banana", "pear", "pineapple", "sweet_potato", "eggplant", "tomato", "corn"]
                                        },
                                        {
                                            type: "Places",
                                            items: ["house", "house_with_garden", "school", "office", "post_office", "hospital", "bank", "convenience_store", "love_hotel", "hotel", "wedding", "church", "department_store", "european_post_office", "city_sunrise", "city_sunset", "japanese_castle", "european_castle", "tent", "factory", "tokyo_tower", "japan", "mount_fuji", "sunrise_over_mountains", "sunrise", "stars", "statue_of_liberty", "bridge_at_night", "carousel_horse", "rainbow", "ferris_wheel", "fountain", "roller_coaster", "ship", "speedboat", "boat", "sailboat", "rowboat", "anchor", "rocket", "airplane", "helicopter", "steam_locomotive", "tram", "mountain_railway", "bike", "aerial_tramway", "suspension_railway", "mountain_cableway", "tractor", "blue_car", "oncoming_automobile", "car", "red_car", "taxi", "oncoming_taxi", "articulated_lorry", "bus", "oncoming_bus", "rotating_light", "police_car", "oncoming_police_car", "fire_engine", "ambulance", "minibus", "truck", "train", "station", "train2", "bullettrain_front", "bullettrain_side", "light_rail", "monorail", "railway_car", "trolleybus", "ticket", "fuelpump", "vertical_traffic_light", "traffic_light", "warning", "construction", "beginner", "atm", "slot_machine", "busstop", "barber", "hotsprings", "checkered_flag", "crossed_flags", "izakaya_lantern", "moyai", "circus_tent", "performing_arts", "round_pushpin", "triangular_flag_on_post", "jp", "kr", "cn", "us", "fr", "es", "it", "ru", "gb", "uk", "de"]
                                        },
                                        {
                                            type: "Symbols",
                                            items: ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "keycap_ten", "1234", "zero", "hash", "symbols", "arrow_backward", "arrow_down", "arrow_forward", "arrow_left", "capital_abcd", "abcd", "abc", "arrow_lower_left", "arrow_lower_right", "arrow_right", "arrow_up", "arrow_upper_left", "arrow_upper_right", "arrow_double_down", "arrow_double_up", "arrow_down_small", "arrow_heading_down", "arrow_heading_up", "leftwards_arrow_with_hook", "arrow_right_hook", "left_right_arrow", "arrow_up_down", "arrow_up_small", "arrows_clockwise", "arrows_counterclockwise", "rewind", "fast_forward", "information_source", "ok", "twisted_rightwards_arrows", "repeat", "repeat_one", "new", "top", "up", "cool", "free", "ng", "cinema", "koko", "signal_strength", "u5272", "u5408", "u55b6", "u6307", "u6708", "u6709", "u6e80", "u7121", "u7533", "u7a7a", "u7981", "sa", "restroom", "mens", "womens", "baby_symbol", "no_smoking", "parking", "wheelchair", "metro", "baggage_claim", "accept", "wc", "potable_water", "put_litter_in_its_place", "secret", "congratulations", "m", "passport_control", "left_luggage", "customs", "ideograph_advantage", "cl", "sos", "id", "no_entry_sign", "underage", "no_mobile_phones", "do_not_litter", "non-potable_water", "no_bicycles", "no_pedestrians", "children_crossing", "no_entry", "eight_spoked_asterisk", "sparkle", "eight_pointed_black_star", "heart_decoration", "vs", "vibration_mode", "mobile_phone_off", "chart", "currency_exchange", "aries", "taurus", "gemini", "cancer", "leo", "virgo", "libra", "scorpius", "sagittarius", "capricorn", "aquarius", "pisces", "ophiuchus", "six_pointed_star", "negative_squared_cross_mark", "a", "b", "ab", "o2", "diamond_shape_with_a_dot_inside", "recycle", "end", "back", "on", "soon", "clock1", "clock130", "clock10", "clock1030", "clock11", "clock1130", "clock12", "clock1230", "clock2", "clock230", "clock3", "clock330", "clock4", "clock430", "clock5", "clock530", "clock6", "clock630", "clock7", "clock730", "clock8", "clock830", "clock9", "clock930", "heavy_dollar_sign", "copyright", "registered", "tm", "x", "heavy_exclamation_mark", "bangbang", "interrobang", "o", "heavy_multiplication_x", "heavy_plus_sign", "heavy_minus_sign", "heavy_division_sign", "white_flower", "100", "heavy_check_mark", "ballot_box_with_check", "radio_button", "link", "curly_loop", "wavy_dash", "part_alternation_mark", "trident", "black_small_square", "white_small_square", "black_medium_small_square", "white_medium_small_square", "black_medium_square", "white_medium_square", "black_large_square", "white_large_square", "white_check_mark", "black_square_button", "white_square_button", "black_circle", "white_circle", "red_circle", "large_blue_circle", "large_blue_diamond", "large_orange_diamond", "small_blue_diamond", "small_orange_diamond", "small_red_triangle", "small_red_triangle_down", "shipit"]
                                        }]
                                }
                            },
                            computed: {
                                curEmojiItems: function() {
                                    for (var e = 0,
                                             t = this.emojiList.length; e < t; e++) if (this.emojiList[e].type === this.curEmojiType) return this.emojiList[e].items;
                                    return this.emojiList[0].items
                                },
                                commentContentIsEmpty: function() {
                                    return 0 === this.commentContent.length
                                },
                                commentCountText: function() {
                                    return this.commentContent.length + "/" + this.commentMaxLength
                                }
                            },
                            methods: {
                                insertEmoji: function(e) {
                                    this.clearMessage();
                                    var t = ":" + e + ":";
                                    this.insertContent(t),
                                        $(this.$refs.showEmojiBox).popup("hide")
                                },
                                insertProject: function() {
                                    var e, t, o;
                                    this.clearMessage(),
                                        e = "#此处输入软件#",
                                    this.insertContent(e) && (o = (t = selectRange.of(this.$refs.commentTextarea)).getCurPos(), t.setSelectText(o - (e.length - 1), o - 1))
                                },
                                publishComment: function() {
                                    var n, e;
                                    if (! (n = this).tweetPublishLoading) if (n.clearMessage(), n.commentContentIsEmpty) n.showMessage("error", "内容不能为空", 2e3);
                                    else if (n.commentContent.length > n.commentMaxLength) n.showMessage("error", "最多只能输入" + n.commentMaxLength + "个字符！", 2e3);
                                    else {
                                        if (!window.common.checkLogin()) return ! 1;
                                        n.commentPublishLoading = !0,
                                            e = {
                                                articleKey: page.articleKey || "",
                                                content: n.commentContent
                                            },
                                            $.post(a.config.publishCommentUrl, e,
                                                function(e) {
                                                    var t, o;
                                                    1 === e.code ? (n.commentContent = "", a.loadComments(), t = $(".float-menu .comment-btn"), e.result && void 0 !== e.result.replyCount && (o = e.result.replyCount, $("[data-article-reply-count]").html(o), t.attr("title", "共有 " + o + " 条评论")), t.find(".icon").removeClass("outline"), $("html, body").stop().animate({
                                                            scrollTop: a._commentsWrap.offset().top - 80
                                                        },
                                                        500, "swing")) : n.showMessage("error", e.message || "发布失败", 2e3)
                                                }).fail(function() {
                                                n.showMessage("error", "网络错误，请稍后再试！", 2e3)
                                            }).always(function() {
                                                n.commentPublishLoading = !1
                                            })
                                    }
                                },
                                commentContentOnKeyDown: function(e) { (e.metaKey || e.ctrlKey) && 13 == e.keyCode && this.publishComment()
                                },
                                insertContent: function(e) {
                                    return ! this.commentPublishLoading && (this.commentContent.length >= this.commentMaxLength || this.commentContent.length + e.length > this.commentMaxLength ? void this.showMessage("error", "最多只能输入" + this.commentMaxLength + "个字符！", 2e3) : (selectRange.of(this.$refs.commentTextarea).insertAfterText(e), this.commentContent = this.$refs.commentTextarea.value, !0))
                                },
                                showMessage: function(e, t, o) {
                                    var n, a = this;
                                    a.tipMessage.className = "success" === e ? "positive": "negative",
                                        a.tipMessage.content = t,
                                        n = parseInt(o) || 0,
                                        a.tipMessage.show = !0,
                                    0 < n && setTimeout(function() {
                                            a.clearMessage()
                                        },
                                        n)
                                },
                                clearMessage: function() {
                                    var e = this;
                                    e.tipMessage.className = "",
                                        e.tipMessage.content = "",
                                        e.tipMessage.show = !1
                                }
                            }
                        }),
                            $("#commentForm").find(".comment-form .toolbox > .item[data-popup]").each(function(e, t) {
                                var o = $(t),
                                    n = $(o).parent(),
                                    a = n.find(".toolbox-popup." + o.attr("data-popup"));
                                o.popup({
                                    position: "bottom left",
                                    popup: a,
                                    on: "toolbox-picture" === o.attr("data-popup") ? "manual": "click",
                                    exclusive: !0
                                })
                            })
                    },
                    initCommentDeleteModal: function() {
                        var s = this,
                            o = $(".delete-comment.modal");
                        o.modal({
                            onDeny: function() {
                                var e = $(this).attr("data-comment-id"),
                                    r = s._commentsWrap.find("div.comment[data-comment-id=" + e + "]"),
                                    t = r.attr("data-comment-user-id");
                                $.post(s.config.deleteCommentUrl, {
                                        articleKey: page.articleKey || "",
                                        commentId: e,
                                        userId: t
                                    },
                                    function(e) {
                                        var t, o, n, a, i;
                                        1 === e.code ? ($("body").toast({
                                            type: "success",
                                            content: "删除成功"
                                        }), r.fadeOut(function() {
                                            r.remove()
                                        }), o = (t = s._commentsWrap.find("> .header span")).text(), n = $("[data-article-reply-count]"), a = $(".float-menu .comment-btn"), o ? (i = parseInt(o) - (1 + r.find("div.comment").length), t.text(i), n.html(i), a.attr("title", "共有 " + i + " 条评论")) : (t.text(0), n.html(0), a.attr("title", "共有 0 条评论")), e.result && void 0 !== e.result.selfCommentCount && e.result.selfCommentCount <= 0 && a.find(".icon").addClass("outline")) : $("body").toast({
                                            type: "error",
                                            content: e.message || "删除失败"
                                        })
                                    })
                            }
                        }),
                            s._commentsWrap.on("click", ".actions a.remove",
                                function(e) {
                                    var t;
                                    e.stopPropagation(),
                                        t = $(e.target).parents(".comment:eq(0)").attr("data-comment-id"),
                                        o.attr("data-comment-id", t),
                                        o.modal("show")
                                })
                    },
                    initReplyCommentModal: function() {
                        var i = this,
                            r = $(".reply-comment.modal"),
                            s = $("#replyCommentForm");
                        r.modal({
                            onShow: function() {
                                var e, t;
                                s.form("reset"),
                                    s.message("hideAll"),
                                    e = $(this).attr("data-comment-user-id") || -1,
                                    t = $(this).attr("data-comment-id") || -1,
                                    s.find("input[name=reply_id]").val(e + "_" + t)
                            },
                            onApprove: function() {
                                return s.message("hideAll"),
                                    s.form("submit"),
                                    !1
                            }
                        }),
                            s.form({
                                inline: !0,
                                fields: {
                                    content: {
                                        rules: [{
                                            type: "empty",
                                            prompt: "请输入评论内容"
                                        },
                                            {
                                                type: "maxLength[1000]",
                                                prompt: "内容长度不能超过 {ruleValue} 个字"
                                            }]
                                    }
                                }
                            }).api({
                                url: i.config.replyCommentUrl,
                                method: "post",
                                serializeForm: !0,
                                beforeSend: function(e) {
                                    $(this).message("hideAll");
                                    var t = e.data;
                                    return e.data = {
                                        articleKey: page.articleKey || "",
                                        referId: t.referId,
                                        content: t.content
                                    },
                                        e
                                },
                                onSuccess: function(e, t, o) {
                                    var n, a;
                                    1 === e.code ? ($(this).message({
                                        type: "positive",
                                        content: "评论回复成功"
                                    }), s.form("reset"), i.loadComments(), n = $(".float-menu .comment-btn"), e.result && void 0 !== e.result.replyCount && (a = e.result.replyCount, $("[data-article-reply-count]").html(a), n.attr("title", "共有 " + a + " 条评论")), n.find(".icon").removeClass("outline"), setTimeout(function() {
                                            r.modal("hide")
                                        },
                                        2e3)) : $(this).message({
                                        type: "negative",
                                        content: e.message || "回复失败"
                                    })
                                },
                                onFailure: function(e, t) {
                                    $(this).message({
                                        type: "negative",
                                        content: "网络错误，请稍后再试"
                                    })
                                }
                            }),
                            r.on("keydown",
                                function(e) { (e.metaKey || e.ctrlKey) && 13 === e.keyCode && r.find(".positive.button").click()
                                }),
                            i._commentsWrap.on("click", ".actions a.reply",
                                function(e) {
                                    var t, o, n;
                                    if (e.stopPropagation(), !window.common.checkLogin()) return ! 1;
                                    o = (t = $(e.target).parents(".comment:eq(0)")).attr("data-comment-user-id"),
                                        n = t.attr("data-comment-id"),
                                        r.attr("data-comment-user-id", o),
                                        r.attr("data-comment-id", n),
                                        r.modal("show")
                                })
                    },
                    bindReplyBtn: function() {
                        var r = this;
                        r._commentsWrap.on("click", ".actions a.reply",
                            function(e) {
                                var n, a, i, t;
                                return e.stopPropagation(),
                                !!window.common.checkLogin() && (n = $(e.target).parents(".comment:eq(0)"), a = n.attr("data-comment-user-id"), i = n.attr("data-comment-id"), 0 < n.find("[data-rely-comment-form]").length ? ((t = n.find("[data-rely-comment-form]").get(0)).vueInstance && t.vueInstance.focus(), !1) : ($("[data-rely-comment-form]").each(function(e, t) {
                                    var o = $(t);
                                    t.vueInstance && t.vueInstance.$destroy(),
                                        o.remove()
                                }), void(0 === $('[data-reply-comment-form][data-comment-id="' + i + '"]').length && !0 !== window.oscReplyCommentFormLoading && (window.oscReplyCommentFormLoading = !0, $.get("/widgets/comments_reply_form",
                                    function(e) {
                                        var t, o = document.createElement("div");
                                        o.innerHTML = e,
                                            $(o).find("[data-reply-comment-form]").attr("data-comment-id", i),
                                            n.children(".content").append(o),
                                            (t = new OSCCommentForm({
                                                commentFormSelector: "#replyCommentForm",
                                                commentsWrapEl: r._commentsWrap,
                                                toggleLoadComments: function() {
                                                    r.loadComments()
                                                },
                                                url: r.config.replyCommentUrl,
                                                params: {
                                                    articleKey: page.articleKey || "",
                                                    type: page.articleType || "",
                                                    referId: i,
                                                    reAuthorId: a
                                                },
                                                contentField: "content"
                                            })).init(),
                                            t.focus()
                                    }).always(function() {
                                    window.oscReplyCommentFormLoading = !1
                                })))))
                            })
                    },
                    initCommentsListPJAX: function() {
                        var e = this,
                            t = $(".comments-loader");
                        $.pjax.defaults.timeout = 1e4,
                            $.pjax.defaults.maxCacheLength = 20,
                            $(document).pjax(".pagination a", "#commentsContainer .comments-wrap", {
                                scrollTo: !1
                            }),
                            $(document).on("pjax:send",
                                function() {
                                    t.addClass("active")
                                }),
                            $(document).on("pjax:complete",
                                function() {
                                    e.parseEmoticon(),
                                        t.removeClass("active"),
                                        $("html, body").stop().animate({
                                                scrollTop: e._commentsWrap.offset().top - 80
                                            },
                                            500, "swing")
                                })
                    },
                    parseEmoticon: function() {
                        $(function() {
                            $("[data-emoji-render]").emoticon()
                        })
                    },
                    initCommentLike: function() {
                        this._commentsWrap.on("click", ".actions a.like[data-comment-like-btn]",
                            function(e) {
                                var a, t, i, r, s;
                                if (e.stopPropagation(), !window.common.checkLogin()) return ! 1; (t = (a = $(this)).parents(".comment:eq(0)")).attr("data-comment-user-id"),
                                    i = t.attr("data-comment-id"),
                                    r = a.find("span"),
                                    s = a.hasClass("active"),
                                    $.post(page.api_prefix + "/feed/commentVote", {
                                            commentId: i
                                        },
                                        function(e) {
                                            var t, o, n;
                                            1 === e.code ? (t = !s, o = 0, e.result && e.result.vote && (o = e.result.vote), n = $('[data-comment-like-btn][data-comment-id="' + i + '"]'), t ? (a.addClass("active"), a.find(".like.icon").removeClass("outline"), n.addClass("active"), n.find(".like.icon").removeClass("outline")) : (a.removeClass("active"), a.find(".like.icon").addClass("outline"), n.removeClass("active"), n.find(".like.icon").addClass("outline")), r.text(o), $('[data-comment-like-count][data-comment-id="' + i + '"]').text(o)) : $("body").toast({
                                                type: "error",
                                                content: e.message || "点赞失败"
                                            })
                                        })
                            })
                    }
                },
                e = new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js"],
                    function() {
                        var e = window.page;
                        t.init({
                            objId: e.objId,
                            fetchCommentsUrl: e.fetchCommentsUrl,
                            publishCommentUrl: e.publishCommentUrl,
                            replyCommentUrl: e.replyCommentUrl,
                            deleteCommentUrl: e.deleteCommentUrl
                        }),
                            t.initCommentForm(),
                            t.initCommentDeleteModal(),
                            t.bindReplyBtn(),
                            t.initCommentsListPJAX(),
                            t.parseEmoticon(),
                            t.initCommentLike()
                    });
            e.loadFiles()
        }
    });
OSCDefine("web-feed-detail", ["feed-common", "feed-detail-comments"],
    function() {
        var e = function() {
            this._feedDetailEl = $(".feed-detail")
        };
        return e.prototype = {
            constructor: e,
            shareMenu: function() {
                this._feedDetailEl.find(".share.dropdown").dropdown()
            },
            hightlight: function() {
                $("pre code").each(function(e, t) {
                    var i, n = $(this),
                        o = n.attr("class") || "",
                        l = o.match(/language-(.*)/);
                    l && 1 < l.length && (i = l[l.length - 1], n.attr("class", "hljs " + i)),
                        hljs.highlightBlock(t)
                })
            },
            initNewsInfiniteScroll: function() {
                var t, e = this,
                    i = {
                        relArticleList: 1,
                        newArticleList: 1
                    },
                    n = {
                        relArticleList: new OSCInfiniteScroll({
                            pagePath: ".rel-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#relArticleList",
                            itemListSelector: ".news-detail-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 0,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !1,
                            onAppend: function() {
                                e.optimizeImgShow()
                            }
                        }),
                        newArticleList: new OSCInfiniteScroll({
                            pagePath: ".news-pagination.pagination__next",
                            checkLastPage: !0,
                            containerSelector: "#newArticleList",
                            itemListSelector: ".news-detail-list-container",
                            loadMoreBtnSelector: ".load-more-button",
                            statusSelector: ".page-load-status",
                            defaultAutoLoadPageCount: 0,
                            itemSelector: ".item.news-item",
                            loadOnScroll: !1,
                            onAppend: function() {
                                e.optimizeImgShow()
                            }
                        })
                    };
                n.relArticleList.init(),
                    t = "relArticleList",
                    $(".feedDetail-tab.menu .item").tab({
                        onLoad: function(e) {
                            t !== e && (n[t]._infScroll && (i[t] = n[t]._infScroll.pageIndex), n[t].destroy(), n[e].init(), n[e]._infScroll && (n[e]._infScroll.pageIndex = i[e]), t = e)
                        }
                    })
            },
            optimizeImgShow: function() {
                $(function() {
                    $("[data-img-render]").imgOptimize()
                })
            },
            register: function() {
                this.shareMenu(),
                    this.hightlight(),
                    this.initNewsInfiniteScroll(),
                    this.optimizeImgShow()
            }
        },
            e
    });